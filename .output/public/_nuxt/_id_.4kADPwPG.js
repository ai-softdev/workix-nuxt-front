import{b as M,e as C}from"./entry.Bl3TfwwA.js";import{u as B}from"./index.DnGcLc5s.js";import{_ as f}from"./TheBreadcrumbs.vue.CMLt84UH.js";import{u as E}from"./companies.DlNOYX_2.js";import{_ as D}from"./TheSearch.vue.DFN9Yi6w.js";import{_ as I}from"./nuxt-link.DOeKP-C6.js";import{u as S}from"./auth.C-kg6DCt.js";import{j,N as r,P as _,V as d,Z as e,_ as t,u as i,O as m,a2 as L,w as H,a8 as N,$ as c,L as l,J as $,a3 as y}from"./swiper-vue.CGVHF6NK.js";import{_ as V}from"./TheTextContent.vue.s8qy9Ijc.js";import{_ as h}from"./TheButton.vue.DTxIZ_aw.js";import{_ as W}from"./TheModal.vue.C2BTwYDA.js";import{T as A}from"./TheSceleton.BVtskP3L.js";import"./nuxt-storage.LTSgK-Sl.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const G=""+globalThis.__publicAssetsURL("icons/delete.svg"),O={class:"flex items-center gap-x-4 border-r max-sm:border-none max-sm:justify-center"},T=["src"],Z={class:"font-bold max-xl:text-center"},R={class:"flex flex-col items-center justify-center border-r max-[900px]:border-none"},U={key:0,class:"text-lg font-medium mb-2"},q={key:1,class:"text-lg font-medium mb-2"},F={class:"text-center flex flex-col gap-y-2"},J={key:0,class:"text-sm text-mediumGray"},P={class:"text-mediumGray text-sm"},z={class:"flex items-center justify-between gap-5 max-[900px]:justify-start max-[900px]:border-r max-sm:border-none max-sm:justify-center"},K={class:"text-center pr-6 pl-8 max-[900px]:pr-0"},Q={class:"font-medium"},X=e("h2",{class:"text-mediumGray text-sm"},"00.00.0000",-1),Y=e("div",{class:"max-[900px]:hidden h-full border-l flex items-center justify-center pl-8"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),ee=e("div",{class:"hidden h-full max-[900px]:flex items-center justify-center"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),te=j({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(n){const o=S();return(x,g)=>{const p=I;return r(),_(p,{to:`/base/users/${n.userItem.id}`,class:"department__item transition-all grid grid-cols-3 max-[900px]:grid-cols-2 max-sm:grid-cols-1 gap-4 hover:shadow-departmentCard border bg-whiteLilia hover:bg-white hover:border-golden dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-5 rounded-3xl cursor-pointer"},{default:d(()=>{var s,a;return[e("div",O,[e("img",{class:"w-14 h-14 rounded-full shadow",src:n.userItem.photo},null,8,T),e("h2",Z,t(n.userItem.first_name+" "+n.userItem.last_name),1)]),e("div",R,[((s=i(o).user.role)==null?void 0:s.name_en)==="admin"?(r(),m("p",U,t(x.$t("Роль | Должность")),1)):(r(),m("p",q,t(x.$t("Должность")),1)),e("div",F,[((a=i(o).user.role)==null?void 0:a.name_en)==="admin"?(r(),m("h2",J,"("+t(n.userItem.role)+")",1)):L("",!0),e("h2",P,t(n.userItem.position),1)])]),e("div",z,[e("div",K,[e("h2",Q,t(x.$t("Дата регистрации")),1),X]),Y]),ee]}),_:1},8,["to"])}}}),se={class:"flex items-center gap-4 max-sm:flex-col max-sm:items-start"},oe=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 8H1M1 8L8 15M1 8L8 1",stroke:"#7D7D7D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ne={class:"flex items-center flex-wrap gap-x-3"},re=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),ae=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),ie={class:"mt-8 flex items-center gap-4 justify-between max-[680px]:flex-col max-[680px]:items-start max-[680px]:gap-5"},le={class:"dark:text-white text-3xl font-bold"},de=e("img",{src:G,alt:"delete-button"},null,-1),me={class:"flex items-center gap-x-10 mt-8"},ce={class:"flex items-center w-11/12 max-sm:w-full gap-x-10"},ue={class:"text-center font-bold max-sm:w-9/12 max-sm:mx-auto"},xe={class:"text-center text-lg max-sm:text-sm w-7/12 mx-auto my-10 dark:text-white break-words max-sm:w-full"},pe={class:"text-redOrange"},fe={class:"!text-base nt-2"},he={class:"flex justify-center gap-3 max-sm:flex-col"},_e={class:"flex gap-x-10 w-full mt-8 max-[1200px]:flex-col max-[1200px]:gap-3"},ge={key:0,class:"flex max-[1200px]:order-1 w-full gap-y-4 flex-col"},we={key:1,class:"w-full max-[1200px]:order-1 flex flex-col items-center justify-center gap-4 p-6 rounded-3xl shadow-departmentInfo bg-white"},be={key:1,class:"text-gray-500 text-center py-4"},ve={class:"w-3/12 max-[1200px]:w-full bg-white p-6 rounded-3xl h-fit shadow-departmentInfo"},ke=e("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 15.5V11.5M11 7.5H11.01M21 11.5C21 17.0228 16.5228 21.5 11 21.5C5.47715 21.5 1 17.0228 1 11.5C1 5.97715 5.47715 1.5 11 1.5C16.5228 1.5 21 5.97715 21 11.5Z",stroke:"#2A2A2A","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1),$e={class:"flex items-center justify-between mt-8"},Ae=j({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(n){const o=E(),x=M(),g=C();function p(){g.back()}return H(()=>{o.loadDepartment({id:x.params.id})}),N(()=>{B({title:`${o.current_department.name}`})}),(s,a)=>{var w,b,v,k;return r(),m("div",null,[e("div",se,[e("button",{onClick:p,class:"px-6 py-2 rounded-[30px] border-2 font-bold text-mediumGray bg-white flex items-center gap-2"},[oe,c(" "+t(s.$t("Назад")),1)]),e("div",ne,[l(f,{"breadcrumb-link":"/base/companies"},{default:d(()=>[c(t(s.$t("Компания")),1)]),_:1}),re,l(f,{"breadcrumb-link":"/base/companies/department"},{default:d(()=>[c(t(s.$t("Департаменты")),1)]),_:1}),ae,l(f,null,{default:d(()=>[c(t(i(o).get_department.name),1)]),_:1})])]),e("div",ie,[e("p",le,t(i(o).get_department.name),1),l(h,{type:"danger",class:"px-10 py-2 !bg-whiteSmoke !border !border-gainsboro rounded-full flex items-center gap-3 !text-sunset",onClick:a[0]||(a[0]=u=>n.showWarning=!0)},{default:d(()=>[de,c(" "+t(s.$t("Удалить отдел")),1)]),_:1})]),e("div",me,[e("div",ce,[l(D,{class:"w-3/12 max-[900px]:w-full"})]),n.showWarning?(r(),_(W,{key:0,onShowModal:a[3]||(a[3]=u=>n.showWarning=!n.showWarning)},{default:d(()=>[e("div",null,[e("p",ue,t(s.$t("Вы действительно хотите удалить департамент?")),1),e("div",xe,[e("p",pe,t(s.$t("Предупреждение!")),1),e("p",fe,t(s.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",he,[l(h,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-black hover:!bg-gray-200 gap-3 py-2 !bg-porcelain !border transition-all ease-in-out duration-300",t:"button",onClick:a[1]||(a[1]=u=>n.showWarning=!1)},{default:d(()=>[c(t(s.$t("Отменить")),1)]),_:1}),l(h,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-white gap-3 py-2 !bg-redOrange !border transition-all ease-in-out duration-300",t:"submit",onClick:a[2]||(a[2]=u=>i(o).deleteDepartment({id:i(o).get_department.id},s.$router))},{default:d(()=>[c(t(s.$t("Удалить")),1)]),_:1})])]),_:1})):L("",!0)]),e("div",_e,[(w=i(o).get_department)!=null&&w.id?(r(),m("div",we,[(v=(b=i(o).get_department)==null?void 0:b.participants)!=null&&v.length?(r(!0),m($,{key:0},y(i(o).get_department.participants,u=>(r(),_(te,{key:u.id,"user-item":u},null,8,["user-item"]))),128)):(r(),m("p",be,t(s.$t("Пользователей пока нет")),1))])):(r(),m("div",ge,[(r(),m($,null,y(5,u=>l(A,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",ve,[l(V,null,{default:d(()=>[ke,c(" "+t(s.$t("Информация")),1)]),_:1}),e("div",$e,[e("p",null,t(s.$t("Сотрудников"))+": ",1),e("p",null,t((k=i(o).get_department.participants)==null?void 0:k.length),1)])])])])}}});export{Ae as default};
