import{u as z}from"./index.CS9ciTbY.js";import{u as M}from"./users.BpilM9vn.js";import{F as A,b as W}from"./entry.DFvbdyFJ.js";import{u as N}from"./auth.DB8Ro1qz.js";import{u as T}from"./companies.DqnGCoi8.js";import{_ as y}from"./TheTextContent.vue.DaILusXJ.js";import{T as V}from"./TheContentBlock.DhN47OQT.js";import{_ as S}from"./TheBreadcrumbs.vue.DW6lVrCf.js";import{_ as U}from"./TheModal.vue.CraCkhhf.js";import{_ as b}from"./TheButton.vue.wJbSp4Vl.js";import{C as Z,A as R,p as O,a as P,R as F,P as I}from"./index.W5R8O6aF.js";import{j,a as L,N as n,P as k,u as s,O as p,Z as e,L as o,_ as l,aa as q,ar as J,J as B,a2 as E,V as h,$ as g,a6 as Q,w as G,a9 as K,a4 as D}from"./swiper-vue.C62siAhS.js";import{T as w}from"./TheSceleton.Ce6hjHsR.js";import{T as X}from"./TheCheckbox.B43rBUli.js";import{_ as C}from"./TheInput.vue.serkzXMq.js";import{l as Y}from"./nuxt-storage.BVz7JYCa.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";import"./nuxt-link.A66Wero6.js";import"./chat.Dc8zSwmE.js";const e1=j({__name:"TheUserChart",setup(d){Z.register(R,O,P,F),Z.defaults.color="#b6b6b6";const v=L({labels:["Выполненные задания","Выполненные IQ тесты","Активность","Посещаемость"],datasets:[{backgroundColor:["rgba(109,252,118,0.4)","rgba(252,155,0,0.91)","rgba(0,121,255,0.4)","rgba(255,9,0,0.68)"],data:[70,70,90,100]}]}),f=L({responsive:!0,maintainAspectRatio:!1});return(_,t)=>(n(),k(s(I),{class:"text-white",style:{"{color":"white"},data:s(v),options:s(f)},null,8,["data","options"]))}}),s1={class:"flex flex-wrap items-center justify-around gap-x-10 max-sm:gap-y-4 mb-6"},t1={class:"w-5/12 max-sm:w-full"},a1={class:"w-5/12 max-sm:w-full"},l1={class:"flex flex-wrap items-center justify-around gap-x-10 max-sm:gap-y-4 mb-6"},o1={class:"w-5/12 max-sm:w-full"},i1={class:"w-5/12 max-sm:w-full"},r1={class:"flex flex-wrap items-center justify-around gap-x-10 max-sm:gap-y-4 mb-6"},n1={class:"w-5/12 max-sm:w-full"},d1={class:"w-5/12 max-sm:w-full"},u1={class:"flex flex-wrap items-center justify-around gap-x-10 max-sm:gap-y-4 mb-6"},m1={class:"w-5/12 max-sm:w-full"},c1=["value"],h1={class:"w-5/12 max-sm:w-full"},p1={class:"mb-6"},f1={class:"w-full mx-auto text-center"},g1={class:"w-full"},x1=e("span",{class:"text-lg tracking-widest"},"Фото",-1),w1={class:"flex justify-center items-center my-2"},_1=["src"],C1={class:"flex items-center justify-around gap-x-10 mb-6"},v1={class:"w-10/12"},y1={class:"tracking-widest"},k1={class:"flex flex-wrap justify-center mt-4"},b1={class:"flex flex-wrap gap-y-3 items-center justify-center gap-x-10"},$1=j({__name:"UserChange",props:{userEdit:{type:Object,default:()=>{}},showChange:Boolean},emits:["showChange"],setup(d,{emit:v}){const f=M(),_=T(),t=M(),u=A(),i=v,a=L({...d.userEdit}),x=async()=>{try{await f.update_user({user:a.value,id:a.value.id}),a.value.permissions!==f.user.permissions&&await f.change_permissions({permissions:a.value.permissions.filter(m=>m.value).map(m=>m.id),id:a.value.id}),i("showChange"),await t.loadUser({id:u.params.slug})}catch{Y.error("Ошибка при обновлении пользователя или прав",{autoClose:1500,theme:"auto"})}};return(m,c)=>{var H;return n(),p("form",{onSubmit:Q(x,["prevent"]),class:"mt-10"},[e("div",s1,[e("div",t1,[o(C,{label:m.$t("Имя"),placeholder:s(f).user.first_name,modelValue:s(a).first_name,"onUpdate:modelValue":c[0]||(c[0]=r=>s(a).first_name=r)},null,8,["label","placeholder","modelValue"])]),e("div",a1,[o(C,{label:m.$t("Фамилия"),placeholder:s(f).user.last_name,modelValue:s(a).last_name,"onUpdate:modelValue":c[1]||(c[1]=r=>s(a).last_name=r)},null,8,["label","placeholder","modelValue"])])]),e("div",l1,[e("div",o1,[o(C,{label:m.$t("Email"),placeholder:s(f).user.email,modelValue:s(a).email,"onUpdate:modelValue":c[2]||(c[2]=r=>s(a).email=r)},null,8,["label","placeholder","modelValue"])]),e("div",i1,[o(C,{type:"tel",label:m.$t("Номер"),placeholder:s(f).user.phone,modelValue:s(a).phone,"onUpdate:modelValue":c[3]||(c[3]=r=>s(a).phone=r)},null,8,["label","placeholder","modelValue"])])]),e("div",r1,[e("div",n1,[o(C,{type:"password",label:m.$t("Пароль"),placeholder:s(f).user.password,modelValue:s(a).password,"onUpdate:modelValue":c[4]||(c[4]=r=>s(a).password=r)},null,8,["label","placeholder","modelValue"])]),e("div",d1,[o(C,{label:m.$t("Паспорт"),placeholder:s(f).user.passport,modelValue:s(a).passport,"onUpdate:modelValue":c[5]||(c[5]=r=>s(a).passport=r)},null,8,["label","placeholder","modelValue"])])]),e("div",u1,[e("div",m1,[e("p",null,l(m.$t("Департаменты")),1),q(e("select",{class:"w-full dark:bg-gray-300 py-2 px-4 rounded-lg text-black",type:"password","onUpdate:modelValue":c[6]||(c[6]=r=>s(a).department.id=r)},[(n(!0),p(B,null,E((H=s(_))==null?void 0:H.get_all_department.results,r=>(n(),p("option",{value:r.id},l(r.name),9,c1))),256))],512),[[J,s(a).department.id]])]),e("div",h1,[o(C,{label:m.$t("Зароботная плата"),modelValue:s(a).salary,"onUpdate:modelValue":c[7]||(c[7]=r=>s(a).salary=r)},null,8,["label","modelValue"])])]),e("div",p1,[e("div",f1,[e("label",g1,[x1,e("p",w1,[e("img",{class:"rounded-full h-20 w-20",src:s(f).user.photo,alt:""},null,8,_1)])])])]),e("div",C1,[e("div",v1,[e("p",y1,l(m.$t("Возможности")),1),e("div",k1,[(n(!0),p(B,null,E(s(a).permissions,r=>(n(),k(X,{item:r},null,8,["item"]))),256))])])]),e("div",b1,[o(b,{class:"py-2 px-6 rounded-full max-[450px]:w-full",t:"button",onClick:c[8]||(c[8]=r=>m.$emit("showChange")),type:"danger"},{default:h(()=>[g(l(m.$t("Отменить")),1)]),_:1}),o(b,{class:"py-2 px-6 rounded-full max-[450px]:w-full",type:"success"},{default:h(()=>[g(l(m.$t("Изменить")),1)]),_:1})])],32)}}}),V1={class:"flex items-center max-md:flex-col gap-x-4 justify-center"},M1={key:0,class:"flex max-md:flex-col max-md:gap-y-2 items-center gap-x-2"},L1={key:1,class:"flex max-md:flex-col gap-x-2 gap-y-2 items-center"},j1={class:"max-md:order-2 bg-blueDarkSemiLight text-sm px-4 py-1 rounded-full text-white max-md:"},H1={class:"flex max-sm:flex-col max-sm:mt-6 items-center gap-x-4"},S1=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),U1={class:"my-10 grid grid-cols-3 max-[1300px]:grid-cols-2 max-lg:grid-cols-1 max-[1300px]:gap-y-10"},Z1={class:"absolute"},B1={class:"text-[11.5px] tracking-widest dark:text-white text-gray-300"},E1={class:"mt-2"},D1={class:"text-[11.5px] tracking-widest dark:text-white text-gray-300"},T1={class:"text-[11.5px] tracking-widest dark:text-white text-gray-300"},z1={class:"my-6 mx-auto flex flex-col items-center"},A1={key:0,class:"flex flex-col items-center gap-y-2"},W1={class:"flex flex-col justify-center items-center gap-y-2"},N1={key:1,class:"flex flex-col items-center"},R1={class:"relative cursor-pointer"},O1=e("div",{class:"w-20 h-20 rounded-full transition-all absolute hover:bg-gray-400 hover:bg-opacity-40"},[e("input",{type:"file",class:"top-6 w-0 absolute left-6"})],-1),P1=["src"],F1={class:"flex gap-x-2 mt-4 text-lg tracking-widest"},I1={class:"flex gap-x-2 my-2"},q1={key:0,class:"text-center my-2 tracking-widest text-sm"},J1={class:"dark:text-gray-100 text-gray-500"},Q1={class:"dark:text-gray-200 text-gray-400"},G1={key:1,class:"tracking-widest text-sm"},K1=["href"],X1=e("div",null,[e("svg",{class:"dark:stroke-white stroke-gray-400",width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14.05 6C15.0268 6.19057 15.9244 6.66826 16.6281 7.37194C17.3318 8.07561 17.8095 8.97326 18 9.95M14.05 2C16.0793 2.22544 17.9716 3.13417 19.4163 4.57701C20.8609 6.01984 21.7721 7.91101 22 9.94M18.5 21C9.93959 21 3 14.0604 3 5.5C3 5.11378 3.01413 4.73086 3.04189 4.35173C3.07375 3.91662 3.08968 3.69907 3.2037 3.50103C3.29814 3.33701 3.4655 3.18146 3.63598 3.09925C3.84181 3 4.08188 3 4.56201 3H7.37932C7.78308 3 7.98496 3 8.15802 3.06645C8.31089 3.12515 8.44701 3.22049 8.55442 3.3441C8.67601 3.48403 8.745 3.67376 8.88299 4.05321L10.0491 7.26005C10.2096 7.70153 10.2899 7.92227 10.2763 8.1317C10.2643 8.31637 10.2012 8.49408 10.0942 8.64506C9.97286 8.81628 9.77145 8.93713 9.36863 9.17882L8 10C9.2019 12.6489 11.3501 14.7999 14 16L14.8212 14.6314C15.0629 14.2285 15.1837 14.0271 15.3549 13.9058C15.5059 13.7988 15.6836 13.7357 15.8683 13.7237C16.0777 13.7101 16.2985 13.7904 16.74 13.9509L19.9468 15.117C20.3262 15.255 20.516 15.324 20.6559 15.4456C20.7795 15.553 20.8749 15.6891 20.9335 15.842C21 16.015 21 16.2169 21 16.6207V19.438C21 19.9181 21 20.1582 20.9007 20.364C20.8185 20.5345 20.663 20.7019 20.499 20.7963C20.3009 20.9103 20.0834 20.9262 19.6483 20.9581C19.2691 20.9859 18.8862 21 18.5 21Z","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Y1={class:"tracking-widest"},ee={class:"flex flex-wrap justify-around"},se={class:"my-4"},te={key:0},ae={key:1,class:"flex gap-x-2 items-center"},le=e("div",{class:"tracking-widest"},[e("svg",{width:"25",height:"25",viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.41068 -0.000573039H21.5889C22.0185 -0.000573039 22.406 0.164404 22.6935 0.433045L11.9998 9.59925L1.30838 0.435895C1.59657 0.165829 1.98405 -0.000573039 2.41068 -0.000573039ZM1.30519 15.5649L9.22874 8.77351L11.9998 11.1994L14.7716 8.77351L22.6903 15.5649C22.4029 15.8337 22.0155 15.9992 21.5889 15.9992H2.41068C1.98189 15.9992 1.59358 15.8337 1.30519 15.5649ZM0.799824 14.6963L8.53259 8.12594L0.799824 1.40412V14.6963ZM23.1998 1.39935V14.6963L15.467 8.12594L23.1998 1.39935Z",class:"dark:fill-white fill-gray-400"})])],-1),oe=["href"],ie={class:"my-4"},re={key:0},ne={key:1,class:"flex gap-x-2"},de=e("div",null,[e("svg",{class:"dark:fill-white fill-gray-500",width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14Z"}),e("path",{d:"M17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18Z"}),e("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z"}),e("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z"}),e("path",{d:"M7 14C7.55229 14 8 13.5523 8 13C8 12.4477 7.55229 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14Z"}),e("path",{d:"M7 18C7.55229 18 8 17.5523 8 17C8 16.4477 7.55229 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.412 3.24999 9.14133 3.24999 9.94346 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.75 8.65018 22.75 10.1058 22.75 11.9435V14.0564C22.75 15.8941 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0565 22.75H9.94359C8.10585 22.75 6.65018 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33855 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM5.71085 4.88976C4.70476 5.02502 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.86685 7.88123 2.8477 8.06061 2.83168 8.25H21.1683C21.1523 8.06061 21.1331 7.88124 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75H10C8.09318 4.75 6.73851 4.75159 5.71085 4.88976ZM2.75 12C2.75 11.146 2.75032 10.4027 2.76309 9.75H21.2369C21.2497 10.4027 21.25 11.146 21.25 12V14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25H10C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14V12Z"})])],-1),ue={class:"tracking-widest"},me={class:"tracking-widest mt-4 max-sm:text-center"},ce={class:"text-center"},he={class:"flex flex-wrap items-center max-sm:justify-center gap-x-1 text-sm tracking-widest"},pe={class:"my-4 dark:text-gray-200"},fe={class:"break-words my-4 max-sm:m-0"},ge={class:"fixed flex gap-x-4 bottom-6 right-6"},xe=e("svg",{class:"absolute top-3 right-2.5",width:"25",height:"25",viewBox:"0 -0.05 20.109 20.109",xmlns:"http://www.w3.org/2000/svg"},[e("g",{class:"stroke-gray-100",id:"edit-user",transform:"translate(-2 -2)"},[e("path",{id:"primary",d:"M20.71,16.09,15.8,21H13V18.2l4.91-4.91a1,1,0,0,1,1.4,0l1.4,1.4A1,1,0,0,1,20.71,16.09ZM11,3a4,4,0,1,0,4,4A4,4,0,0,0,11,3Z",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),e("path",{id:"primary-2","data-name":"primary",d:"M11,15H8a5,5,0,0,0-5,5,1,1,0,0,0,1,1H9",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})])],-1),we=[xe],_e=e("svg",{class:"absolute top-3 right-2 fill-gray-200",height:"26px",width:"26px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 473 473","xml:space":"preserve"},[e("g",null,[e("path",{d:`M324.285,215.015V128h20V38h-98.384V0H132.669v38H34.285v90h20v305h161.523c23.578,24.635,56.766,40,93.477,40
              c71.368,0,129.43-58.062,129.43-129.43C438.715,277.276,388.612,222.474,324.285,215.015z M294.285,215.015
              c-18.052,2.093-34.982,7.911-50,16.669V128h50V215.015z M162.669,30h53.232v8h-53.232V30z M64.285,68h250v30h-250V68z M84.285,128
              h50v275h-50V128z M164.285,403V128h50v127.768c-21.356,23.089-34.429,53.946-34.429,87.802c0,21.411,5.231,41.622,14.475,59.43
              H164.285z M309.285,443c-54.826,0-99.429-44.604-99.429-99.43s44.604-99.429,99.429-99.429s99.43,44.604,99.43,99.429
              S364.111,443,309.285,443z`}),e("polygon",{points:`342.248,289.395 309.285,322.358 276.323,289.395 255.11,310.608 288.073,343.571 255.11,376.533 276.323,397.746
              309.285,364.783 342.248,397.746 363.461,376.533 330.498,343.571 363.461,310.608 	`})])],-1),Ce=[_e],ve={class:"text-center text-lg w-7/12 mx-auto my-10 dark:text-white tracking-widest break-words"},ye={class:"font-bold text-red-500"},ke={class:"flex justify-center gap-x-10"},Oe=j({__name:"[slug]",props:{userEdit:{type:Object,default:()=>({})},showWarning:Boolean,showChange:Boolean,activeImg:Boolean},setup(d){const v=W(),f=T(),_=N(),t=M();return G(()=>{var u,i;t.loadUser({id:v.params.slug}),((u=_.user.role)==null?void 0:u.name_en)==="company_admin"||((i=_.user.role)==null?void 0:i.name_en)==="admin"?(f.loadDepartmentList(),t.loadPermissions()):_.user.role_en==="admin"&&f.loadCompanyList({page:1,limit:1e5,query:""})}),K(()=>{z({title:`${t.user.first_name+" "+t.user.last_name}`})}),(u,i)=>{var $;return n(),p("div",null,[e("div",V1,[o(y,null,{default:h(()=>[g(l(u.$t("Профиль пользователя ")),1)]),_:1}),($=s(t).get_user_list)!=null&&$.id?(n(),p("div",L1,[e("span",j1,l(s(t).user.first_name+" "+s(t).user.last_name),1)])):(n(),p("div",M1,[o(w,{width:"150px",height:"25px","border-radius":"20px",class:"max-md:order-2"}),o(w,{width:"70px",height:"70px","border-radius":"50px"})]))]),e("div",H1,[o(S,{"breadcrumb-link":"/base/users"},{default:h(()=>[g(l(u.$t("Список пользователей")),1)]),_:1}),S1,o(S,null,{default:h(()=>[g(l(s(t).user.first_name+" "+s(t).user.last_name),1)]),_:1})]),e("div",U1,[o(V,{class:"w-11/12 max-[1300px]:order-last mx-auto"},{default:h(()=>[o(y,null,{default:h(()=>[g(l(u.$t("Статистика")),1)]),_:1}),e("div",null,[o(e1)])]),_:1}),o(V,{class:"w-11/12 mx-auto relative"},{default:h(()=>[e("div",Z1,[e("p",B1,l(u.$t("Последняя активность")),1),e("div",E1,[e("p",D1,l(new Date().toLocaleDateString()),1),e("p",T1,l(new Date().toLocaleTimeString()),1)])]),o(y,null,{default:h(()=>[g(l(u.$t("Информация")),1)]),_:1}),e("div",z1,[s(t).user.id?(n(),p("div",N1,[e("label",R1,[O1,e("img",{class:"w-20 h-20 dark:border-none border rounded-full",src:s(t).user.photo,alt:""},null,8,P1)]),e("div",F1,[e("p",null,l(s(t).user.first_name),1),e("p",null,l(s(t).user.last_name),1)]),e("div",I1,[s(_).user.role_en==="admin"?(n(),p("div",q1,[e("p",J1,l(s(t).user.role),1),e("p",Q1,l(s(t).user.position),1)])):(n(),p("p",G1,l(s(t).user.position),1))])])):(n(),p("div",A1,[o(w,{width:"5rem",height:"5rem","border-radius":"100%"}),e("div",W1,[o(w,{width:"150px",height:"20px","border-radius":"20px"}),o(w,{width:"130px",height:"15px","border-radius":"20px"})])])),s(t).user.id?(n(),p("a",{key:3,class:"flex items-center gap-x-2 hover:underline",href:`tel:${s(t).user.phone}`},[X1,e("p",Y1,l(s(t).user.phone),1)],8,K1)):(n(),k(w,{key:2,class:"my-2",width:"150px",height:"15px","border-radius":"20px"}))]),e("div",null,[e("div",ee,[e("div",se,[s(t).user.id?(n(),p("div",ae,[le,e("a",{href:`mailto:${s(t).user.email}`,class:"cursor-pointer tracking-widest hover:text-blueSemiLight hover:underline dark:hover:text-gray-200"},l(s(t).user.email),9,oe)])):(n(),p("div",te,[o(w,{width:"150px",height:"20px","border-radius":"5px"})]))]),e("div",ie,[s(t).user.id?(n(),p("div",ne,[de,e("p",ue,l(Math.trunc((new Date-new Date(s(t).user.date_of_birth))/1e3/3600/24/365)+" лет"),1)])):(n(),p("div",re,[o(w,{width:"50px",height:"20px","border-radius":"5px"})]))])])])]),_:1}),o(V,{class:"w-11/12 mx-auto"},{default:h(()=>{var a,x;return[e("div",me,[e("p",ce,l(u.$t("Департамент")),1),e("p",null,l((a=s(t).user.department)==null?void 0:a.name),1)]),e("div",he,[e("p",pe,l(u.$t("Руководитель"))+":",1),e("p",fe,l((x=s(t).user)==null?void 0:x.head_user),1)])]}),_:1})]),e("div",ge,[e("button",{onClick:i[0]||(i[0]=a=>{d.showChange=!d.showChange,d.userEdit={...s(t).user},d.userEdit.permissions=s(t).get_permission_list.map(x=>(x.value=d.userEdit.permissions.filter(m=>m.id==x.id).length!=0,x))}),"on:showModal":i[1]||(i[1]=a=>{d.showChange=!0}),class:"w-12 h-12 bg-semiCyan hover:transition-all duration-200 hover:scale-95 rounded-full relative"},we,32),e("button",{onClick:i[2]||(i[2]=a=>d.showWarning=!d.showWarning),class:"w-12 h-12 bg-red-400 hover:transition-all duration-200 hover:scale-95 rounded-full relative"},Ce),d.showWarning?(n(),k(U,{key:0,onShowModal:i[5]||(i[5]=a=>{d.showWarning=!d.showWarning})},{default:h(()=>[o(y,null,{default:h(()=>[g(l(u.$t("Вы действительно хотите удалить пользователя?")),1)]),_:1}),e("p",ve,[e("span",ye,l(u.$t("Предупреждение")),1),g(": "+l(u.$t("после удаления данного пользователя вся информация пропадёт и не будет подлежать восстановлению")),1)]),e("div",ke,[o(b,{class:"w-[200px] rounded-full h-10",type:"success",onClick:i[3]||(i[3]=a=>d.showWarning=!1)},{default:h(()=>[g(l(u.$t("Отменить")),1)]),_:1}),o(b,{class:"w-[200px] rounded-full h-10",type:"danger",onClick:i[4]||(i[4]=a=>s(t).deleteUser({user_id:s(t).user.id},u.$router))},{default:h(()=>[g(l(u.$t("Удалить")),1)]),_:1})])]),_:1})):D("",!0),d.showChange?(n(),k(U,{key:1,onShowModal:i[7]||(i[7]=a=>d.showChange=!d.showChange)},{default:h(()=>[o(y,null,{default:h(()=>[g(l(u.$t("Редактирование пользователя")),1)]),_:1}),o($1,{"user-edit":d.userEdit,onShowChange:i[6]||(i[6]=a=>d.showChange=!1)},null,8,["user-edit"])]),_:1})):D("",!0)])])}}});export{Oe as default};
