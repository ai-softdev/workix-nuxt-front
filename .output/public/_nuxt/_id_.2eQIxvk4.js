import{_ as A}from"./TheButton.vue.DPQ248BT.js";import{u as N}from"./index.Cw99in4n.js";import{u as S}from"./companies.BVIun85e.js";import{b as H}from"./entry.Doav1j1v.js";import{_ as T}from"./TheTextContent.vue.DaILusXJ.js";import{_ as k}from"./TheBreadcrumbs.vue.DsnpSn-L.js";import{_ as M}from"./TheModal.vue.CraCkhhf.js";import{T as W}from"./TheCheckbox.BxQFnL4h.js";import{_ as f}from"./TheInput.vue.serkzXMq.js";import{j as z,a as b,w as F,b as L,a8 as j,N as i,O as u,L as n,V as m,$ as p,_ as d,u as o,Z as e,J as v,a2 as C,P as $,a4 as E}from"./swiper-vue.C62siAhS.js";import"./nuxt-storage.gLjAmBiV.js";import"./nuxt-link.DmVhN6Uy.js";import"./chat.Becxl14V.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const D={class:"flex items-center gap-x-4"},I=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),J={class:"flex items-start gap-10 w-full max-md:flex-col"},O={class:"flex flex-col gap-4 mt-10 w-8/12 max-md:w-full"},P={class:"flex flex-col gap-2"},R={class:"flex flex-col gap-2"},Z={class:"flex flex-col gap-2"},q={class:"flex flex-col gap-2"},G={class:"bg-bgWhite p-3 rounded-lg flex flex-col gap-3 items-start"},K={class:"bg-bgWhite p-3 w-full border rounded-lg"},Q={class:"flex flex-col gap-2 w-4/12 max-md:w-full"},X={class:"flex flex-col gap-3 bg-bgWhite p-3 rounded-lg max-h-[400px] min-h-[400px] h-full overflow-y-scroll"},Y={class:"bg-bgWhite p-3 w-full border rounded-lg"},ee={class:"flex flex-col gap-2 min-h-[400px] min-w-[400px] max-md:min-w-full"},le={class:"grid grid-cols-2 gap-3 max-md:grid-cols-1"},oe={class:"bg-[#8881] p-3 w-full border rounded-lg"},ae={class:"flex flex-col gap-5"},se=e("p",null," Создание администратора: ",-1),te={class:"flex items-center gap-5 max-md:flex-col"},ne={class:"grid grid-cols-2 items-center gap-5 max-md:grid-cols-1"},ve=z({__name:"[id]",setup(de){const g=H(),s=S(),x=b(!1),h=b(!1),_=b([]);let t=b({email:"",password:"",first_name:"",last_name:"",patronymic:"",phone:"",company_id:""});const y=()=>{x.value=!x.value},w=()=>{h.value=!h.value},U=()=>{y();let r=[];_.value.forEach(l=>{l.value&&r.push(l.id)}),s.editModules({id:g.params.id,data:r})},B=()=>{w(),t.value.company_id=g.params.id,s.createAdministrator({data:t.value,company_id:g.params.id})};return F(()=>{s.loadCompany({id:g.params.id}),s.loadModules(),s.loadCompanyAdministrators({company_id:g.params.id})}),L(()=>s.modules,r=>{_.value=[],s.modules.forEach(l=>{const c=s.company.modules.some(a=>a.id===l.id);_.value.push({...l,value:c})})}),j(()=>{N({title:`${s.company.name}`})}),(r,l)=>{const c=A;return i(),u("div",null,[n(T,null,{default:m(()=>[p(d(r.$t("Страница компании "+o(s).company.name)),1)]),_:1}),e("div",null,[e("div",D,[n(k,{"breadcrumb-link":"/base/companies"},{default:m(()=>[p(d(r.$t("Список компаний")),1)]),_:1}),I,n(k,null,{default:m(()=>[p(d(o(s).company.name),1)]),_:1})]),e("div",J,[e("div",O,[e("div",P,[e("p",null,d(r.$t("Описание"))+": ",1),e("p",null,d(o(s).company.description),1)]),e("div",R,[e("p",null,d(r.$t("Email"))+": ",1),e("p",null,d(o(s).company.email),1)]),e("div",Z,[e("p",null,d(r.$t("Адрес"))+": ",1),e("p",null,d(o(s).company.address),1)]),e("div",q,[e("p",null,d(r.$t("Администраторы компании"))+": ",1),e("div",G,[n(c,{onClick:w,class:"mb-2 border p-3 rounded-lg"},{default:m(()=>[p(" Добавить ")]),_:1}),(i(!0),u(v,null,C(o(s).company_administrators,(a,V)=>(i(),u("div",K,d(a.last_name+" "+a.first_name),1))),256))])])]),e("div",Q,[e("p",null,d(r.$t("Модули компании"))+": ",1),e("div",X,[n(c,{onClick:y,class:"mb-2 border p-3 rounded-lg"},{default:m(()=>[p(" Изменить ")]),_:1}),(i(!0),u(v,null,C(o(s).company.modules,(a,V)=>(i(),u("div",Y,d(a.name),1))),256))])])])]),o(x)?(i(),$(M,{key:0,type:"resize",onShowModal:l[0]||(l[0]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:y}," x "),e("div",ee,[e("p",null,d(r.$t("Модули"))+": ",1),e("div",le,[(i(!0),u(v,null,C(o(_),(a,V)=>(i(),u("div",oe,[n(W,{item:a},null,8,["item"])]))),256))]),n(c,{class:"mt-2",onClick:U},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):E("",!0),o(h)?(i(),$(M,{key:1,type:"resize",onShowModal:l[7]||(l[7]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:w}," x "),e("div",ae,[se,e("div",te,[n(f,{type:"default",modelValue:o(t).first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>o(t).first_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Имя"},null,8,["modelValue"]),n(f,{type:"default",modelValue:o(t).last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>o(t).last_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Фамилия"},null,8,["modelValue"]),n(f,{type:"default",modelValue:o(t).patronymic,"onUpdate:modelValue":l[3]||(l[3]=a=>o(t).patronymic=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Отчество"},null,8,["modelValue"])]),e("div",ne,[n(f,{type:"default",modelValue:o(t).email,"onUpdate:modelValue":l[4]||(l[4]=a=>o(t).email=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Email"},null,8,["modelValue"]),n(f,{type:"default",modelValue:o(t).password,"onUpdate:modelValue":l[5]||(l[5]=a=>o(t).password=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Пароль"},null,8,["modelValue"])]),n(f,{type:"default",modelValue:o(t).phone,"onUpdate:modelValue":l[6]||(l[6]=a=>o(t).phone=a),class:"w-[300px] max-md:w-full mx-auto bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Номер телефона"},null,8,["modelValue"]),n(c,{class:"mt-2",onClick:B},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):E("",!0)])}}});export{ve as default};
