import{b as M,e as C}from"./entry.B2fPP9_t.js";import{u as B}from"./index.BrI2C1Tc.js";import{_ as x}from"./TheBreadcrumbs.vue.EhGh2HBv.js";import{u as E}from"./companies.CBpK_FXU.js";import{_ as I}from"./TheSearch.vue.BVyjfndQ.js";import{_ as D}from"./nuxt-link.1hRYLfXs.js";import{u as S}from"./auth.CpyIH11e.js";import{j as L,N as a,P as _,V as l,Z as e,_ as t,u as d,O as c,a2 as j,w as H,a8 as N,$ as m,L as i,J as k,a3 as y}from"./swiper-vue.CGVHF6NK.js";import{_ as V}from"./TheTextContent.vue.s8qy9Ijc.js";import{_ as f}from"./TheButton.vue.CBVGjr_B.js";import{_ as W}from"./TheModal.vue.wtURCXWu.js";import{T as A}from"./TheSceleton.BEamXrBT.js";import"./nuxt-storage.LTSgK-Sl.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const G=""+globalThis.__publicAssetsURL("icons/delete.svg"),T={class:"flex items-center gap-x-4 border-r max-sm:border-none max-sm:justify-center"},Z=["src"],R={class:"font-bold max-xl:text-center"},U={class:"flex flex-col items-center justify-center border-r max-[900px]:border-none"},O={key:0,class:"text-lg font-medium mb-2"},q={key:1,class:"text-lg font-medium mb-2"},F={class:"text-center flex flex-col gap-y-2"},J={key:0,class:"text-sm text-mediumGray"},P={class:"text-mediumGray text-sm"},z={class:"flex items-center justify-between gap-5 max-[900px]:justify-start max-[900px]:border-r max-sm:border-none max-sm:justify-center"},K={class:"text-center pr-6 pl-8 max-[900px]:pr-0"},Q={class:"font-medium"},X=e("h2",{class:"text-mediumGray text-sm"},"00.00.0000",-1),Y=e("div",{class:"max-[900px]:hidden h-full border-l flex items-center justify-center pl-8"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),ee=e("div",{class:"hidden h-full max-[900px]:flex items-center justify-center"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),te=L({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(o){const n=S();return(p,g)=>{const h=D;return a(),_(h,{to:`/base/users/${o.userItem.id}`,class:"department__item transition-all grid grid-cols-3 max-[900px]:grid-cols-2 max-sm:grid-cols-1 gap-4 hover:shadow-departmentCard border bg-whiteLilia hover:bg-white hover:border-golden dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-5 rounded-3xl cursor-pointer"},{default:l(()=>{var s,r;return[e("div",T,[e("img",{class:"w-14 h-14 rounded-full shadow",src:o.userItem.photo},null,8,Z),e("h2",R,t(o.userItem.first_name+" "+o.userItem.last_name),1)]),e("div",U,[((s=d(n).user.role)==null?void 0:s.name_en)==="admin"?(a(),c("p",O,t(p.$t("Роль | Должность")),1)):(a(),c("p",q,t(p.$t("Должность")),1)),e("div",F,[((r=d(n).user.role)==null?void 0:r.name_en)==="admin"?(a(),c("h2",J,"("+t(o.userItem.role)+")",1)):j("",!0),e("h2",P,t(o.userItem.position),1)])]),e("div",z,[e("div",K,[e("h2",Q,t(p.$t("Дата регистрации")),1),X]),Y]),ee]}),_:1},8,["to"])}}}),se={class:"flex items-center gap-4 max-sm:flex-col max-sm:items-start"},oe=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 8H1M1 8L8 15M1 8L8 1",stroke:"#7D7D7D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ne={class:"flex items-center flex-wrap gap-x-3"},re=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),ae=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),ie={class:"mt-8 flex items-center gap-4 justify-between max-[680px]:flex-col max-[680px]:items-start max-[680px]:gap-5"},le={class:"dark:text-white text-3xl font-bold"},de=e("img",{src:G,alt:"delete-button"},null,-1),me={class:"flex items-center gap-x-10 mt-8"},ce={class:"flex items-center w-11/12 max-sm:w-full gap-x-10"},ue={class:"text-xl text-center font-medium"},pe={class:"text-center text-lg mt-2 tracking-widest"},he={class:"!text-base"},xe={class:"flex justify-center gap-x-10 mt-10"},fe={class:"flex gap-x-10 w-full mt-8 max-[1200px]:flex-col max-[1200px]:gap-3"},_e={key:0,class:"flex max-[1200px]:order-1 w-full gap-y-4 flex-col"},ge={key:1,class:"w-full max-[1200px]:order-1 flex flex-col gap-4 p-6 rounded-3xl shadow-departmentInfo bg-white"},we={class:"w-3/12 max-[1200px]:w-full bg-white p-6 rounded-3xl h-fit shadow-departmentInfo"},ve=e("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 15.5V11.5M11 7.5H11.01M21 11.5C21 17.0228 16.5228 21.5 11 21.5C5.47715 21.5 1 17.0228 1 11.5C1 5.97715 5.47715 1.5 11 1.5C16.5228 1.5 21 5.97715 21 11.5Z",stroke:"#2A2A2A","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1),be={class:"flex items-center justify-between mt-8"},Ve=L({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(o){const n=E(),p=M(),g=C();function h(){g.back()}return H(()=>{n.loadDepartment({id:p.params.id})}),N(()=>{B({title:`${n.current_department.name}`})}),(s,r)=>{var w,v,b,$;return a(),c("div",null,[e("div",se,[e("button",{onClick:h,class:"px-6 py-2 rounded-[30px] border-2 font-bold text-mediumGray bg-white flex items-center gap-2"},[oe,m(" "+t(s.$t("Назад")),1)]),e("div",ne,[i(x,{"breadcrumb-link":"/base/companies"},{default:l(()=>[m(t(s.$t("Компания")),1)]),_:1}),re,i(x,{"breadcrumb-link":"/base/companies/department"},{default:l(()=>[m(t(s.$t("Департаменты")),1)]),_:1}),ae,i(x,null,{default:l(()=>[m(t(d(n).get_department.name),1)]),_:1})])]),e("div",ie,[e("p",le,t(d(n).get_department.name),1),i(f,{type:"danger",class:"px-10 py-2 !bg-whiteSmoke !border !border-gainsboro rounded-full flex items-center gap-3 !text-sunset",onClick:r[0]||(r[0]=u=>o.showWarning=!0)},{default:l(()=>[de,m(" "+t(s.$t("Удалить отдел")),1)]),_:1})]),e("div",me,[e("div",ce,[i(I,{class:"w-3/12 max-[900px]:w-full"})]),o.showWarning?(a(),_(W,{key:0,onShowModal:r[3]||(r[3]=u=>o.showWarning=!o.showWarning)},{default:l(()=>[e("div",null,[e("p",ue,t(s.$t("Предупреждение")),1),e("div",pe,[e("p",null,t(s.$t("Вы действительно хотите удалить департамент?")),1),e("p",he,t(s.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",xe,[i(f,{type:"danger",class:"w-3/12 py-2 rounded-full",onClick:r[1]||(r[1]=u=>o.showWarning=!1)},{default:l(()=>[m(t(s.$t("Отмена")),1)]),_:1}),i(f,{type:"success",class:"w-3/12 py-2 rounded-full",onClick:r[2]||(r[2]=u=>d(n).deleteDepartment({id:d(n).get_department.id},s.$router))},{default:l(()=>[m(t(s.$t("Удалить")),1)]),_:1})])]),_:1})):j("",!0)]),e("div",fe,[(w=d(n).get_department)!=null&&w.id?(a(),c("div",ge,[(a(!0),c(k,null,y((b=(v=d(n))==null?void 0:v.get_department)==null?void 0:b.participants,u=>(a(),_(te,{"user-item":u},null,8,["user-item"]))),256))])):(a(),c("div",_e,[(a(),c(k,null,y(5,u=>i(A,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",we,[i(V,null,{default:l(()=>[ve,m(" "+t(s.$t("Информация")),1)]),_:1}),e("div",be,[e("p",null,t(s.$t("Сотрудников"))+": ",1),e("p",null,t(($=d(n).get_department.participants)==null?void 0:$.length),1)])])])])}}});export{Ve as default};
