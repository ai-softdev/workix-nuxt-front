import{C as P,A as D,p as A,a as L,R,P as O}from"./index.D1uD2wpi.js";import{j as b,a as w,N as n,O as r,L as a,u as o,r as B,k as I,H as Q,Z as t,_ as e,a3 as M,a4 as p,$ as f,V as u,P as C,a6 as X,aa as Y,x as z,ab as H,M as W}from"./swiper-vue.yO-n0JsZ.js";import{u as Z}from"./companies.DKDXQv88.js";import{u as T}from"./auth.6gXL3oH5.js";import{s as S,v}from"./entry.DTZcIk7x.js";import{_ as q}from"./TheModal.vue.CfyleZWN.js";import{_ as y}from"./TheButton.vue.YZPKf1co.js";import{_}from"./TheInput.vue.7qlRdbvh.js";import{T as j}from"./TheSceleton.BA89QXWo.js";import{T as F}from"./ThePreloader.Dttt05B-.js";import{_ as U}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{_ as k}from"./TheTextContent.vue.DJ99356g.js";import{_ as G}from"./nuxt-link.UsfDUlZk.js";import{T as V}from"./TheContentBlock.C0O3sXrE.js";import{u as J}from"./index.C8TonCdV.js";import"./nuxt-storage.CgJyI38a.js";const K=b({__name:"ProfileContentChart",setup(s){P.register(D,A,L,R),P.defaults.color="#b6b6b6";const m=w({labels:["Выполненные задания","Выполненные IQ тесты","Активность","Посещаемость"],datasets:[{backgroundColor:["rgba(109,252,118,0.4)","rgba(252,155,0,0.91)","rgba(0,121,255,0.4)","rgba(255,9,0,0.68)"],data:[70,70,90,100]}]}),x=w({responsive:!0,maintainAspectRatio:!1});return(g,h)=>(n(),r("div",null,[a(o(O),{class:"text-white",style:{"{color":"white"},data:o(m),options:o(x)},null,8,["data","options"])]))}}),tt={class:"w-full p-6 relative col-span-2 max-sm:col-auto shadow-lg dark:shadow-md dark:border-t dark:border-t-gray-500 cursor-pointer dark:shadow-gray-500 rounded-md transition-all duration-200"},et={class:"mb-8 dark:text-white tracking-widest"},st={class:"flex flex-col gap-y-6"},at={key:0,class:"flex max-sm:flex-wrap max-sm:justify-center select-none text-gray-600 gap-x-2"},ot={class:""},lt=["src"],nt={class:"my-2 mx-2"},dt={class:"text-xl dark:text-white select-none tracking-wide"},it={class:"dark:text-white"},rt={key:0,class:"dark:text-white tracking-widest font-bold"},ct={key:1,class:"dark:text-white tracking-widest font-bold"},ut={key:1,class:"flex items-center gap-x-4"},ft={class:"flex flex-col gap-y-2"},mt={class:"flex flex-col gap-y-2 ml-2 w-full"},xt={class:"text-sm"},ht={class:"text-gray-500 dark:text-white font-mono"},pt={key:0,class:"font-bold tracking-widest"},_t={class:"text-sm"},gt={class:"text-gray-500 dark:text-white font-mono"},wt={class:"font-bold tracking-widest"},yt={class:"text-sm"},kt={class:"text-gray-500 flex gap-x-2 dark:text-white font-mono"},vt={key:0,class:"font-bold tracking-widest"},bt={key:1},$t={class:"w-6/12 max-lg:w-full flex flex-col gap-y-10"},Ct={class:""},jt={class:"text-gray-500 dark:text-white font-mono"},Vt={class:"dark:text-white font-bold tracking-wide mt-2"},Et={key:0},Nt=t("div",{class:"bg-black w-full h-full absolute top-0 left-0 opacity-40 rounded-lg"},null,-1),Pt=t("div",null,[t("h2",{class:"text-center text-xl tracking-widest font-bold dark:text-white"},"Личная информация")],-1),Tt={class:"w-full"},Bt={class:"mt-10 flex items-center justify-around"},It={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Mt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},St={class:""},Ut={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Dt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},At={class:""},Lt={class:"px-10 max-sm:px-0"},Rt={class:"my-10 flex max-lg:gap-x-2 max-md:gap-y-2 max-md:flex-wrap max-md:justify-center justify-between"},Ot={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Qt={class:"dark:text-white ml-1 tracking-widest font-bold"},Xt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Yt={class:"dark:text-white ml-1 tracking-widest font-bold"},zt={class:"my-10 flex max-lg:gap-x-2 max-lg:gap-y-4 max-lg:flex-wrap max-md:justify-center justify-between items-center"},Ht={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Wt={class:"dark:text-white ml-1 tracking-widest font-bold"},Zt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center border p-4 rounded-xl shadow-md dark:shadow-none text-center"},qt={key:0,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},Ft={key:1,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},Gt={key:0,class:"flex gap-x-1 justify-center"},Jt={class:"my-10 flex max-lg:gap-x-2 max-md:flex-wrap max-md:justify-center justify-between"},Kt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},te={class:"dark:text-white ml-1 tracking-widest font-bold"},ee={class:"flex justify-around max-sm:flex-col max-sm:gap-y-2"},se=b({__name:"ProfileContentUserInfo",props:{showInfo:{type:Boolean,default:!1},getCode:{type:Boolean,default:!1},userEdit:{type:Object,default:()=>{}}},setup(s){const m=Z(),x=T(),g=w(null);S("(max-width: 700px)");const h=B(v(g));I(()=>({transition:".3s ease-out all",transform:`rotateX(${h.roll*1}deg) rotateY(${h.tilt*1}deg)`}));const E=w(null);v(E);const d=T(),$=new Date(d.user.date_of_birth).toLocaleDateString();return Q(()=>{x.loadCurrentUserWorker()}),(i,l)=>{var N;return n(),r("div",tt,[t("div",{onClick:l[0]||(l[0]=c=>{s.showInfo=!0,s.userEdit={...o(d).user}})},[t("h2",et,e(i.$t("Личные данные")),1),t("div",{class:M([{blur:!o(d).user.id},"flex gap-x-10 max-lg:flex-wrap gap-y-10 justify-around"])},[t("div",st,[o(d).user.id?(n(),r("div",at,[t("div",ot,[t("img",{class:"w-[100px] h-[100px] rounded-full shadow-lg dark:shadow-none",src:o(d).user.photo,alt:""},null,8,lt)]),t("div",nt,[t("h3",dt,e(o(d).user.first_name)+" "+e(o(d).user.last_name),1),t("p",it,e(Math.trunc((new Date-new Date(o(d).user.date_of_birth))/1e3/3600/24/365)+" лет"),1),o(d).user.role.name==="Администратор сайта"?(n(),r("p",rt,e(o(d).user.role.name),1)):o(d).user.role.name==="Сотрудник"?(n(),r("p",ct,e(o(d).user.position.name),1)):p("",!0)])])):(n(),r("div",ut,[a(j,{"border-radius":"100px",width:"100px",height:"100px"}),t("div",ft,[a(j,{width:"150px",height:"20px","border-radius":"5px"}),a(j,{width:"60px",height:"15px","border-radius":"5px"})])])),t("div",mt,[t("div",xt,[t("p",ht,[f(e(i.$t("Email"))+": ",1),o(d).user.id?(n(),r("span",pt,e(o(d).user.email),1)):p("",!0)])]),t("div",_t,[t("p",gt,[f(e(i.$t("Номер"))+": ",1),t("span",wt,e((N=o(d).user.phone)==null?void 0:N.slice(4,13)),1)])]),t("div",yt,[t("p",kt,[f(e(i.$t("Зароботная плата"))+": ",1),o(d).user.id?(n(),r("span",vt,e(o(d).user.salary+" сум"),1)):(n(),r("span",bt))])])])]),t("div",$t,[t("div",Ct,[t("p",jt,e(i.$t("Компания"))+":",1),t("p",Vt,e(o(m).company.description),1)])])],2),o(d).user.id?p("",!0):(n(),r("div",Et,[Nt,a(F)]))]),a(W,{name:"slide-down"},{default:u(()=>[s.showInfo?(n(),C(q,{key:0,onShowModal:l[9]||(l[9]=c=>{s.showInfo=!1,s.getCode=!1})},{default:u(()=>[t("form",{onSubmit:l[8]||(l[8]=X(c=>o(d).update_my({user:s.userEdit}),["prevent"]))},[Pt,t("div",Tt,[t("div",Bt,[t("div",It,[t("p",Mt,e(i.$t("Должность:")),1),t("p",St,e(s.userEdit.position.name),1)]),t("div",Ut,[t("p",Dt,e(i.$t("Заработная плата:")),1),t("p",At,e(s.userEdit.salary+" "+i.$t("сум")),1)])]),t("div",Lt,[t("div",Rt,[t("div",Ot,[t("p",Qt,e(i.$t("Имя")+":"),1),a(_,{type:"text",modelValue:s.userEdit.first_name,"onUpdate:modelValue":l[1]||(l[1]=c=>s.userEdit.first_name=c)},null,8,["modelValue"])]),t("div",Xt,[t("p",Yt,e(i.$t("Фамилия")+":"),1),a(_,{type:"text",modelValue:s.userEdit.last_name,"onUpdate:modelValue":l[2]||(l[2]=c=>s.userEdit.last_name=c)},null,8,["modelValue"])])]),t("div",zt,[t("div",Ht,[t("p",Wt,e(i.$t("Телефон")+":"),1),a(_,{type:"tel",modelValue:s.userEdit.phone,"onUpdate:modelValue":l[3]||(l[3]=c=>s.userEdit.phone=c)},null,8,["modelValue"])]),t("div",Zt,[t("div",null,[s.getCode?(n(),r("p",Ft,e(i.$t("Введите Код")+":"),1)):(n(),r("p",qt,e(i.$t("Изменить номер")+":"),1))]),s.getCode?(n(),r("div",Gt,[a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"})])):p("",!0),t("div",null,[s.getCode?p("",!0):(n(),C(y,{key:0,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:l[4]||(l[4]=c=>{s.getCode=!0})},{default:u(()=>[f(e(i.$t("Изменить")),1)]),_:1})),s.getCode?(n(),C(y,{key:1,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:l[5]||(l[5]=c=>{s.getCode=!0})},{default:u(()=>[f(e(i.$t("Подтвердить")),1)]),_:1})):p("",!0)])])]),t("div",Jt,[t("div",Kt,[t("p",te,e(i.$t("Дата рождения")+":"),1),Y(t("input",{type:"date","onUpdate:modelValue":l[6]||(l[6]=c=>z($)?$.value=c:null)},null,512),[[H,o($)]])])])]),t("div",ee,[a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"button",type:"danger",onClick:l[7]||(l[7]=c=>{s.showInfo=!1,s.getCode=!1})},{default:u(()=>[f(e(i.$t("Отмена")),1)]),_:1}),a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"submit",type:"success"},{default:u(()=>[f(e(i.$t("Сохранить")),1)]),_:1})])])],32)]),_:1})):p("",!0)]),_:1})])}}}),ae={};function oe(s,m){return n(),r("div")}const le=U(ae,[["render",oe]]),ne={};function de(s,m){const x=G;return n(),r("div",null,[a(x,{to:" "})])}const ie=U(ne,[["render",de]]),re={class:"w-full p-6 dark:border-t dark:border-t-gray-500 dark:shadow-md shadow-lg dark:shadow-gray-500 cursor-pointer rounded-md hover:transform hover:-translate-y-2 transition-all duration-200"},ce={class:"dark:text-white tracking-widest"},ue=b({__name:"ProfileContent",props:{activeNav:{type:Boolean,default:!1}},setup(s){const m=w(null);S("(max-width: 700px)");const x=B(v(m));I(()=>({transition:".3s ease-out all",transform:`rotateX(${x.roll*1}deg) rotateY(${x.tilt*1}deg)`}));const g=w(null);return v(g),(h,E)=>(n(),r("div",{class:M(["w-full grid gap-y-10 gap-x-10 grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1",{"max-[1150px]:grid-cols-2":s.activeNav,"max-[1150px]:grid-cols-3":!s.activeNav}])},[a(se),t("div",re,[t("h2",ce,e(h.$t("Личная статистика")),1),a(K)]),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(e(h.$t("Последние задания")),1)]),_:1}),t("div",null,[a(ie)])]),_:1}),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(e(h.$t("Уведомления")),1)]),_:1}),a(le)]),_:1}),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(e(h.$t("")),1)]),_:1})]),_:1})],2))}}),fe={class:"flex flex-col"},me={class:"w-full mx-auto"},Pe=b({__name:"profile",props:{activeNav:{type:Boolean,default:!1}},setup(s){return J({title:"Профиль",description:"Личный кабинет | Текущая информация обо мне"}),(m,x)=>{const g=ue;return n(),r("div",fe,[a(k,{"text-type":"pageTitle"},{default:u(()=>[f(e(m.$t("Страница профиля")),1)]),_:1}),t("div",me,[a(g,{activeNav:s.activeNav},null,8,["activeNav"])])])}}});export{Pe as default};
