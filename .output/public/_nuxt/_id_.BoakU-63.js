import{u as y}from"./index.BR8jil-j.js";import{_ as g}from"./TheBreadcrumbs.vue.DsEro000.js";import{u as M}from"./companies.6foQVHLN.js";import{b as H}from"./entry.pkID1Xck.js";import{T as B}from"./TheContentBlock.CwdlLGEP.js";import{_ as T}from"./TheSearch.vue.Brw6zZpp.js";import{j as w,a as V,N as i,O as l,Z as e,L as a,V as r,a6 as j,_ as t,a4 as L,u as p,a2 as b,w as S,a8 as I,P as C,J as v,a3 as $,$ as u}from"./swiper-vue.D8OdYOtj.js";import{_}from"./TheButton.vue.DiBiYzCP.js";import{_ as F}from"./nuxt-link.DbmlG9-o.js";import{u as N}from"./auth.C1DvXdD0.js";import{_ as x}from"./TheTextContent.vue.m2iseIPA.js";import{_ as W}from"./TheModal.vue.B87978z5.js";import{T as D}from"./TheSceleton.DY8OFG8B.js";import"./nuxt-storage.jjXK-e5k.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const U={class:"max-md:absolute max-md:bottom-11 max-md:right-0"},E={class:"max-md:hidden"},Z={class:"max-md:block hidden"},q=e("path",{d:"M21 6H19M21 12H16M21 18H16M7 20V13.5612C7 13.3532 7 13.2492 6.97958 13.1497C6.96147 13.0615 6.93151 12.9761 6.89052 12.8958C6.84431 12.8054 6.77934 12.7242 6.64939 12.5617L3.35061 8.43826C3.22066 8.27583 3.15569 8.19461 3.10948 8.10417C3.06849 8.02393 3.03853 7.93852 3.02042 7.85026C3 7.75078 3 7.64677 3 7.43875V5.6C3 5.03995 3 4.75992 3.10899 4.54601C3.20487 4.35785 3.35785 4.20487 3.54601 4.10899C3.75992 4 4.03995 4 4.6 4H13.4C13.9601 4 14.2401 4 14.454 4.10899C14.6422 4.20487 14.7951 4.35785 14.891 4.54601C15 4.75992 15 5.03995 15 5.6V7.43875C15 7.64677 15 7.75078 14.9796 7.85026C14.9615 7.93852 14.9315 8.02393 14.8905 8.10417C14.8443 8.19461 14.7793 8.27583 14.6494 8.43826L11.3506 12.5617C11.2207 12.7242 11.1557 12.8054 11.1095 12.8958C11.0685 12.9761 11.0385 13.0615 11.0204 13.1497C11 13.2492 11 13.3532 11 13.5612V17L7 20Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),O=[q],z=w({__name:"TheFilter",props:{showFilter:{type:Boolean,default:!1}},setup(s){return V({query:""}),(o,d)=>(i(),l("div",U,[e("form",{onSubmit:d[1]||(d[1]=j(()=>{},["prevent"])),class:"flex items-center gap-x-10 my-10"},[a(_,{onClick:d[0]||(d[0]=n=>s.showFilter=!s.showFilter),class:"tracking-widest rounded-full max-md:!bg-transparent dark:bg-gray-400 p-3 bg-gray-300 hover:bg-gray-400 transition-all duration-200"},{default:r(()=>[e("p",E,t(o.$t("Фильтры")),1),e("div",Z,[(i(),l("svg",{class:L(["!stroke-gray-700",{"!stroke-gray-300":s.showFilter}]),width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O,2))])]),_:1})],32)]))}}),A={class:"my-6"},G={class:"flex items-center gap-x-4 w-3/12 max-lg:w-full max-lg:x-mx-auto"},J=["src"],P={class:"tracking-widest font-bold max-xl:text-center"},R={class:"flex flex-col items-center justify-center w-5/12 max-lg:w-full mx-auto"},K={key:0,class:"text-lg font-bold tracking-widest mb-2"},Q={key:1,class:"text-lg font-bold tracking-widest mb-2"},X={class:"text-center flex flex-col gap-y-2"},Y={key:0,class:"tracking-widest text-sm text-gray-600"},ee={class:"tracking-widest text-md"},te={class:"w-2/12 max-[1241px]:w-full max-lg:x-mx-auto text-center"},se={class:"tracking-widest font-bold"},ae=w({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(s){const o=N();return(d,n)=>{const c=F;return i(),l("div",A,[a(c,{to:`/base/users/${s.userItem.id}`,class:"transition-all shadow-md hover:shadow-lg border dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-4 rounded-lg flex max-[1241px]:flex-col max-[1241px]:gap-y-4 justify-between items-center cursor-pointer"},{default:r(()=>{var h,f;return[e("div",G,[e("img",{class:"w-14 h-14 rounded-full",src:s.userItem.photo_url,alt:""},null,8,J),e("h2",P,t(s.userItem.first_name+" "+s.userItem.last_name),1)]),e("div",R,[((h=p(o).user.role)==null?void 0:h.name_en)==="admin"?(i(),l("p",K,t(d.$t("Роль | Должность")),1)):(i(),l("p",Q,t(d.$t("Должность")),1)),e("div",X,[((f=p(o).user.role)==null?void 0:f.name_en)==="admin"?(i(),l("h2",Y,"("+t(s.userItem.role)+")",1)):b("",!0),e("h2",ee,t(s.userItem.position),1)])]),e("div",te,[e("h2",se,t(d.$t("Дата регистрации")),1)])]}),_:1},8,["to"])])}}}),oe={class:"mb-10"},ne={class:"text-base text-white bg-blueSemiLight py-2 px-4 rounded-full"},re={class:"flex items-center gap-x-4"},ie=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),le=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),de={class:"flex items-center gap-x-10"},ce={class:"flex items-center w-11/12 gap-x-10"},me={class:"text-center text-lg mt-2 tracking-widest"},ue={class:"!text-base"},pe={class:"flex justify-center gap-x-10 mt-10"},he={class:"flex gap-x-10 w-full"},fe={key:0,class:"flex w-full gap-y-4 flex-col"},_e={key:1,class:"w-full"},ge={class:"w-3/12"},xe={class:"flex items-center my-4 gap-x-5 justify-center"},we={class:"flex items-center gap-x-2 w-8/12 max-md:w-9/12"},ke=e("div",null,[e("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-v-inspector":"components/TheHeader.vue:26:11"},[e("g",{id:"User / Users_Group","data-v-inspector":"components/TheHeader.vue:27:13"},[e("path",{id:"Vector",class:"dark:stroke-white stroke-black",d:"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round","data-v-inspector":"components/TheHeader.vue:28:15"})])])],-1),Ce={class:"tracking-widest"},ve={class:"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white"},De=w({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(s){const o=M(),d=H();return S(()=>{o.loadDepartment({id:d.params.id})}),I(()=>{y({title:`${o.current_department.name}`})}),(n,c)=>{var h,f,k;return i(),l("div",null,[e("div",oe,[a(x,{"text-type":"pageTitle"},{default:r(()=>[u(t(n.$t("Департамент"))+" ",1),e("span",ne,t(p(o).get_department.name),1)]),_:1})]),e("div",re,[a(g,{"breadcrumb-link":"/base/companies"},{default:r(()=>[u(t(n.$t("Компания")),1)]),_:1}),ie,a(g,{"breadcrumb-link":"/base/companies/department"},{default:r(()=>[u(t(n.$t("Департаменты")),1)]),_:1}),le,a(g,null,{default:r(()=>[u(t(p(o).get_department.name),1)]),_:1})]),e("div",de,[e("div",ce,[a(T,{class:"w-7/12"}),a(z)]),a(_,{type:"danger",class:"px-10 py-2 rounded-full",onClick:c[0]||(c[0]=m=>s.showWarning=!0)},{default:r(()=>[u(t(n.$t("Удалить")),1)]),_:1}),s.showWarning?(i(),C(W,{key:0,onShowModal:c[3]||(c[3]=m=>s.showWarning=!s.showWarning)},{default:r(()=>[e("div",null,[a(x,null,{default:r(()=>[u(t(n.$t("Предупреждение")),1)]),_:1}),e("div",me,[e("p",null,t(n.$t("Вы действительно хотите удалить департамент?")),1),e("p",ue,t(n.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",pe,[a(_,{type:"danger",class:"w-3/12 py-2 rounded-full",onClick:c[1]||(c[1]=m=>s.showWarning=!1)},{default:r(()=>[u(t(n.$t("Отмена")),1)]),_:1}),a(_,{type:"success",class:"w-3/12 py-2 rounded-full",onClick:c[2]||(c[2]=m=>p(o).deleteDepartment({id:p(o).get_department.id},n.$router))},{default:r(()=>[u(t(n.$t("Удалить")),1)]),_:1})])]),_:1})):b("",!0)]),e("div",he,[(h=p(o).get_department)!=null&&h.id?(i(),l("div",_e,[(i(!0),l(v,null,$((k=(f=p(o))==null?void 0:f.get_department)==null?void 0:k.participants,m=>(i(),C(ae,{"user-item":m},null,8,["user-item"]))),256))])):(i(),l("div",fe,[(i(),l(v,null,$(5,m=>a(D,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",ge,[a(B,{class:"w-full"},{default:r(()=>{var m;return[a(x,null,{default:r(()=>[u("Информация")]),_:1}),e("div",null,[e("div",xe,[e("div",we,[ke,e("p",Ce,t(n.$t("Сотрудников"))+": ",1)]),e("div",null,[e("p",ve,t((m=p(o).get_department.participants)==null?void 0:m.length),1)])])])]}),_:1})])])])}}});export{De as default};
