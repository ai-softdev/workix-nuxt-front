import{g as C,o as n,j as x,w as l,a as e,t,h as i,c as d,i as _,m as B,J as E,Y as D,z as I,d as m,b as c,F as L,r as M}from"./entry.BElsFtQk.js";import{u as S}from"./index.CuiLDjvP.js";import{_ as f}from"./TheBreadcrumbs.vue.B0vqO89J.js";import{u as H}from"./companies.we6TPtEi.js";import{_ as W}from"./TheSearch.vue.DedLSzd5.js";import{_ as A}from"./nuxt-link.CQaYBq4H.js";import{u as N}from"./auth.Br_idTkw.js";import{_ as V}from"./TheTextContent.vue.DFcZcyGX.js";import{_ as g}from"./TheButton.vue.C5HZRycA.js";import{_ as G}from"./TheModal.vue.B2q1Y8Ma.js";import{T}from"./TheSceleton.CXzDsfu5.js";import"./nuxt-storage.CDH-9eXG.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const O=""+globalThis.__publicAssetsURL("icons/delete.svg"),R={class:"flex items-center gap-x-4 border-r max-sm:border-none max-sm:justify-center"},U=["src"],Z={class:"font-bold max-xl:text-center"},F={class:"flex flex-col items-center justify-center border-r max-[900px]:border-none"},q={key:0,class:"text-lg font-medium mb-2"},z={key:1,class:"text-lg font-medium mb-2"},J={class:"text-center flex flex-col gap-y-2"},Y={key:0,class:"text-sm text-mediumGray"},K={class:"text-mediumGray text-sm"},P={class:"flex items-center justify-between gap-5 max-[900px]:justify-start max-[900px]:border-r max-sm:border-none max-sm:justify-center"},Q={class:"text-center pr-6 pl-8 max-[900px]:pr-0"},X={class:"font-medium"},ee=e("h2",{class:"text-mediumGray text-sm"},"00.00.0000",-1),te=e("div",{class:"max-[900px]:hidden h-full border-l flex items-center justify-center pl-8"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),se=e("div",{class:"hidden h-full max-[900px]:flex items-center justify-center"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),oe=C({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(r){const o=N();return(p,w)=>{const h=A;return n(),x(h,{to:`/base/users/${r.userItem.id}`,class:"department__item w-full transition-all grid grid-cols-3 max-[900px]:grid-cols-2 max-sm:grid-cols-1 gap-4 hover:shadow-departmentCard border bg-whiteLilia hover:bg-white hover:border-golden dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-5 rounded-3xl cursor-pointer"},{default:l(()=>{var s,a;return[e("div",R,[e("img",{class:"w-14 h-14 rounded-full shadow",src:r.userItem.photo},null,8,U),e("h2",Z,t(r.userItem.first_name+" "+r.userItem.last_name),1)]),e("div",F,[((s=i(o).user.role)==null?void 0:s.name_en)==="admin"?(n(),d("p",q,t(p.$t("Роль | Должность")),1)):(n(),d("p",z,t(p.$t("Должность")),1)),e("div",J,[((a=i(o).user.role)==null?void 0:a.name_en)==="admin"?(n(),d("h2",Y,"("+t(r.userItem.role)+")",1)):_("",!0),e("h2",K,t(r.userItem.position),1)])]),e("div",P,[e("div",Q,[e("h2",X,t(p.$t("Дата регистрации")),1),ee]),te]),se]}),_:1},8,["to"])}}}),ne={class:"flex items-center gap-4 max-sm:flex-col max-sm:items-start"},re=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 8H1M1 8L8 15M1 8L8 1",stroke:"#7D7D7D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ae={class:"flex items-center flex-wrap gap-x-3"},ie=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),le=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),de={class:"mt-8 flex items-center gap-4 justify-between max-[680px]:flex-col max-[680px]:items-start max-[680px]:gap-5"},me={class:"dark:text-white text-3xl font-bold"},ce=e("img",{src:O,alt:"delete-button"},null,-1),ue={class:"flex items-center gap-x-10 mt-8"},pe={class:"flex items-center w-11/12 max-sm:w-full gap-x-10"},xe={class:"text-center font-bold max-sm:w-9/12 max-sm:mx-auto"},he={class:"text-center text-lg max-sm:text-sm w-7/12 mx-auto my-10 dark:text-white break-words max-sm:w-full"},fe={class:"text-redOrange"},ge={class:"!text-base nt-2"},_e={class:"flex justify-center gap-3 max-sm:flex-col"},we={class:"flex gap-x-10 w-full mt-8 max-[1200px]:flex-col max-[1200px]:gap-3"},be={key:0,class:"flex max-[1200px]:order-1 w-full gap-y-4 flex-col"},ve={key:1,class:"w-full max-[1200px]:order-1 flex flex-col items-center justify-center gap-4 p-6 rounded-3xl shadow-departmentInfo bg-white"},ke={key:1,class:"text-gray-500 text-center py-4"},ye={class:"w-3/12 max-[1200px]:w-full bg-white p-6 rounded-3xl h-fit shadow-departmentInfo"},$e=e("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 15.5V11.5M11 7.5H11.01M21 11.5C21 17.0228 16.5228 21.5 11 21.5C5.47715 21.5 1 17.0228 1 11.5C1 5.97715 5.47715 1.5 11 1.5C16.5228 1.5 21 5.97715 21 11.5Z",stroke:"#2A2A2A","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1),je={class:"flex items-center justify-between mt-8"},Ge=C({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(r){const o=H(),p=B(),w=E();function h(){w.back()}return D(()=>{o.loadDepartment({id:p.params.id})}),I(()=>{S({title:`${o.current_department.name}`})}),(s,a)=>{var b,v,k,y,$,j;return n(),d("div",null,[e("div",ne,[e("button",{onClick:h,class:"px-6 py-2 rounded-[30px] border-2 font-bold text-mediumGray bg-white flex items-center gap-2"},[re,m(" "+t(s.$t("Назад")),1)]),e("div",ae,[c(f,{"breadcrumb-link":"/base/companies"},{default:l(()=>[m(t(s.$t("Компания")),1)]),_:1}),ie,c(f,{"breadcrumb-link":"/base/companies/department"},{default:l(()=>[m(t(s.$t("Департаменты")),1)]),_:1}),le,c(f,null,{default:l(()=>[m(t(i(o).get_department.name),1)]),_:1})])]),e("div",de,[e("p",me,t(i(o).get_department.name),1),(v=(b=i(o).get_department)==null?void 0:b.participants)!=null&&v.length?_("",!0):(n(),x(g,{key:0,type:"danger",class:"px-10 py-2 !bg-whiteSmoke !border !border-gainsboro rounded-full flex items-center gap-3 !text-sunset",onClick:a[0]||(a[0]=u=>r.showWarning=!0)},{default:l(()=>[ce,m(" "+t(s.$t("Удалить отдел")),1)]),_:1}))]),e("div",ue,[e("div",pe,[c(W,{class:"w-3/12 max-[900px]:w-full"})]),r.showWarning?(n(),x(G,{key:0,onShowModal:a[3]||(a[3]=u=>r.showWarning=!r.showWarning)},{default:l(()=>[e("div",null,[e("p",xe,t(s.$t("Вы действительно хотите удалить департамент?")),1),e("div",he,[e("p",fe,t(s.$t("Предупреждение!")),1),e("p",ge,t(s.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",_e,[c(g,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-black hover:!bg-gray-200 gap-3 py-2 !bg-porcelain !border transition-all ease-in-out duration-300",t:"button",onClick:a[1]||(a[1]=u=>r.showWarning=!1)},{default:l(()=>[m(t(s.$t("Отменить")),1)]),_:1}),c(g,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-white gap-3 py-2 !bg-redOrange !border transition-all ease-in-out duration-300",t:"submit",onClick:a[2]||(a[2]=u=>i(o).deleteDepartment({id:i(o).get_department.id},s.$router))},{default:l(()=>[m(t(s.$t("Удалить")),1)]),_:1})])]),_:1})):_("",!0)]),e("div",we,[(k=i(o).get_department)!=null&&k.id?(n(),d("div",ve,[($=(y=i(o).get_department)==null?void 0:y.participants)!=null&&$.length?(n(!0),d(L,{key:0},M(i(o).get_department.participants,u=>(n(),x(oe,{key:u.id,"user-item":u},null,8,["user-item"]))),128)):(n(),d("p",ke,t(s.$t("Пользователей пока нет")),1))])):(n(),d("div",be,[(n(),d(L,null,M(5,u=>c(T,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",ye,[c(V,null,{default:l(()=>[$e,m(" "+t(s.$t("Информация")),1)]),_:1}),e("div",je,[e("p",null,t(s.$t("Сотрудников"))+": ",1),e("p",null,t((j=i(o).get_department.participants)==null?void 0:j.length),1)])])])])}}});export{Ge as default};
