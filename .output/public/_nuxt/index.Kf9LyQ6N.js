import{u as Q}from"./index.BrZAsMLE.js";import{u as T}from"./test.DZuLtsTh.js";import{u as U}from"./auth.DeD-ATm7.js";import{_ as y}from"./TheTextContent.vue.s8qy9Ijc.js";import{_ as O}from"./nuxt-link.DdSyYQ36.js";import"./entry.DudYgcMd.js";import{T as b}from"./TheContentBlock.BdKopNO0.js";import{_ as $}from"./TheButton.vue.CwDc-82j.js";import{n as h,l as A}from"./nuxt-storage.LTSgK-Sl.js";import{j as S,a as B,a9 as z,N as i,O as c,Z as e,L as r,V as o,u as t,a2 as w,$ as f,_ as a,P as v,a5 as F,a4 as D,aa as M,aj as R,J as q,a3 as C,ah as Z,ab as G,a6 as J,a8 as P}from"./swiper-vue.CGVHF6NK.js";import{_ as E}from"./TheModal.vue.OUMXEhg8.js";import{_ as H}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{_ as K}from"./TheInput.vue.DPjuIUBj.js";import{u as W}from"./companies.CaOcS73I.js";const N=""+globalThis.__publicAssetsURL("img/2.png"),V=""+globalThis.__publicAssetsURL("img/3.webp"),X={class:"flex flex-col gap-y-10 w-full"},Y={class:"w-full flex max-sm:flex-col max-sm:gap-y-4 gap-x-10 justify-center"},ee={class:"w-5/12 max-sm:w-11/12 mx-auto"},te=e("div",{class:"justify-center flex"},[e("img",{class:"rounded-lg",src:N,alt:""})],-1),se=e("div",{class:"my-2"},[e("p",{class:"text-sm tracking-wider"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab aliquid atque commodi consectetur cupiditate distinctio dolores earum eius esse eum ipsam iste minus molestiae, natus necessitatibus neque nulla optio pariatur placeat porro quasi quia quibusdam, ratione reiciendis rem rerum sunt suscipit tempore unde velit! Accusantium amet asperiores assumenda atque dolorem dolores enim explicabo impedit iste magnam modi necessitatibus omnis placeat quae quidem quo repellendus reprehenderit, saepe soluta voluptates. Deleniti dolores eligendi, error laboriosam minima quasi quod repellendus temporibus unde. Debitis earum incidunt maiores vitae. Accusantium alias deleniti doloremque illo illum, itaque, nemo pariatur quidem ratione sapiente sunt tempora veritatis voluptate.")],-1),le={class:"w-5/12 max-sm:w-11/12 mx-auto"},ae=e("div",{class:"justify-center h-full flex"},[e("img",{class:"rounded-lg h-full",src:V,alt:""})],-1),oe=e("div",{class:"my-2"},[e("p",{class:"text-sm tracking-wider"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab aliquid atque commodi consectetur cupiditate distinctio dolores earum eius esse eum ipsam iste minus molestiae, natus necessitatibus neque nulla optio pariatur placeat porro quasi quia quibusdam, ratione reiciendis rem rerum sunt suscipit tempore unde velit! Accusantium amet asperiores assumenda atque dolorem dolores enim explicabo impedit iste magnam modi necessitatibus omnis placeat quae quidem quo repellendus reprehenderit, saepe soluta voluptates. Deleniti dolores eligendi, error laboriosam minima quasi quod repellendus temporibus unde. Debitis earum incidunt maiores vitae. Accusantium alias deleniti doloremque illo illum, itaque, nemo pariatur quidem ratione sapiente sunt tempora veritatis voluptate.")],-1),ie={key:0},ne={class:"text-center"},re={key:0},ue={key:1},de={key:2},me={class:"w-5/12 max-md:w-full"},ce={class:"w-[250px] max-md:w-9/12 max-sm:w-full mx-auto"},pe={key:0,class:"w-full h-full",src:N,alt:""},fe={key:1,class:"w-full h-full",src:V,alt:""},xe={key:2,class:"w-full h-full",src:V,alt:""},ge={class:"flex max-lg:flex-col items-center justify-around max-md:justify-center w-8/12 max-md:w-full gap-x-10 max-md:gap-y-4"},_e={class:"w-7/12 max-md:w-full"},we={class:"text-gray-400 max-sm:text-sm tracking-widest"},ye={class:"text-2xl max-sm:text-lg break-words"},he=S({__name:"TestContent",setup(u){const _=U(),p=T();p.loadExam();const l=B({type:""});return z(()=>{_.user.exam_active===!0&&p.loadCurrentTest()}),(x,n)=>{const g=O;return i(),c("div",X,[e("div",Y,[e("div",ee,[r(b,null,{default:o(()=>[r(y,null,{default:o(()=>[f(a(x.$t("По специальности")),1)]),_:1}),te,se,e("div",{class:"mt-4 flex justify-center",onClick:n[1]||(n[1]=s=>{t(l).type="testSpecial",t(h).localStorage.setData("testType",t(l).type)})},[t(_).user.exam_active?w("",!0):(i(),v($,{key:0,type:"success",class:"px-10 py-2 rounded-lg",onClick:n[0]||(n[0]=s=>t(p).testStart({usual:0},x.$router))},{default:o(()=>[f(a(x.$t("Начать")),1)]),_:1}))])]),_:1})]),e("div",le,[r(b,null,{default:o(()=>[r(y,null,{default:o(()=>[f(a(x.$t("На интеллект")),1)]),_:1}),ae,oe,e("div",{class:"mt-4 flex justify-center",onClick:n[3]||(n[3]=s=>{t(l).type="testIq",t(h).localStorage.setData("testType",t(l).type)})},[t(_).user.exam_active?w("",!0):(i(),v($,{key:0,type:"success",class:"px-10 py-2 rounded-lg",onClick:n[2]||(n[2]=s=>t(p).testStart({usual:1},x.$router))},{default:o(()=>[f(a(x.$t("Начать")),1)]),_:1}))])]),_:1})])]),t(_).user.exam_active?(i(),c("div",ie,[r(b,{class:"w-10/12 mx-auto"},{default:o(()=>{var s,d,m;return[r(y,null,{default:o(()=>[f(a(x.$t("Текущий тест")),1)]),_:1}),e("p",ne,[t(h).localStorage.getData("testType")?(i(),c("span",re,a(x.$t("по")+" "),1)):w("",!0),t(h).localStorage.getData("testType")==="testIq"?(i(),c("span",ue,a("IQ"))):t(h).localStorage.getData("testType")==="testSpecial"?(i(),c("span",de,a(x.$t("специальности")),1)):w("",!0)]),e("div",{class:"p-4 w-full h-full flex max-md:flex-wrap border-t gap-x-4 dark:border-gray-500 mt-2",onClick:n[4]||(n[4]=L=>console.log(t(h).localStorage.getData("testType")))},[e("div",me,[e("div",ce,[t(h).localStorage.getData("testType")==="testSpecial"?(i(),c("img",pe)):t(h).localStorage.getData("testType")==="testIq"?(i(),c("img",fe)):(i(),c("img",xe))])]),e("div",ge,[e("div",_e,[e("p",we,a(x.$t("Вопрос:")),1),e("p",ye,a(((s=t(p).get_current_test.test)==null?void 0:s.question.length)>80?((d=t(p).get_current_test.test)==null?void 0:d.question.slice(0,80))+"...":(m=t(p).get_current_test.test)==null?void 0:m.question),1)]),r(g,{to:"/base/tests/exam",class:"text-2xl text-white max-sm:text-lg py-2 bg-blueDarkSemiLight rounded-full text-center w-4/12 max-lg:w-7/12 max-md:w-full"},{default:o(()=>[f(a(x.$t("Продолжить")),1)]),_:1})])])]}),_:1})])):w("",!0)])}}}),ve={},$e={class:"flex max-lg:flex-wrap gap-y-4 justify-center gap-x-10 my-10 mx-auto w-full"};function be(u,_){return i(),c("div",$e,[F(u.$slots,"default")])}const k=H(ve,[["render",be]]),ke={class:""},qe={class:"flex flex-wrap gap-y-2 justify-center gap-x-10"},Ce={class:"flex flex-col w-full items-center"},Te=e("span",{class:"text-red-500 ml-2"},"*",-1),Se=["value"],Le={class:"w-full"},je={class:"w-full"},Ae={class:"text-center text-sm text-gray-300 my-2"},De={class:"flex flex-col w-full"},Be={key:0,class:"text-red-500"},Ee=["onUpdate:modelValue"],Ve={class:"flex gap-x-2 mt-8"},Me=["onClick"],Ie=e("svg",{class:"fill-white",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.2287 6.60355C21.6193 6.99407 21.6193 7.62723 21.2287 8.01776L10.2559 18.9906C9.86788 19.3786 9.23962 19.3814 8.84811 18.9969L2.66257 12.9218C2.26855 12.5349 2.26284 11.9017 2.64983 11.5077L3.35054 10.7942C3.73753 10.4002 4.37067 10.3945 4.7647 10.7815L9.53613 15.4677L19.1074 5.89644C19.4979 5.50592 20.1311 5.50591 20.5216 5.89644L21.2287 6.60355Z"})],-1),Ue=[Ie],Ne=["onClick"],Qe=e("svg",{class:"fill-white",width:"20px",height:"20px",viewBox:"-3.5 0 19 19",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"})],-1),Oe=[Qe],ze=S({__name:"TestCreate",props:{showCreate:{type:Boolean,default:!1},trimi:{type:Boolean,default:null},checkAnswer:{type:Object,default:()=>{}}},setup(u){const _=W(),p=T(),l=B(""),x=u,n=B({answer:"",options_list:[{},{}],department_id:null,question:""});return(g,s)=>(i(),c("div",ke,[e("button",{class:"font-bold tracking-widest text-white bg-blue-400 mx-auto py-4 rounded-xl px-4 text-sm",onClick:s[0]||(s[0]=d=>{u.showCreate=!0,t(_).loadDepartmentList()})},a(g.$t("Создать тест")),1),u.showCreate?(i(),v(E,{key:0,onShowModal:s[8]||(s[8]=d=>u.showCreate=!u.showCreate)},{default:o(()=>[r(y,null,{default:o(()=>[f(a(g.$t("Создание тест")),1)]),_:1}),e("form",{class:"!overflow-x-hidden p-2",onSubmit:s[7]||(s[7]=J(()=>{var d;t(n).options_list.find(m=>m.text.trim()=="")?t(A).error("Заполните пустые поля",{autoClose:1500,theme:"auto"}):t(l)===""?(l.value="error",t(A).error("Укажите тип теста",{autoClose:1500,theme:"auto"})):t(l)==="testSpecial"&&!t(n).department_id?t(A).error("Выберите департамент",{autoClose:1500,theme:"auto"}):t(p).createTest({test:t(n),answer:(d=x.checkAnswer.item)==null?void 0:d.text,options:t(n).options_list.filter(m=>m.text).map(m=>m.text)}).then(m=>{t(p).loadAllTest({page:1,limit:20})})},["prevent"]))},[r(k,null,{default:o(()=>[e("div",qe,[e("button",{type:"button",class:D(["border px-6 py-4 rounded-lg transition-all",{"bg-gray-700 text-white":t(l)==="testIQ","bg-red-400 text-white":t(l)==="error"}]),onClick:s[1]||(s[1]=d=>{l.value="testIQ",t(n).department_id=null})},a(g.$t("На IQ")),3),e("button",{type:"button",class:D(["border px-6 py-4 rounded-lg transition-all",{"bg-gray-700 text-white":t(l)==="testSpecial","bg-red-400 text-white":t(l)==="error"}]),onClick:s[2]||(s[2]=d=>l.value="testSpecial")},a(g.$t("По специальности")),3)])]),_:1}),t(l)==="testSpecial"?(i(),v(k,{key:0},{default:o(()=>{var d;return[e("div",Ce,[e("p",null,[f(a(g.$t("Выберите департамент")),1),Te]),M(e("select",{class:"w-7/12 max-lg:w-full dark:bg-gray-300 dark:border-none border dark:text-black text-sm rounded-lg py-4 px-2","onUpdate:modelValue":s[3]||(s[3]=m=>t(n).department_id=m)},[(i(!0),c(q,null,C((d=t(_).get_all_department)==null?void 0:d.results,m=>(i(),c("option",{value:m.id},a(m.name),9,Se))),256))],512),[[R,t(n).department_id]])])]}),_:1})):w("",!0),r(k,null,{default:o(()=>[e("div",Le,[r(K,{type:"textarea",required:!0,label:g.$t("Вопрос"),trimi:t(n).question.trim()==""&&t(n).question.length!==0,modelValue:t(n).question,"onUpdate:modelValue":s[4]||(s[4]=d=>t(n).question=d)},null,8,["label","trimi","modelValue"])])]),_:1}),r(k,null,{default:o(()=>[e("div",je,[e("div",null,[r($,{class:"px-10 py-2 mx-auto flex justify-center rounded-full",type:"change",t:"button",onClick:s[5]||(s[5]=d=>t(n).options_list.push({text:""}))},{default:o(()=>[f(a(g.$t("Добавить ответ")),1)]),_:1}),e("p",Ae,"("+a(g.$t("Выберите правильный ответ"))+")",1)]),r(Z,{clas:"=",name:"list",class:"w-full flex flex-col gap-y-4",tag:"ul"},{default:o(()=>[(i(!0),c(q,null,C(t(n).options_list,(d,m)=>{var L;return i(),c("li",{class:"flex max-[400px]:flex-col max-[400px]: gap-x-2 items-center w-full",key:m},[e("div",De,[e("span",null,[f("Ответ "),m===0||m===1?(i(),c("span",Be,"*")):w("",!0)]),M((i(),c("input",{class:D(["w-full p-2 rounded-lg dark:bg-gray-500 bg-gray-200",{"!bg-green-500 text-white":((L=u.checkAnswer)==null?void 0:L.id)===m}]),key:m,type:"text","onUpdate:modelValue":j=>d.text=j},null,10,Ee)),[[G,d.text]])]),e("div",Ve,[e("div",{class:"cursor-pointer bg-blueSemiLight p-2 rounded-lg",onClick:j=>u.checkAnswer={id:m,item:d}},Ue,8,Me),m!==0&&m!==1?(i(),c("div",{key:0,onClick:j=>t(n).options_list.splice(m,1),class:"cursor-pointer bg-red-400 p-2 rounded-lg"},Oe,8,Ne)):w("",!0)])])}),128))]),_:1})])]),_:1}),r(k,null,{default:o(()=>[r($,{class:"py-2 max-sm:w-full px-6 rounded-full",t:"button",type:"danger",onClick:s[6]||(s[6]=d=>u.showCreate=!1)},{default:o(()=>[f(a(g.$t("Отменить")),1)]),_:1}),r($,{class:"py-2 max-sm:w-full px-6 rounded-full",t:"submit",type:"change"},{default:o(()=>[f(a(g.$t("Создать")),1)]),_:1})]),_:1})],32)]),_:1})):w("",!0)]))}}),Fe={class:"p-2 border flex items-center justify-between cursor-pointer rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all"},Re=e("div",{class:"cursor-pointer bg-red-400 p-2 rounded-lg"},[e("svg",{class:"fill-white",width:"20px",height:"20px",viewBox:"-3.5 0 19 19",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"})])],-1),Ze=[Re],Ge={class:"my-2"},Je={class:"flex gap-x-2 w-full justify-center max-lg:flex-wrap gap-y-2"},Pe={class:"max-lg:w-full w-6/12"},He={class:"border p-2 rounded-lg break-words"},Ke={class:"text-center text-xl tracking-widest"},We={class:"font-bold underline"},Xe={class:"flex justify-center gap-x-10 mt-10"},I=S({__name:"TestLists",props:{test:{type:Object,default:()=>{}},openTest:{type:Boolean,default:!1},showTestError:{type:Boolean,default:!1}},setup(u){const _=T();return(p,l)=>{var x,n,g;return i(),c("div",null,[e("div",Fe,[e("div",{class:"w-full",onClick:l[0]||(l[0]=s=>u.openTest=!0)},[e("p",null,a(((x=u.test)==null?void 0:x.question.length)>20?((n=u.test.question)==null?void 0:n.slice(0,20))+"...":(g=u.test)==null?void 0:g.question),1)]),e("div",{onClick:l[1]||(l[1]=s=>u.showTestError=!0)},Ze)]),u.openTest?(i(),v(E,{key:0,onShowModal:l[2]||(l[2]=s=>u.openTest=!u.openTest)},{default:o(()=>[r(y,{class:"break-words"},{default:o(()=>[f(a(p.$t("Тест:")+" "+u.test.question),1)]),_:1}),e("p",Ge,a(p.$t("Варианты ответа:")),1),e("div",Je,[(i(!0),c(q,null,C(u.test.options,s=>(i(),c("div",Pe,[e("p",He,a(s.text),1)]))),256))])]),_:1})):w("",!0),u.showTestError?(i(),v(E,{key:1,onShowModal:l[5]||(l[5]=s=>u.showTestError=!u.showTestError)},{default:o(()=>[r(y,null,{default:o(()=>[f(a(p.$t("Вы уверены что хотите удалить тест?")),1)]),_:1}),e("p",Ke,[f(a(p.$t("Удалённые тесты возврату")+" "),1),e("span",We,a(p.$t("не подлежат")),1)]),e("div",Xe,[r($,{class:"px-10 py-2 rounded-full",type:"danger",onClick:l[3]||(l[3]=s=>u.showTestError=!1)},{default:o(()=>[f(a(p.$t("Отмена")),1)]),_:1}),r($,{class:"px-10 py-2 rounded-full",type:"success",onClick:l[4]||(l[4]=s=>{var d;return t(_).deleteTest({test_id:(d=u.test)==null?void 0:d.id})})},{default:o(()=>[f(a(p.$t("Удалить")),1)]),_:1})])]),_:1})):w("",!0)])}}}),Ye={class:"flex items-center gap-x-6"},et={key:0,class:"flex my-10 gap-x-2 justify-center"},tt={class:"flex max-md:flex-wrap max-md:gap-y-4 gap-x-4"},st={class:"flex flex-col gap-y-2"},lt={class:"flex flex-col gap-y-2"},wt=S({__name:"index",props:{testElem:{type:Object,default:()=>{}}},setup(u){const _=U(),p=T();return P(()=>{var l;(l=_.get_user.permissions)!=null&&l.find(x=>x.name_en==="test.create")&&(p.loadAllTest({limit:20,page:1,usual:0}),p.loadAllTest({limit:20,page:1,usual:1})),Q({title:"Тесты",description:"Страница с тестированием для пользователей"})}),(l,x)=>{var n,g;return i(),c("div",null,[r(y,{"text-type":"pageTitle"},{default:o(()=>[f(a(l.$t("Страница с тестами")),1)]),_:1}),e("div",Ye,[r(he)]),(g=(n=t(_).get_user)==null?void 0:n.permissions)!=null&&g.find(s=>s.name_en==="task.create")?(i(),c("div",et,[r(b,{class:"w-11/12 mx-auto"},{default:o(()=>[r(ze,{class:"mx-auto mb-4"}),e("div",tt,[r(b,{class:"w-6/12 max-md:w-full"},{default:o(()=>{var s;return[r(y,null,{default:o(()=>[f(a(l.$t("IQ тесты")),1)]),_:1}),e("div",st,[(i(!0),c(q,null,C((s=t(p).get_test_iq)==null?void 0:s.results,d=>(i(),v(I,{test:d},null,8,["test"]))),256))])]}),_:1}),r(b,{class:"w-6/12 max-md:w-full"},{default:o(()=>{var s;return[r(y,null,{default:o(()=>[f(a(l.$t("Тесты по Специальности")),1)]),_:1}),e("div",lt,[(i(!0),c(q,null,C((s=t(p).get_test_special)==null?void 0:s.results,d=>(i(),v(I,{test:d},null,8,["test"]))),256))])]}),_:1})])]),_:1})])):w("",!0)])}}});export{wt as default};
