import{_ as B,a as A}from"./profile.BxE9SEw9.js";import{g as v,l as g,o as a,c as l,b as i,h as s,af as j,a5 as S,ag as w,C as P,s as U,a as t,t as e,n as k,i as h,w as x,j as I,d as L,x as M,T as R,F as $,r as D}from"./entry.BElsFtQk.js";import{C as T,A as F,p as O,a as Q,R as X,P as Y}from"./index.BjPFeBPH.js";import{u as Z}from"./companies.we6TPtEi.js";import{u as E}from"./auth.Br_idTkw.js";import{_ as q}from"./TheModal.vue.B2q1Y8Ma.js";import{_ as V}from"./TheButton.vue.C5HZRycA.js";import{_ as b}from"./TheInput.vue.Cp7r601p.js";import{T as y}from"./TheSceleton.CXzDsfu5.js";import{T as z}from"./ThePreloader.COP7GBVK.js";import{u as G}from"./notification.eDAwW9gT.js";import{u as W}from"./tasks.pIkDWnlu.js";import{T as N}from"./TheContentBlock.DEAK9YJz.js";import{u as H}from"./index.CuiLDjvP.js";import"./nuxt-storage.CDH-9eXG.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const J=""+globalThis.__publicAssetsURL("icons/tasks.svg"),K=""+globalThis.__publicAssetsURL("icons/notifications.svg"),tt=v({__name:"ProfileContentChart",setup(o){T.register(F,O,Q,X),T.defaults.color="#b6b6b6";const c=g({labels:["Выполненные задания","Выполненные IQ тесты","Активность","Посещаемость"],datasets:[{backgroundColor:["rgba(109,252,118,0.4)","rgba(252,155,0,0.91)","rgba(0,121,255,0.4)","rgba(255,9,0,0.68)"],data:[70,70,90,100]}]}),m=g({responsive:!0,maintainAspectRatio:!1});return(_,n)=>(a(),l("div",null,[i(s(Y),{class:"text-white",style:{"{color":"white"},data:s(c),options:s(m)},null,8,["data","options"])]))}}),et=""+globalThis.__publicAssetsURL("icons/edit.svg"),st={class:"w-full p-6 relative bg-white shadow-cards max-sm:col-auto dark:shadow-md dark:border-t dark:border-t-gray-500 dark:shadow-gray-500 rounded-3xl hover:transform hover:-translate-y-2 transition-all duration-200"},ot={class:"flex items-center justify-between mb-8"},at={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3"},lt=t("img",{src:B,alt:"profile"},null,-1),rt={class:"dark:text-white"},it=t("img",{src:et,alt:"profile"},null,-1),nt=[it],dt={class:"flex flex-col"},ct={key:0,class:"flex max-sm:flex-wrap max-sm:justify-center select-none text-gray-600 gap-x-2 mb-5 pb-5 border-b"},ut=["src"],mt={class:"my-2 mx-2"},ft={class:"text-md font-bold dark:text-white select-none"},_t={class:"dark:text-white text-sm text-mediumGray"},ht={key:0,class:"dark:text-white tracking-widest font-bold"},pt={key:1,class:"dark:text-white tracking-widest font-bold"},xt={key:1,class:"flex items-center gap-x-4"},gt={class:"flex flex-col gap-y-2"},bt={class:"flex flex-col gap-y-2 ml-2 w-full"},wt={class:"text-sm flex items-center justify-between"},vt={class:"dark:text-white font-bold"},yt={key:0},kt={class:"text-sm flex items-center justify-between"},$t={class:"dark:text-white font-bold"},Ct={class:"text-sm flex items-center justify-between"},Lt={class:"dark:text-white font-bold"},Tt={key:0},Et={key:1},Vt={key:0,class:"text-sm flex items-center justify-between"},Nt={class:"dark:text-white font-bold"},jt={key:0},St=t("div",{class:"bg-black w-full h-full absolute top-0 left-0 opacity-40 rounded-lg"},null,-1),Pt=t("div",null,[t("h2",{class:"text-2xl font-bold dark:text-white"},"Личная информация")],-1),Ut={class:"w-full mt-8"},Dt={class:"mt-10 max-[1275px]:flex-col max-[1275px]:gap-10 flex items-center justify-around bg-whiteLilia p-8 rounded-3xl pb-6 border-b mb-6"},Bt={class:"flex items-center max-[1120px]:flex-col gap-3 dark:text-white border-r pr-10 max-[1275px]:border-none max-[1275px]:pr-0"},At={class:"dark:text-gray-200 font-bold text-md"},It={class:"bg-white rounded-xl py-2 px-4 shadow max-[1120px]:text-center"},Mt={class:"flex items-center max-[1120px]:flex-col gap-3 dark:text-white"},Rt={class:"dark:text-gray-200 font-bold text-md"},Ft={key:0,class:"bg-white rounded-xl py-2 px-4 shadow"},Ot={key:1,class:"bg-white rounded-xl py-2 px-4 shadow"},Qt={class:"grid grid-cols-2 gap-5 mb-12 max-[1120px]:grid-cols-1"},Xt={class:"flex items-center justify-center gap-5 max-[1120px]:flex-col"},Yt=v({__name:"ProfileContentUserInfo",props:{showInfo:{type:Boolean,default:!1},getCode:{type:Boolean,default:!1},userEdit:{type:Object,default:()=>{}}},setup(o){const c=Z(),m=E(),_=g(null);j("(max-width: 700px)");const n=S(w(_));P(()=>({transition:".3s ease-out all",transform:`rotateX(${n.roll*1}deg) rotateY(${n.tilt*1}deg)`}));const p=g(null);w(p);const r=E();return new Date(r.user.date_of_birth).toLocaleDateString(),U(()=>{m.loadCurrentUserWorker()}),(u,d)=>{var C;return a(),l("div",st,[t("div",null,[t("div",ot,[t("div",at,[lt,t("h2",rt,e(u.$t("Личные данные")),1)]),t("button",{onClick:d[0]||(d[0]=f=>{o.showInfo=!0,o.userEdit={...s(r).user}}),class:"w-10 h-10 rounded-lg flex items-center justify-center bg-porcelain hover:bg-gray-300 transition-all ease-in-out duration-300"},nt)]),t("div",{class:k({blur:!s(r).user.id})},[t("div",dt,[s(r).user.id?(a(),l("div",ct,[t("img",{class:"block w-[60px] h-[60px] border-2 border-golden rounded-full shadow-lg dark:shadow-none",src:s(r).user.photo,alt:"logo"},null,8,ut),t("div",mt,[t("h3",ft,e(s(r).user.first_name)+" "+e(s(r).user.last_name),1),t("p",_t,e(Math.trunc((new Date-new Date(s(r).user.date_of_birth))/1e3/3600/24/365)+" лет"),1),s(r).user.role.name==="Администратор сайта"?(a(),l("p",ht,e(s(r).user.role.name),1)):s(r).user.role.name==="Сотрудник"?(a(),l("p",pt,e(s(r).user.position.name),1)):h("",!0)])])):(a(),l("div",xt,[i(y,{"border-radius":"100px",width:"100px",height:"100px"}),t("div",gt,[i(y,{width:"150px",height:"20px","border-radius":"5px"}),i(y,{width:"60px",height:"15px","border-radius":"5px"})])])),t("div",bt,[t("div",wt,[t("p",vt,e(u.$t("Email"))+": ",1),s(r).user.id?(a(),l("p",yt,e(s(r).user.email),1)):h("",!0)]),t("div",kt,[t("p",$t,e(u.$t("Номер"))+": ",1),t("p",null,e((C=s(r).user.phone)==null?void 0:C.slice(4,13)),1)]),t("div",Ct,[t("p",Lt,e(u.$t("Заработная плата"))+": ",1),s(r).user.salary?(a(),l("p",Tt,e(s(r).user.salary+" сум"),1)):(a(),l("p",Et,e(u.$t("Не назначена")),1))]),s(c).company.name?(a(),l("div",Vt,[t("p",Nt,e(u.$t("Компания"))+": ",1),t("p",null,e(s(c).company.name),1)])):h("",!0)])])],2),s(r).user.id?h("",!0):(a(),l("div",jt,[St,i(z)]))]),i(R,{name:"fade"},{default:x(()=>[o.showInfo?(a(),I(q,{key:0,onShowModal:d[7]||(d[7]=f=>{o.showInfo=!1,o.getCode=!1})},{default:x(()=>[t("form",{onSubmit:d[6]||(d[6]=M(f=>s(r).update_my({user:o.userEdit}),["prevent"])),class:"p-6 relative"},[Pt,t("div",Ut,[t("div",Dt,[t("div",Bt,[t("p",At,e(u.$t("Должность:")),1),t("p",It,e(o.userEdit.position.name),1)]),t("div",Mt,[t("p",Rt,e(u.$t("Заработная плата:")),1),o.userEdit.salary?(a(),l("p",Ft,e(o.userEdit.salary+" "+u.$t("сум")),1)):(a(),l("p",Ot,e(u.$t("Нет зарплаты")),1))])]),t("div",Qt,[i(b,{class:"w-full",type:"text",label:"Имя:",modelValue:o.userEdit.first_name,"onUpdate:modelValue":d[1]||(d[1]=f=>o.userEdit.first_name=f)},null,8,["modelValue"]),i(b,{type:"date",modelValue:o.userEdit.date_of_birth,"onUpdate:modelValue":d[2]||(d[2]=f=>o.userEdit.date_of_birth=f),label:"Дата рождения:"},null,8,["modelValue"]),i(b,{type:"text",modelValue:o.userEdit.last_name,"onUpdate:modelValue":d[3]||(d[3]=f=>o.userEdit.last_name=f),label:"Фамилия:"},null,8,["modelValue"]),i(b,{type:"tel",modelValue:o.userEdit.phone,"onUpdate:modelValue":d[4]||(d[4]=f=>o.userEdit.phone=f),label:"Телефон:"},null,8,["modelValue"])]),t("div",Xt,[i(V,{class:"!bg-porcelain !border !text-black rounded-full !w-3/12 max-[1120px]:!w-full !p-2",t:"button",onClick:d[5]||(d[5]=f=>{o.showInfo=!1,o.getCode=!1})},{default:x(()=>[L(e(u.$t("Отмена")),1)]),_:1}),i(V,{class:"!bg-golden !border !text-black rounded-full !w-3/12 max-[1120px]:!w-full !p-2",t:"submit"},{default:x(()=>[L(e(u.$t("Сохранить")),1)]),_:1})])])],32)]),_:1})):h("",!0)]),_:1})])}}}),Zt={class:"flex flex-col gap-4 max-h-[400px] overflow-y-auto"},qt={key:0,class:"text-center"},zt=["onClick"],Gt={key:0,class:"absolute bottom-1 right-2 text-[11px]"},Wt={class:"fill-semiCyan",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.4933 6.93502C15.8053 7.20743 15.8374 7.68122 15.565 7.99325L7.70786 16.9933C7.56543 17.1564 7.35943 17.25 7.14287 17.25C6.9263 17.25 6.72031 17.1564 6.57788 16.9933L3.43502 13.3933C3.16261 13.0812 3.19473 12.6074 3.50677 12.335C3.8188 12.0626 4.29259 12.0947 4.565 12.4068L7.14287 15.3596L14.435 7.00677C14.7074 6.69473 15.1812 6.66261 15.4933 6.93502Z"},null,-1),Jt={key:0,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5175 7.01946C20.8174 7.30513 20.829 7.77986 20.5433 8.07981L11.9716 17.0798C11.8201 17.2389 11.6065 17.3235 11.3872 17.3114C11.1679 17.2993 10.9649 17.1917 10.8318 17.0169L10.4035 16.4544C10.1526 16.1249 10.2163 15.6543 10.5458 15.4034C10.8289 15.1878 11.2161 15.2044 11.4787 15.4223L19.4571 7.04531C19.7428 6.74537 20.2175 6.73379 20.5175 7.01946Z"},Kt={class:"flex flex-col gap-4 dark:text-white text-black"},te={class:"w-full"},ee={class:"text-sm text-start"},se={class:"text-sm flex items-center gap-2"},oe={__name:"ProfileContentNotification",setup(o){const c=G();return(m,_)=>(a(),l("div",Zt,[s(c).get_notification.length?h("",!0):(a(),l("div",qt,e(m.$t("Уведомлений пока нет")),1)),(a(!0),l($,null,D(s(c).get_notification,(n,p)=>(a(),l("div",{key:p,onClick:r=>s(c).readNotice({id:n.id}),class:k(["p-4 relative dark:hover:bg-gray-700 !bg-whiteSmoke border hover:bg-gray-100 cursor-pointer transition-all duration-200 rounded-lg dark:border-gray-500",{"dark:bg-gray-700 bg-gray-100":n.read===!0}])},[n.read?(a(),l("div",Gt,[(a(),l("svg",Wt,[Ht,n.read===!0?(a(),l("path",Jt)):h("",!0)]))])):h("",!0),t("div",Kt,[t("div",te,[t("p",ee,e(n.text),1)]),t("div",se,[t("p",null,e(new Date(n.created_at).toLocaleDateString()),1),t("p",null,e(new Date(n.created_at).toLocaleTimeString().slice(0,5)),1)])])],10,zt))),128))]))}},ae=oe,le=""+globalThis.__publicAssetsURL("icons/mini-task.svg"),re={class:"gap-3 flex items-center flex-col justify-center"},ie={key:0,class:"text-center"},ne={class:"flex flex-col gap-4 w-full"},de={class:"font-bold text-md"},ce={class:"text-sm"},ue={class:"text-sm"},me=t("img",{class:"w-6 block",src:le,alt:"task"},null,-1),fe={__name:"ProfileTasks",setup(o){const c=W();return U(()=>{c.loadTasksLists({page:1,limit:15,query:""})}),(m,_)=>{var n,p;return a(),l("div",re,[(n=s(c))!=null&&n.get_tasks.results?(a(!0),l($,{key:1},D((p=s(c))==null?void 0:p.get_tasks.results,r=>(a(),l("div",{key:r.id,class:"p-4 border flex items-center justify-between gap-3 !bg-whiteSmoke rounded-lg w-full"},[t("div",ne,[t("p",de,e(r.title),1),t("p",ce,e(r.author_name),1),t("p",ue,e(new Date(r.created_at).toLocaleDateString()),1)]),me]))),128)):(a(),l("div",ie,e(m.$t("Задач пока нет")),1))])}}},_e=fe,he={class:"w-full col-span-2 p-6 bg-white dark:border-t dark:border-t-gray-500 dark:shadow-md shadow-profileCard dark:shadow-gray-500 rounded-3xl hover:transform hover:-translate-y-2 transition-all duration-200"},pe={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},xe=t("img",{src:A,alt:"statistic"},null,-1),ge={class:"dark:text-white"},be={class:"grid grid-cols-3 max-[1150px]:!grid-cols-1 gap-x-5 mt-5"},we={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},ve=t("img",{src:J,alt:"tasks"},null,-1),ye={class:"dark:text-white"},ke={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},$e=t("img",{src:K,alt:"tasks"},null,-1),Ce={class:"dark:text-white"},Le=v({__name:"ProfileContent",props:{activeNav:{type:Boolean,default:!1}},setup(o){const c=g(null);j("(max-width: 700px)");const m=S(w(c));P(()=>({transition:".3s ease-out all",transform:`rotateX(${m.roll*1}deg) rotateY(${m.tilt*1}deg)`}));const _=g(null);return w(_),(n,p)=>(a(),l($,null,[t("div",{class:k(["w-full grid grid-cols-3 gap-x-5 max-[1150px]:!grid-cols-1",{"max-[1150px]:grid-cols-2":o.activeNav,"max-[1150px]:grid-cols-3":!o.activeNav}])},[i(Yt),t("div",he,[t("div",pe,[xe,t("h2",ge,e(n.$t("Личная статистика")),1)]),i(tt)])],2),t("div",be,[i(N,{class:"bg-white shadow-profileCard hover:transform hover:-translate-y-2 transition-all duration-200"},{default:x(()=>[t("div",we,[ve,t("h2",ye,e(n.$t("Последние задания")),1)]),i(_e)]),_:1}),i(N,{class:"bg-white shadow-profileCard hover:transform hover:-translate-y-2 transition-all duration-200"},{default:x(()=>[t("div",ke,[$e,t("h2",Ce,e(n.$t("Уведомления")),1)]),i(ae)]),_:1})])],64))}}),Te={class:"flex flex-col"},Ee={class:"w-full mx-auto"},Ye=v({__name:"profile",props:{activeNav:{type:Boolean,default:!1}},setup(o){return H({title:"Профиль",description:"Личный кабинет | Текущая информация обо мне"}),(c,m)=>{const _=Le;return a(),l("div",Te,[t("div",Ee,[i(_,{activeNav:o.activeNav},null,8,["activeNav"])])])}}});export{Ye as default};
