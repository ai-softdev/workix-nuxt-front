var Dt=Object.defineProperty;var Lt=(e,t,r)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var R=(e,t,r)=>(Lt(e,typeof t!="symbol"?t+"":t,r),r);import{_ as ht}from"./Icon.CARq9Z6E.js";import{q as Pt,r as xe,s as G,b as mt,c as Et}from"./entry.Ou-ggK__.js";import{u as Nt}from"./selectMenu.BEHZg3Rm.js";import{_ as Oe}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{j as L,t as Pe,k as P,N as d,O as g,a5 as Ce,Z as s,a4 as q,_ as w,ag as Ut,Q as Ee,ae as be,a2 as T,P as U,$ as z,a as Se,H as vt,a8 as ae,b as Ft,I as Bt,V as C,a3 as ne,a6 as O,u as i,L as $,J as se,M as Ne,ah as ce,a0 as Ht,a1 as Rt,a7 as _t,ac as Gt,ai as qt}from"./swiper-vue.D8OdYOtj.js";import{u as Kt}from"./index.6W5X-fyu.js";import{u as K}from"./documents.BdcKsnoW.js";import{_ as Ue}from"./TheBreadcrumbs.vue.B_sLZff5.js";import{T as Vt}from"./TheContentBlock.CwdlLGEP.js";import{_ as Ae}from"./TheTextContent.vue.m2iseIPA.js";import{_ as H}from"./TheButton.vue.rbsDzk10.js";import{_ as Wt}from"./TheModal.vue.B87978z5.js";import{u as oe}from"./auth.B7mE14iI.js";import{c as ie,g as Jt,l as Zt}from"./nuxt-storage.jjXK-e5k.js";import{u as gt}from"./companies.BfkXz900.js";import{_ as Xt}from"./Tooltip.C5RbbwHM.js";import{u as Qt}from"./users.D63RZTbd.js";import"./Icon.Dp-7mKGz.js";import"./index.DKzsDYrr.js";import"./nuxt-link.CyfT1Giu.js";const Yt={wrapper:"w-full flex flex-col gap-2",indicator:{container:"min-w-fit transition-all",text:"text-gray-400 dark:text-gray-500 text-end",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},meter:{base:"appearance-none block w-full bg-none overflow-y-hidden",background:"bg-gray-200 dark:bg-gray-700",color:"text-{color}-500 dark:text-{color}-400",ring:"",rounded:"rounded-full",shadow:"",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},appearance:{inner:"[&::-webkit-meter-inner-element]:block [&::-webkit-meter-inner-element]:relative [&::-webkit-meter-inner-element]:border-none [&::-webkit-meter-inner-element]:bg-none [&::-webkit-meter-inner-element]:bg-transparent",meter:"[&::-webkit-meter-bar]:border-none [&::-webkit-meter-bar]:bg-none [&::-webkit-meter-bar]:bg-transparent",bar:"[&::-webkit-meter-optimum-value]:border-none [&::-webkit-meter-optimum-value]:bg-none [&::-webkit-meter-optimum-value]:bg-current",value:"[&::-moz-meter-bar]:border-none [&::-moz-meter-bar]:bg-none [&::-moz-meter-bar]:bg-current"},bar:{transition:"[&::-webkit-meter-optimum-value]:transition-all [&::-moz-meter-bar]:transition-all",ring:"",rounded:"[&::-webkit-meter-optimum-value]:rounded-full [&::-moz-meter-bar]:rounded-full",size:{"2xs":"[&::-webkit-meter-optimum-value]:h-px [&::-moz-meter-bar]:h-px",xs:"[&::-webkit-meter-optimum-value]:h-0.5 [&::-moz-meter-bar]:h-0.5",sm:"[&::-webkit-meter-optimum-value]:h-1 [&::-moz-meter-bar]:h-1",md:"[&::-webkit-meter-optimum-value]:h-2 [&::-moz-meter-bar]:h-2",lg:"[&::-webkit-meter-optimum-value]:h-3 [&::-moz-meter-bar]:h-3",xl:"[&::-webkit-meter-optimum-value]:h-4 [&::-moz-meter-bar]:h-4","2xl":"[&::-webkit-meter-optimum-value]:h-5 [&::-moz-meter-bar]:h-5"}}},label:{base:"flex gap-2 items-center",text:"truncate",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},color:{white:"text-white dark:text-black",black:"text-black dark:text-white",gray:"text-gray-500 dark:text-gray-400"},default:{size:"md",color:"primary"}},ee=Pt(xe.ui.strategy,xe.ui.meter,Yt),er=L({components:{UIcon:ht},inheritAttrs:!1,slots:Object,props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},indicator:{type:Boolean,default:!1},label:{type:String,default:null},size:{type:String,default:()=>ee.default.size,validator(e){return Object.keys(ee.meter.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return[...xe.ui.colors,...Object.keys(ee.color)].includes(e)}},icon:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:r}=Nt("meter",Pe(e,"ui"),ee,Pe(e,"class"));function a(I,A,u){if(A==u)return I<A?0:100;A>u&&(u=[A,A=u][0]);const f=(I-A)/(u-A)*100;return Math.max(0,Math.min(100,f))}const o=P(()=>G(t.value.indicator.container)),n=P(()=>G(t.value.indicator.text,t.value.indicator.size[e.size])),c=P(()=>G(t.value.meter.base,t.value.meter.background,t.value.meter.ring,t.value.meter.rounded,t.value.meter.shadow,t.value.color[e.color]??t.value.meter.color.replaceAll("{color}",e.color),t.value.meter.size[e.size])),m=P(()=>G(t.value.meter.appearance.inner,t.value.meter.appearance.meter,t.value.meter.appearance.bar,t.value.meter.appearance.value)),y=P(()=>G(t.value.meter.bar.transition,t.value.meter.bar.ring,t.value.meter.bar.rounded,t.value.meter.bar.size[e.size])),l=P(()=>G(t.value.label.base,t.value.label.text,t.value.color[e.color]??t.value.label.color.replaceAll("{color}",e.color),t.value.label.size[e.size])),v=P(()=>e.min>e.max?e.max:e.min),S=P(()=>e.max<e.min?e.min:e.max),_=P(()=>a(Number(e.value),v.value,S.value));return{ui:t,attrs:r,indicatorContainerClass:o,indicatorClass:n,meterClass:c,meterAppearanceClass:m,meterBarClass:y,labelClass:l,normalizedMin:v,normalizedMax:S,percent:_}}}),tr=["value","min","max"];function rr(e,t,r,a,o,n){const c=ht;return d(),g("div",be({class:e.ui.wrapper},e.attrs),[e.indicator||e.$slots.indicator?Ce(e.$slots,"indicator",Ee(be({key:0},{percent:e.percent,value:e.value})),()=>[s("div",{class:q(e.indicatorContainerClass),style:Ut({width:`${e.percent}%`})},[s("div",{class:q(e.indicatorClass)},w(Math.round(e.percent))+"% ",3)],6)]):T("",!0),s("meter",{value:e.value,min:e.normalizedMin,max:e.normalizedMax,class:q([e.meterClass,e.meterAppearanceClass,e.meterBarClass])},null,10,tr),e.label||e.$slots.label?Ce(e.$slots,"label",Ee(be({key:1},{percent:e.percent,value:e.value})),()=>[s("div",{class:q(e.labelClass)},[e.icon?(d(),U(c,{key:0,name:e.icon},null,8,["name"])):T("",!0),z(" "+w(e.label),1)],2)]):T("",!0)],16)}const ar=Oe(er,[["render",rr]]);function nr(){this.__data__=[],this.size=0}var sr=nr;function or(e,t){return e===t||e!==e&&t!==t}var bt=or,ir=bt;function lr(e,t){for(var r=e.length;r--;)if(ir(e[r][0],t))return r;return-1}var pe=lr,cr=pe,ur=Array.prototype,dr=ur.splice;function fr(e){var t=this.__data__,r=cr(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():dr.call(t,r,1),--this.size,!0}var pr=fr,hr=pe;function mr(e){var t=this.__data__,r=hr(t,e);return r<0?void 0:t[r][1]}var vr=mr,_r=pe;function gr(e){return _r(this.__data__,e)>-1}var br=gr,yr=pe;function $r(e,t){var r=this.__data__,a=yr(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var wr=$r,xr=sr,Cr=pr,Sr=vr,Ar=br,kr=wr;function V(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}V.prototype.clear=xr;V.prototype.delete=Cr;V.prototype.get=Sr;V.prototype.has=Ar;V.prototype.set=kr;var he=V,Tr=he;function Ir(){this.__data__=new Tr,this.size=0}var jr=Ir;function zr(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Or=zr;function Mr(e){return this.__data__.get(e)}var Dr=Mr;function Lr(e){return this.__data__.has(e)}var Pr=Lr,Er=typeof ie=="object"&&ie&&ie.Object===Object&&ie,yt=Er,Nr=yt,Ur=typeof self=="object"&&self&&self.Object===Object&&self,Fr=Nr||Ur||Function("return this")(),E=Fr,Br=E,Hr=Br.Symbol,Me=Hr,Fe=Me,$t=Object.prototype,Rr=$t.hasOwnProperty,Gr=$t.toString,te=Fe?Fe.toStringTag:void 0;function qr(e){var t=Rr.call(e,te),r=e[te];try{e[te]=void 0;var a=!0}catch{}var o=Gr.call(e);return a&&(t?e[te]=r:delete e[te]),o}var Kr=qr,Vr=Object.prototype,Wr=Vr.toString;function Jr(e){return Wr.call(e)}var Zr=Jr,Be=Me,Xr=Kr,Qr=Zr,Yr="[object Null]",ea="[object Undefined]",He=Be?Be.toStringTag:void 0;function ta(e){return e==null?e===void 0?ea:Yr:He&&He in Object(e)?Xr(e):Qr(e)}var me=ta;function ra(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wt=ra,aa=me,na=wt,sa="[object AsyncFunction]",oa="[object Function]",ia="[object GeneratorFunction]",la="[object Proxy]";function ca(e){if(!na(e))return!1;var t=aa(e);return t==oa||t==ia||t==sa||t==la}var xt=ca,ua=E,da=ua["__core-js_shared__"],fa=da,ye=fa,Re=function(){var e=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pa(e){return!!Re&&Re in e}var ha=pa,ma=Function.prototype,va=ma.toString;function _a(e){if(e!=null){try{return va.call(e)}catch{}try{return e+""}catch{}}return""}var Ct=_a,ga=xt,ba=ha,ya=wt,$a=Ct,wa=/[\\^$.*+?()[\]{}|]/g,xa=/^\[object .+?Constructor\]$/,Ca=Function.prototype,Sa=Object.prototype,Aa=Ca.toString,ka=Sa.hasOwnProperty,Ta=RegExp("^"+Aa.call(ka).replace(wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ia(e){if(!ya(e)||ba(e))return!1;var t=ga(e)?Ta:xa;return t.test($a(e))}var ja=Ia;function za(e,t){return e==null?void 0:e[t]}var Oa=za,Ma=ja,Da=Oa;function La(e,t){var r=Da(e,t);return Ma(r)?r:void 0}var W=La,Pa=W,Ea=E,Na=Pa(Ea,"Map"),De=Na,Ua=W,Fa=Ua(Object,"create"),ve=Fa,Ge=ve;function Ba(){this.__data__=Ge?Ge(null):{},this.size=0}var Ha=Ba;function Ra(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ga=Ra,qa=ve,Ka="__lodash_hash_undefined__",Va=Object.prototype,Wa=Va.hasOwnProperty;function Ja(e){var t=this.__data__;if(qa){var r=t[e];return r===Ka?void 0:r}return Wa.call(t,e)?t[e]:void 0}var Za=Ja,Xa=ve,Qa=Object.prototype,Ya=Qa.hasOwnProperty;function en(e){var t=this.__data__;return Xa?t[e]!==void 0:Ya.call(t,e)}var tn=en,rn=ve,an="__lodash_hash_undefined__";function nn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rn&&t===void 0?an:t,this}var sn=nn,on=Ha,ln=Ga,cn=Za,un=tn,dn=sn;function J(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}J.prototype.clear=on;J.prototype.delete=ln;J.prototype.get=cn;J.prototype.has=un;J.prototype.set=dn;var fn=J,qe=fn,pn=he,hn=De;function mn(){this.size=0,this.__data__={hash:new qe,map:new(hn||pn),string:new qe}}var vn=mn;function _n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gn=_n,bn=gn;function yn(e,t){var r=e.__data__;return bn(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _e=yn,$n=_e;function wn(e){var t=$n(this,e).delete(e);return this.size-=t?1:0,t}var xn=wn,Cn=_e;function Sn(e){return Cn(this,e).get(e)}var An=Sn,kn=_e;function Tn(e){return kn(this,e).has(e)}var In=Tn,jn=_e;function zn(e,t){var r=jn(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var On=zn,Mn=vn,Dn=xn,Ln=An,Pn=In,En=On;function Z(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Z.prototype.clear=Mn;Z.prototype.delete=Dn;Z.prototype.get=Ln;Z.prototype.has=Pn;Z.prototype.set=En;var St=Z,Nn=he,Un=De,Fn=St,Bn=200;function Hn(e,t){var r=this.__data__;if(r instanceof Nn){var a=r.__data__;if(!Un||a.length<Bn-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fn(a)}return r.set(e,t),this.size=r.size,this}var Rn=Hn,Gn=he,qn=jr,Kn=Or,Vn=Dr,Wn=Pr,Jn=Rn;function X(e){var t=this.__data__=new Gn(e);this.size=t.size}X.prototype.clear=qn;X.prototype.delete=Kn;X.prototype.get=Vn;X.prototype.has=Wn;X.prototype.set=Jn;var Zn=X,Xn="__lodash_hash_undefined__";function Qn(e){return this.__data__.set(e,Xn),this}var Yn=Qn;function es(e){return this.__data__.has(e)}var ts=es,rs=St,as=Yn,ns=ts;function ue(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rs;++t<r;)this.add(e[t])}ue.prototype.add=ue.prototype.push=as;ue.prototype.has=ns;var ss=ue;function os(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var is=os;function ls(e,t){return e.has(t)}var cs=ls,us=ss,ds=is,fs=cs,ps=1,hs=2;function ms(e,t,r,a,o,n){var c=r&ps,m=e.length,y=t.length;if(m!=y&&!(c&&y>m))return!1;var l=n.get(e),v=n.get(t);if(l&&v)return l==t&&v==e;var S=-1,_=!0,I=r&hs?new us:void 0;for(n.set(e,t),n.set(t,e);++S<m;){var A=e[S],u=t[S];if(a)var f=c?a(u,A,S,t,e,n):a(A,u,S,e,t,n);if(f!==void 0){if(f)continue;_=!1;break}if(I){if(!ds(t,function(b,k){if(!fs(I,k)&&(A===b||o(A,b,r,a,n)))return I.push(k)})){_=!1;break}}else if(!(A===u||o(A,u,r,a,n))){_=!1;break}}return n.delete(e),n.delete(t),_}var At=ms,vs=E,_s=vs.Uint8Array,gs=_s;function bs(e){var t=-1,r=Array(e.size);return e.forEach(function(a,o){r[++t]=[o,a]}),r}var ys=bs;function $s(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var ws=$s,Ke=Me,Ve=gs,xs=bt,Cs=At,Ss=ys,As=ws,ks=1,Ts=2,Is="[object Boolean]",js="[object Date]",zs="[object Error]",Os="[object Map]",Ms="[object Number]",Ds="[object RegExp]",Ls="[object Set]",Ps="[object String]",Es="[object Symbol]",Ns="[object ArrayBuffer]",Us="[object DataView]",We=Ke?Ke.prototype:void 0,$e=We?We.valueOf:void 0;function Fs(e,t,r,a,o,n,c){switch(r){case Us:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ns:return!(e.byteLength!=t.byteLength||!n(new Ve(e),new Ve(t)));case Is:case js:case Ms:return xs(+e,+t);case zs:return e.name==t.name&&e.message==t.message;case Ds:case Ps:return e==t+"";case Os:var m=Ss;case Ls:var y=a&ks;if(m||(m=As),e.size!=t.size&&!y)return!1;var l=c.get(e);if(l)return l==t;a|=Ts,c.set(e,t);var v=Cs(m(e),m(t),a,o,n,c);return c.delete(e),v;case Es:if($e)return $e.call(e)==$e.call(t)}return!1}var Bs=Fs;function Hs(e,t){for(var r=-1,a=t.length,o=e.length;++r<a;)e[o+r]=t[r];return e}var Rs=Hs,Gs=Array.isArray,Le=Gs,qs=Rs,Ks=Le;function Vs(e,t,r){var a=t(e);return Ks(e)?a:qs(a,r(e))}var Ws=Vs;function Js(e,t){for(var r=-1,a=e==null?0:e.length,o=0,n=[];++r<a;){var c=e[r];t(c,r,e)&&(n[o++]=c)}return n}var Zs=Js;function Xs(){return[]}var Qs=Xs,Ys=Zs,eo=Qs,to=Object.prototype,ro=to.propertyIsEnumerable,Je=Object.getOwnPropertySymbols,ao=Je?function(e){return e==null?[]:(e=Object(e),Ys(Je(e),function(t){return ro.call(e,t)}))}:eo,no=ao;function so(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var oo=so;function io(e){return e!=null&&typeof e=="object"}var ge=io,lo=me,co=ge,uo="[object Arguments]";function fo(e){return co(e)&&lo(e)==uo}var po=fo,Ze=po,ho=ge,kt=Object.prototype,mo=kt.hasOwnProperty,vo=kt.propertyIsEnumerable,_o=Ze(function(){return arguments}())?Ze:function(e){return ho(e)&&mo.call(e,"callee")&&!vo.call(e,"callee")},go=_o,de={exports:{}};function bo(){return!1}var yo=bo;de.exports;(function(e,t){var r=E,a=yo,o=t&&!t.nodeType&&t,n=o&&!0&&e&&!e.nodeType&&e,c=n&&n.exports===o,m=c?r.Buffer:void 0,y=m?m.isBuffer:void 0,l=y||a;e.exports=l})(de,de.exports);var Tt=de.exports,$o=9007199254740991,wo=/^(?:0|[1-9]\d*)$/;function xo(e,t){var r=typeof e;return t=t??$o,!!t&&(r=="number"||r!="symbol"&&wo.test(e))&&e>-1&&e%1==0&&e<t}var Co=xo,So=9007199254740991;function Ao(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=So}var It=Ao,ko=me,To=It,Io=ge,jo="[object Arguments]",zo="[object Array]",Oo="[object Boolean]",Mo="[object Date]",Do="[object Error]",Lo="[object Function]",Po="[object Map]",Eo="[object Number]",No="[object Object]",Uo="[object RegExp]",Fo="[object Set]",Bo="[object String]",Ho="[object WeakMap]",Ro="[object ArrayBuffer]",Go="[object DataView]",qo="[object Float32Array]",Ko="[object Float64Array]",Vo="[object Int8Array]",Wo="[object Int16Array]",Jo="[object Int32Array]",Zo="[object Uint8Array]",Xo="[object Uint8ClampedArray]",Qo="[object Uint16Array]",Yo="[object Uint32Array]",x={};x[qo]=x[Ko]=x[Vo]=x[Wo]=x[Jo]=x[Zo]=x[Xo]=x[Qo]=x[Yo]=!0;x[jo]=x[zo]=x[Ro]=x[Oo]=x[Go]=x[Mo]=x[Do]=x[Lo]=x[Po]=x[Eo]=x[No]=x[Uo]=x[Fo]=x[Bo]=x[Ho]=!1;function ei(e){return Io(e)&&To(e.length)&&!!x[ko(e)]}var ti=ei;function ri(e){return function(t){return e(t)}}var ai=ri,fe={exports:{}};fe.exports;(function(e,t){var r=yt,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,n=o&&o.exports===a,c=n&&r.process,m=function(){try{var y=o&&o.require&&o.require("util").types;return y||c&&c.binding&&c.binding("util")}catch{}}();e.exports=m})(fe,fe.exports);var ni=fe.exports,si=ti,oi=ai,Xe=ni,Qe=Xe&&Xe.isTypedArray,ii=Qe?oi(Qe):si,jt=ii,li=oo,ci=go,ui=Le,di=Tt,fi=Co,pi=jt,hi=Object.prototype,mi=hi.hasOwnProperty;function vi(e,t){var r=ui(e),a=!r&&ci(e),o=!r&&!a&&di(e),n=!r&&!a&&!o&&pi(e),c=r||a||o||n,m=c?li(e.length,String):[],y=m.length;for(var l in e)(t||mi.call(e,l))&&!(c&&(l=="length"||o&&(l=="offset"||l=="parent")||n&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||fi(l,y)))&&m.push(l);return m}var _i=vi,gi=Object.prototype;function bi(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gi;return e===r}var yi=bi;function $i(e,t){return function(r){return e(t(r))}}var wi=$i,xi=wi,Ci=xi(Object.keys,Object),Si=Ci,Ai=yi,ki=Si,Ti=Object.prototype,Ii=Ti.hasOwnProperty;function ji(e){if(!Ai(e))return ki(e);var t=[];for(var r in Object(e))Ii.call(e,r)&&r!="constructor"&&t.push(r);return t}var zi=ji,Oi=xt,Mi=It;function Di(e){return e!=null&&Mi(e.length)&&!Oi(e)}var Li=Di,Pi=_i,Ei=zi,Ni=Li;function Ui(e){return Ni(e)?Pi(e):Ei(e)}var Fi=Ui,Bi=Ws,Hi=no,Ri=Fi;function Gi(e){return Bi(e,Ri,Hi)}var qi=Gi,Ye=qi,Ki=1,Vi=Object.prototype,Wi=Vi.hasOwnProperty;function Ji(e,t,r,a,o,n){var c=r&Ki,m=Ye(e),y=m.length,l=Ye(t),v=l.length;if(y!=v&&!c)return!1;for(var S=y;S--;){var _=m[S];if(!(c?_ in t:Wi.call(t,_)))return!1}var I=n.get(e),A=n.get(t);if(I&&A)return I==t&&A==e;var u=!0;n.set(e,t),n.set(t,e);for(var f=c;++S<y;){_=m[S];var b=e[_],k=t[_];if(a)var M=c?a(k,b,_,t,e,n):a(b,k,_,e,t,n);if(!(M===void 0?b===k||o(b,k,r,a,n):M)){u=!1;break}f||(f=_=="constructor")}if(u&&!f){var p=e.constructor,h=t.constructor;p!=h&&"constructor"in e&&"constructor"in t&&!(typeof p=="function"&&p instanceof p&&typeof h=="function"&&h instanceof h)&&(u=!1)}return n.delete(e),n.delete(t),u}var Zi=Ji,Xi=W,Qi=E,Yi=Xi(Qi,"DataView"),el=Yi,tl=W,rl=E,al=tl(rl,"Promise"),nl=al,sl=W,ol=E,il=sl(ol,"Set"),ll=il,cl=W,ul=E,dl=cl(ul,"WeakMap"),fl=dl,ke=el,Te=De,Ie=nl,je=ll,ze=fl,zt=me,Q=Ct,et="[object Map]",pl="[object Object]",tt="[object Promise]",rt="[object Set]",at="[object WeakMap]",nt="[object DataView]",hl=Q(ke),ml=Q(Te),vl=Q(Ie),_l=Q(je),gl=Q(ze),B=zt;(ke&&B(new ke(new ArrayBuffer(1)))!=nt||Te&&B(new Te)!=et||Ie&&B(Ie.resolve())!=tt||je&&B(new je)!=rt||ze&&B(new ze)!=at)&&(B=function(e){var t=zt(e),r=t==pl?e.constructor:void 0,a=r?Q(r):"";if(a)switch(a){case hl:return nt;case ml:return et;case vl:return tt;case _l:return rt;case gl:return at}return t});var bl=B,we=Zn,yl=At,$l=Bs,wl=Zi,st=bl,ot=Le,it=Tt,xl=jt,Cl=1,lt="[object Arguments]",ct="[object Array]",le="[object Object]",Sl=Object.prototype,ut=Sl.hasOwnProperty;function Al(e,t,r,a,o,n){var c=ot(e),m=ot(t),y=c?ct:st(e),l=m?ct:st(t);y=y==lt?le:y,l=l==lt?le:l;var v=y==le,S=l==le,_=y==l;if(_&&it(e)){if(!it(t))return!1;c=!0,v=!1}if(_&&!v)return n||(n=new we),c||xl(e)?yl(e,t,r,a,o,n):$l(e,t,y,r,a,o,n);if(!(r&Cl)){var I=v&&ut.call(e,"__wrapped__"),A=S&&ut.call(t,"__wrapped__");if(I||A){var u=I?e.value():e,f=A?t.value():t;return n||(n=new we),o(u,f,r,a,n)}}return _?(n||(n=new we),wl(e,t,r,a,o,n)):!1}var kl=Al,Tl=kl,dt=ge;function Ot(e,t,r,a,o){return e===t?!0:e==null||t==null||!dt(e)&&!dt(t)?e!==e&&t!==t:Tl(e,t,r,a,Ot,o)}var Il=Ot,jl=Il;function zl(e,t){return jl(e,t)}var Ol=zl;const N=Jt(Ol);class ft{constructor(t,r=null,a=null){R(this,"self");R(this,"parent");R(this,"previous");this.self=t,this.parent=r,this.previous=a}}class re{constructor(){R(this,"head");R(this,"tail");this.head=null,this.tail=null}append(t){const r=new ft(t);this.tail&&(this.tail.parent=r),this.head||(this.head=r),this.tail=r}delete(t){var o;if(!this.head)return null;let r=null;for(;this.head&&N(this.head.self,t);)r=this.head,this.head=this.head.parent;let a=this.head;if(a!==null)for(;a.parent;)N(a.parent.self,t)?(r=a.parent,a.parent=a.parent.parent):a=a.parent;return N((o=this.tail)==null?void 0:o.self,t)&&(this.tail=a),r}deleteNodeValue(t,r){let a=this.head;for(;a;){if(N(a.self,t)&&Array.isArray(a.self)){const o=a.self.findIndex(n=>N(n,r));if(o!==-1){a.self.splice(o,1);return}}a=a.parent}}replaceNodeValue(t,r){let a=this.head;for(;a;){if(N(a.self,t)){a.self=r;return}a=a.parent}}addContentToNode(t,r){let a=this.head;for(;a;){if(N(a.self,t)){a.self.push(r);return}a=a.parent}}find(t){if(!this.head)return null;let r=this.head;for(;r;){if(N(r.self,t))return r;r=r.parent}return null}insertAfter(t,r){const a=this.find(t);if(!a)return this;a.next=new ft(r,a.next)}swipeIfCondition(){let t=this.head;for(;t&&t.parent;){if(t.self[0].priority<t.parent.self[0].priority){const r=t.self;t.self=t.parent.self,t.parent.self=r;const a=t.self.parent;t.self.parent=t.parent.self.parent,t.parent.self.parent=a,Zt.info("Пользователь был перемещен",{theme:"auto",autoClose:1500})}console.log(t),t=t.parent}}toArray(){const t=[];let r=this.head;for(;r;)t.push(r),r=r.parent;return t}}const Ml=e=>(Ht("data-v-4c5aef2a"),e=e(),Rt(),e),Dl=["onDragenter"],Ll=["onClick"],Pl={key:1,class:"absolute top-0"},El=["onClick"],Nl=["onClick"],Ul={key:0,class:"absolute rounded-lg dark:bg-gray-700 bg-gray-200 w-[220px] top-10 z-[5] p-2"},Fl=["placeholder"],Bl={class:"overflow-auto max-h-[150px]"},Hl=["onClick"],Rl=Ml(()=>s("svg",{class:"dark:fill-white fill-black",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.46967 8.96967C6.76256 8.67678 7.23744 8.67678 7.53033 8.96967L12 13.4393L16.4697 8.96967C16.7626 8.67678 17.2374 8.67678 17.5303 8.96967C17.8232 9.26256 17.8232 9.73744 17.5303 10.0303L12.5303 15.0303C12.3897 15.171 12.1989 15.25 12 15.25C11.8011 15.25 11.6103 15.171 11.4697 15.0303L6.46967 10.0303C6.17678 9.73744 6.17678 9.26256 6.46967 8.96967Z"})],-1)),Gl=[Rl],ql={key:0},Kl=["onClick"],Vl={class:""},Wl=["onClick"],Jl={class:"flex items-center gap-x-2"},Zl={key:0,class:"max-w-[50px]"},Xl=["src"],Ql={class:"break-words"},Yl={class:"text-sm w-full"},ec=["onClick"],tc=L({__name:"DocumentItemInfoChainScheduleItem",props:{item:{type:Object,default:()=>{}},currentUser:{type:Object,default:()=>{}}},setup(e){const t=gt(),r=oe(),a=Se(!1),o=Se(new re),n=K(),c=u=>{o.value.append(u)},m=u=>{o.value.delete(u)},y=(u,f)=>{o.value.deleteNodeValue(u,f)},l=(u,f)=>{o.value.addContentToNode(u,f),console.log(n.userList)},v=()=>{o.value.swipeIfCondition()};function S(u){a.value=!0,u.target.classList.add("draggedToNode"),u.preventDefault()}function _(u){a.value=!1,u.target.classList.remove("draggedToNode"),u.preventDefault()}function I(u){u.target.classList.add("draggedUser"),u.preventDefault()}function A(u){u.target.classList.remove("draggedUser"),u.preventDefault()}return vt(()=>{var u,f,b,k,M,p;(u=n.documentItem.documentusers)!=null&&u.length?(o.value=new re,console.log("mounted document yes"),n.documentItem.documentusers.forEach(h=>{var j,D,F,Y;c([{first_name:(j=h.user)==null?void 0:j.first_name,last_name:(D=h.user)==null?void 0:D.last_name,photo_url:(F=h.user)==null?void 0:F.photo,id:(Y=h.user)==null?void 0:Y.id}])}),ae(()=>{n.userList=o.value.toArray().map(h=>h.self)})):(console.log("mounted document no"),o.value=new re,o.value.toArray().length===0&&((f=r.user)!=null&&f.first_name)&&c([{first_name:(b=r.user)==null?void 0:b.first_name,last_name:(k=r.user)==null?void 0:k.last_name,photo_url:(M=r.user)==null?void 0:M.photo,id:(p=r.user)==null?void 0:p.id}]),ae(()=>{n.userList=o.value.toArray().map(h=>h.self)}))}),Ft(()=>n.documentItem,()=>{var u,f,b,k,M,p;(u=n.documentItem.documentusers)!=null&&u.length?(o.value=new re,console.log("watch document yes"),n.documentItem.documentusers.forEach(h=>{var j,D,F,Y;c([{first_name:(j=h.user)==null?void 0:j.first_name,last_name:(D=h.user)==null?void 0:D.last_name,photo_url:(F=h.user)==null?void 0:F.photo,id:(Y=h.user)==null?void 0:Y.id}])}),ae(()=>{n.userList=o.value.toArray().map(h=>h.self)})):(console.log("watch document no"),o.value=new re,o.value.toArray().length===0&&((f=r.user)!=null&&f.first_name)&&c([{first_name:(b=r.user)==null?void 0:b.first_name,last_name:(k=r.user)==null?void 0:k.last_name,photo_url:(M=r.user)==null?void 0:M.photo,id:(p=r.user)==null?void 0:p.id}]),ae(()=>{n.userList=o.value.toArray().map(h=>h.self)}))}),Bt(()=>{n.showUsersNode=[],n.showDepartment=[]}),(u,f)=>(d(),U(ce,{name:"list",tag:"div",class:"flex items-center"},{default:C(()=>[(d(!0),g(se,null,ne(i(n).userList,(b,k)=>{var M;return d(),g("div",{key:k,class:"px-2 h-full z-20 relative flex items-center transition-all"},[s("div",{class:"transition-all",onDrop:f[0]||(f[0]=O(p=>console.log(123),["prevent"])),onDragenter:O(p=>k===0||b.length==0?"":S(p),["stop"]),onDragleave:O(_,["stop"])},null,40,Dl),s("div",{onDragleave:f[3]||(f[3]=O(()=>{},["stop"])),onDragenter:f[4]||(f[4]=O(()=>{},["stop"])),onDrop:f[5]||(f[5]=O(p=>console.log(123),["prevent"])),class:q(["w-[220px] gap-y-6 flex items-center flex-col justify-center relative",{"border border-dashed border-blueSemiLight h-20 rounded-lg":b.length===0||b===null}])},[b.length===0?(d(),g("p",{key:0,onClick:p=>console.log(b),class:"absolute text-blueSemiLight tracking-widest text-sm w-full h-full flex items-center justify-center rounded-lg transition-all duration-200",onDragenter:O(I,["prevent"]),onDragleave:O(A,["prevent"])},w(u.$t("Область для добавления")),41,Ll)):T("",!0),k!==0&&!((M=b[0])!=null&&M.id)?(d(),g("div",Pl,[s("button",{onClick:O(p=>i(n).showContext=k,["stop"]),class:"rounded-lg border border-gray-500 dark:border-white absolute px-2.5 pt-1 -top-10 right-10 text-green-400 font-bold"}," + ",8,El),s("button",{onClick:O(p=>{m(b),i(n).showContext=null,i(n).showUsersNode=i(n).showUsersNode.filter(h=>!b.some(j=>j.id===h.id))},["stop"]),class:"rounded-lg border border-gray-500 dark:border-white absolute px-2.5 pt-1 -top-10 left-10 text-red-400 font-bold"}," x ",8,Nl)])):T("",!0),$(Ne,{name:"slide-down",class:"",onClick:f[2]||(f[2]=O(()=>{},["stop"]))},{default:C(()=>[i(n).showContext===k?(d(),g("div",Ul,[s("input",{onClick:f[1]||(f[1]=O(()=>{},["stop"])),type:"text",class:"pl-2 dark:bg-gray-600 rounded-lg outline-none w-full mb-4",placeholder:u.$t("Поиск...")},null,8,Fl),s("div",Bl,[(d(!0),g(se,null,ne(i(t).get_all_department.results,p=>(d(),g("div",null,[s("button",{class:"flex items-center justify-between gap-x-2 w-full break-words break-all",onClick:h=>i(n).showContextDepartment===p.id?i(n).showContextDepartment=null:i(n).showContextDepartment=p.id},[s("span",null,w(p.name),1),s("div",{class:q({"rotate-180":i(n).showContextDepartment===p.id})},Gl,2)],8,Hl),$(Ne,{name:"slide-down"},{default:C(()=>[i(n).showContextDepartment===p.id?(d(),g("div",ql,[(d(!0),g(se,null,ne(p.participants,h=>(d(),g("div",null,[p.participants&&i(n).showUsersNode.every(j=>j.id!==h.id)&&h.id!==i(r).user.id&&b.every(j=>j.priority===h.priority)?(d(),g("button",{key:0,class:"px-2 py-1 w-full flex items-center text-start hover:bg-semiCyan rounded-lg transition-all",onClick:j=>{l(b,{...h}),i(n).showUsersNode.push({id:h.id}),v(),i(n).showContextDepartment=null,i(n).showContext=null,console.log(b.map(D=>D.priority))}},[s("span",Vl,w(h.first_name+" "+h.last_name),1)],8,Kl)):T("",!0)]))),256))])):T("",!0)]),_:2},1024)]))),256))])])):T("",!0)]),_:2},1024),$(ce,{name:"list",tag:"list",class:"flex flex-col gap-y-6 transition-all"},{default:C(()=>[(d(!0),g(se,null,ne(b,(p,h)=>(d(),g("div",{onClick:j=>console.log(i(n).showUsersNode.filter(D=>D.id!==b.filter(F=>F.id))),class:"h-24 w-[220px] border border-gray-500 dark:border-white px-2 rounded-lg text-center flex items-center justify-center mx-auto relative",key:h},[s("div",Jl,[p.photo?(d(),g("div",Zl,[s("img",{class:"w-full rounded-full",src:p.photo,alt:""},null,8,Xl)])):T("",!0),s("div",Ql,[s("p",Yl,w(p.first_name+" "+p.last_name),1)])]),i(n).documentItem.status==="created"&&p.id!==i(r).user.id&&k!==0?(d(),g("button",{key:0,class:"absolute px-2.5 pt-1 top-0 right-0 border-l border-b border-gray-500 dark:border-white rounded rounded-tl-none rounded-br-none text-red-400 font-bold",onClick:j=>{y(b,{...p}),i(n).showUsersNode.splice(i(n).showUsersNode.findIndex(D=>D.id===(p==null?void 0:p.id)),1)}}," X ",8,ec)):T("",!0)],8,Wl))),128))]),_:2},1024)],34)])}),128)),i(n).documentItem.status==="created"?(d(),g("button",{key:0,class:"text-2xl px-4 py-2 ml-4 rounded-lg border border-blueSemiLight text-blueDarkSemiLight cursor-pointer hover:scale-95 transition-all",onClick:f[6]||(f[6]=b=>c([]))}," + ")):T("",!0)]),_:1}))}}),rc=Oe(tc,[["__scopeId","data-v-4c5aef2a"]]),ac={class:"h-[500px] grid overflow-auto border grid-cols-1"},nc=L({__name:"DocumentItemInfoChainSchedule",setup(e){oe();const t=K();return(r,a)=>(d(),g("div",{class:"h-full",onClick:a[0]||(a[0]=o=>i(t).showContext=null)},[s("div",ac,[$(rc)])]))}}),sc={},oc={class:"rounded-lg transition-all duration-200"};function ic(e,t){return d(),g("button",oc,[Ce(e.$slots,"default")])}const pt=Oe(sc,[["render",ic]]),lc={class:""},cc={class:"text-center tracking-widest"},uc={class:"flex items-center gap-x-4 mt-4"},dc={class:"flex items-center gap-x-4 tracking-widest hover:bg-blueSemiLight p-1 rounded-lg transition-all hover:text-white"},fc={key:0},pc=_t(`<svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 56 64" enable-background="new 0 0 56 64" xml:space="preserve"><g><path fill="#8C181A" d="M5.1,0C2.3,0,0,2.3,0,5.1v53.8C0,61.7,2.3,64,5.1,64h45.8c2.8,0,5.1-2.3,5.1-5.1V20.3L37.1,0H5.1z"></path><path fill="#6B0D12" d="M56,20.4v1H43.2c0,0-6.3-1.3-6.1-6.7c0,0,0.2,5.7,6,5.7H56z"></path><path opacity="0.5" fill="#FFFFFF" enable-background="new" d="M37.1,0v14.6c0,1.7,1.1,5.8,6.1,5.8H56L37.1,0z"></path></g><path fill="#FFFFFF" d="M14.9,49h-3.3v4.1c0,0.4-0.3,0.7-0.8,0.7c-0.4,0-0.7-0.3-0.7-0.7V42.9c0-0.6,0.5-1.1,1.1-1.1h3.7\r
            c2.4,0,3.8,1.7,3.8,3.6C18.7,47.4,17.3,49,14.9,49z M14.8,43.1h-3.2v4.6h3.2c1.4,0,2.4-0.9,2.4-2.3C17.2,44,16.2,43.1,14.8,43.1z\r
             M25.2,53.8h-3c-0.6,0-1.1-0.5-1.1-1.1v-9.8c0-0.6,0.5-1.1,1.1-1.1h3c3.7,0,6.2,2.6,6.2,6C31.4,51.2,29,53.8,25.2,53.8z M25.2,43.1\r
            h-2.6v9.3h2.6c2.9,0,4.6-2.1,4.6-4.7C29.9,45.2,28.2,43.1,25.2,43.1z M41.5,43.1h-5.8V47h5.7c0.4,0,0.6,0.3,0.6,0.7\r
            s-0.3,0.6-0.6,0.6h-5.7v4.8c0,0.4-0.3,0.7-0.8,0.7c-0.4,0-0.7-0.3-0.7-0.7V42.9c0-0.6,0.5-1.1,1.1-1.1h6.2c0.4,0,0.6,0.3,0.6,0.7\r
            C42.2,42.8,41.9,43.1,41.5,43.1z"></path></svg>`,1),hc=[pc],mc={key:1},vc=_t('<svg width="50px" height="50px" viewBox="-4 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="m5.11 0a5.07 5.07 0 0 0 -5.11 5v53.88a5.07 5.07 0 0 0 5.11 5.12h45.78a5.07 5.07 0 0 0 5.11-5.12v-38.6l-18.94-20.28z" fill="#107cad"></path><path d="m56 20.35v1h-12.82s-6.31-1.26-6.13-6.71c0 0 .21 5.71 6 5.71z" fill="#084968"></path><path d="m37.07 0v14.56a5.78 5.78 0 0 0 6.11 5.79h12.82z" fill="#90d0fe" opacity=".5"></path></g><path d="m14.24 53.86h-3a1.08 1.08 0 0 1 -1.08-1.08v-9.85a1.08 1.08 0 0 1 1.08-1.08h3a6 6 0 1 1 0 12zm0-10.67h-2.61v9.34h2.61a4.41 4.41 0 0 0 4.61-4.66 4.38 4.38 0 0 0 -4.61-4.68zm14.42 10.89a5.86 5.86 0 0 1 -6-6.21 6 6 0 1 1 11.92 0 5.87 5.87 0 0 1 -5.92 6.21zm0-11.09c-2.7 0-4.41 2.07-4.41 4.88s1.71 4.88 4.41 4.88 4.41-2.09 4.41-4.88-1.72-4.87-4.41-4.87zm18.45.38a.75.75 0 0 1 .2.52.71.71 0 0 1 -.7.72.64.64 0 0 1 -.51-.24 4.06 4.06 0 0 0 -3-1.38 4.61 4.61 0 0 0 -4.63 4.88 4.63 4.63 0 0 0 4.63 4.88 4 4 0 0 0 3-1.37.7.7 0 0 1 .51-.24.72.72 0 0 1 .7.74.78.78 0 0 1 -.2.51 5.33 5.33 0 0 1 -4 1.69 6.22 6.22 0 0 1 0-12.43 5.26 5.26 0 0 1 4 1.72z" fill="#ffffff"></path></svg>',1),_c=[vc],gc={class:"flex items-center gap-x-6"},bc=s("svg",{class:"stroke-black dark:stroke-white hover:!stroke-semiCyan transition",width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M12 7L12 14M12 14L15 11M12 14L9 11","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),s("path",{d:"M16 17H12H8","stroke-width":"1.5","stroke-linecap":"round"}),s("path",{d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8","stroke-width":"1.5","stroke-linecap":"round"})],-1),yc=s("svg",{class:"dark:fill-white fill-black hover:!fill-semiCyan transition",height:"30px",width:"30px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 452.025 452.025","xml:space":"preserve"},[s("path",{d:`M147.912,363.325c-4.7-4.7-12.3-4.7-17,0c-4.7,4.7-4.7,12.3,0,17l13.6,13.6h-55.2c-35.9,0-65-29.2-65-65v-40.3\r
                      c0-6.6-5.4-12-12-12s-12,5.4-12,12v40.3c0,49.1,39.9,89,89,89h55.2l-13.6,13.6c-4.7,4.7-4.7,12.3,0,17c2.3,2.3,5.4,3.5,8.5,3.5\r
                      s6.1-1.2,8.5-3.5l34.1-34.1c4.7-4.7,4.7-12.3,0-17L147.912,363.325z`}),s("path",{d:`M210.312,0.025h-197.1c-6.6,0-12,5.4-12,12v197.1c0,6.6,5.4,12,12,12h197.1c6.6,0,12-5.4,12-12v-197.1\r
                      C222.312,5.425,217.012,0.025,210.312,0.025z M198.312,197.125h-173.1v-173.1h173.1V197.125z`}),s("path",{d:`M362.612,34.125h-55.2l13.6-13.6c4.7-4.7,4.7-12.3,0-17s-12.3-4.7-17,0l-34,34.1c-4.7,4.7-4.7,12.3,0,17l34.1,34.1\r
                      c2.3,2.3,5.4,3.5,8.5,3.5s6.1-1.2,8.5-3.5c4.7-4.7,4.7-12.3,0-17l-13.6-13.6h55.2c35.9,0,65,29.2,65,65v40.3c0,6.6,5.4,12,12,12\r
                      s12-5.4,12-12v-40.3C451.712,74.025,411.712,34.125,362.612,34.125z`}),s("path",{d:`M438.812,428.025c-3.2,0-6.3,1.3-8.5,3.5s-3.5,5.3-3.5,8.5c0,3.1,1.3,6.3,3.5,8.5s5.3,3.5,8.5,3.5s6.3-1.3,8.5-3.5\r
                      s3.5-5.3,3.5-8.5s-1.3-6.3-3.5-8.5C445.012,429.325,441.912,428.025,438.812,428.025z`}),s("path",{d:"M389.512,428.025c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S396.112,428.025,389.512,428.025z"}),s("path",{d:"M290.912,428.025c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S297.612,428.025,290.912,428.025z"}),s("path",{d:"M340.212,428.025c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S346.812,428.025,340.212,428.025z"}),s("path",{d:`M241.713,428.025c-3.2,0-6.3,1.3-8.5,3.5s-3.5,5.3-3.5,8.5c0,3.1,1.3,6.3,3.5,8.5s5.3,3.5,8.5,3.5c3.1,0,6.3-1.3,8.5-3.5\r
                      s3.5-5.3,3.5-8.5s-1.3-6.3-3.5-8.5S244.812,428.025,241.713,428.025z`}),s("path",{d:"M241.713,378.725c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S248.312,378.725,241.713,378.725z"}),s("path",{d:"M241.713,329.425c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S248.312,329.425,241.713,329.425z"}),s("path",{d:"M241.713,280.125c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S248.312,280.125,241.713,280.125z"}),s("path",{d:`M241.713,230.925c-3.2,0-6.3,1.3-8.5,3.5s-3.5,5.3-3.5,8.5s1.3,6.3,3.5,8.5s5.3,3.5,8.5,3.5c3.1,0,6.3-1.3,8.5-3.5\r
                      s3.5-5.3,3.5-8.5c0-3.1-1.3-6.3-3.5-8.5C247.912,232.125,244.812,230.925,241.713,230.925z`}),s("path",{d:"M389.512,230.925c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S396.112,230.925,389.512,230.925z"}),s("path",{d:"M340.212,230.925c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S346.812,230.925,340.212,230.925z"}),s("path",{d:"M290.912,230.925c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S297.612,230.925,290.912,230.925z"}),s("path",{d:`M438.812,230.925c-3.2,0-6.3,1.3-8.5,3.5s-3.5,5.3-3.5,8.5s1.3,6.3,3.5,8.5s5.3,3.5,8.5,3.5s6.3-1.3,8.5-3.5\r
                      s3.5-5.3,3.5-8.5c0-3.1-1.3-6.3-3.5-8.5C445.012,232.225,441.912,230.925,438.812,230.925z`}),s("path",{d:"M438.812,280.125c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S445.412,280.125,438.812,280.125z"}),s("path",{d:"M438.812,378.725c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S445.412,378.725,438.812,378.725z"}),s("path",{d:"M438.812,329.425c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S445.412,329.425,438.812,329.425z"})],-1),$c=s("button",null,null,-1),Mt=L({__name:"DocumentItemInfoChainFile",props:{item:Object,default:()=>{}},setup(e){return(t,r)=>{var o,n,c,m;const a=Xt;return d(),g("div",lc,[s("p",cc,w(t.$t("Прикреплённый файл:")),1),s("div",uc,[s("button",dc,[((o=e.item.file_name)==null?void 0:o.substr(-3))==="pdf"?(d(),g("div",fc,hc)):T("",!0),((n=e.item.file_name)==null?void 0:n.substr(-3))==="doc"||((c=e.item.file_name)==null?void 0:c.substr(-4))==="docx"?(d(),g("div",mc,_c)):T("",!0),s("span",null,w(e.item.file_name),1)]),s("div",gc,[$(pt,null,{default:C(()=>[$(a,{text:t.$t("Скачать"),class:"tracking-widest"},{default:C(()=>[bc]),_:1},8,["text"])]),_:1}),(m=e.item.chain)!=null&&m.self?T("",!0):(d(),U(pt,{key:0},{default:C(()=>[$(a,{text:t.$t("Изменить файл"),class:"tracking-widest"},{default:C(()=>[yc]),_:1},8,["text"])]),_:1})),$c])])])}}}),wc={class:"overflow-x-hidden"},xc={class:""},Cc={class:"justify-center gap-x-10 border-b border-l border-r p-4 rounded-b-xl rounded-t-sm"},Sc={class:"flex gap-x-6 justify-center items-center"},Ac={class:"flex justify-center gap-x-10 mt-4"},kc={class:"my-6"},Tc={class:"text-center tracking-widest text-lg"},Ic={class:"text-sm tracking-widest text-gray-300 my-6"},jc={class:"flex justify-center gap-x-10"},zc=L({__name:"DocumentItemInfoChain",setup(e){const t=mt(),r=Et(),a=K(),o=oe();Se(!1);function n(l){return new Promise((v,S)=>{if(document.querySelector(`script[src="${l}"]`)){v();return}const _=document.createElement("script");_.src=l,_.async=!0,_.onload=()=>v(),_.onerror=()=>S(new Error(`Ошибка загрузки скрипта ${l}`)),document.head.appendChild(_)})}async function c(){try{await n("/e-imzo/e-imzo.js"),await n("/e-imzo/e-imzo-client.js"),await n("/e-imzo/micro-ajax.js"),await n("/e-imzo/e-imzo-init.js"),console.log("✅ Все скрипты загружены")}catch(l){console.error("❌ Ошибка загрузки скриптов E-IMZO",l)}}vt(async()=>{await c()});const m=l=>l.flat().map(v=>v.id).filter(v=>v);function y(){let l=m(a.userList);a.setUsers({slug:t.params.slug,form:l},r)}return(l,v)=>{var S;return d(),g("div",wc,[$(Ae,{class:"my-4"},{default:C(()=>[z(w(l.$t("Выстраивание цепочки для подписания документа")),1)]),_:1}),s("div",xc,[$(nc,{item:i(a).documentItem},null,8,["item"])]),s("div",Cc,[s("div",Sc,[$(Mt,{item:i(a).documentItem},null,8,["item"])]),s("div",Ac,[i(a).documentItem.status==="created"&&i(a).documentItem.author_id===i(o).user.id?(d(),U(H,{key:0,type:"documentBtn",onClick:v[0]||(v[0]=_=>i(a).showWarn=!0)},{default:C(()=>[z(w(l.$t("Удалить документ")),1)]),_:1})):T("",!0),i(a).documentItem.status==="created"?(d(),U(H,{key:1,type:"documentBtn",onClick:y},{default:C(()=>[z(w(l.$t("Запустить цепь")),1)]),_:1})):T("",!0),i(a).documentItem.status==="processing"&&((S=i(a).documentItem.current_documentuser)==null?void 0:S.user_id)===i(o).user.id?(d(),U(H,{key:2,type:"documentBtn",onClick:v[1]||(v[1]=_=>i(r).push(`/base/documents/signification/${i(t).params.slug}`))},{default:C(()=>[z(w(l.$t("Перейти к подписанию")),1)]),_:1})):T("",!0)])]),s("div",kc,[s("p",Tc,w(l.$t("Описание:")),1),s("p",null,w(i(a).documentItem.description),1)]),i(a).showWarn?(d(),U(Wt,{key:0,type:"resize",onShowModal:v[4]||(v[4]=_=>i(a).showWarn=!1)},{default:C(()=>[$(Ae,null,{default:C(()=>[z(w(l.$t("Удалить данный документ?")),1)]),_:1}),s("p",Ic,w(l.$t("Содержимое данного документа пропадёт и черновик не будет сохранён")),1),s("div",jc,[$(H,{type:"chat",onClick:v[2]||(v[2]=_=>i(a).showWarn=!1)},{default:C(()=>[z(w(l.$t("Отмена")),1)]),_:1}),$(H,{type:"chat",onClick:v[3]||(v[3]=_=>{i(a).docDelete({slug:i(t).params.slug}).then(I=>{i(r).push("/base/documents"),i(a).showWarn=!1})})},{default:C(()=>[z(w(l.$t("Удалить")),1)]),_:1})])]),_:1})):T("",!0)])}}}),Oc={key:0,class:"transition-all"},Mc={class:"flex items-center gap-x-6"},Dc={class:"flex gap-x-4 items-center"},Lc={class:"max-w-[50px]"},Pc=["src"],Ec={class:"text-[15px] w-full"},Nc=L({__name:"DocumentItemInfoChainContentElems",props:["item"],setup(e){const t=oe();return(r,a)=>{const o=Gt("DocumentItemInfoChainContentElems",!0);return e.item.self?(d(),g("div",Oc,[s("div",Mc,[$(ce,{name:"list",tag:"list",class:"flex flex-col gap-y-6 transition-all"},{default:C(()=>[(d(!0),g(se,null,ne(e.item.self,(n,c)=>(d(),g("div",{class:"h-24 border border-gray-500 dark:border-white w-[220px] px-2 rounded-lg text-center flex items-center justify-center mx-auto relative",key:c},[s("div",Dc,[s("div",Lc,[s("img",{class:"w-full rounded-full",src:i(t).get_server_domain+n.photo,alt:""},null,8,Pc)]),s("p",Ec,w(n.first_name+" "+n.last_name),1)])]))),128))]),_:1}),$(o,{item:e.item.parent},null,8,["item"])])])):T("",!0)}}}),Uc={class:"h-24 border border-gray-500 dark:border-white px-2 rounded-lg text-center flex items-center relative"},Fc={class:"flex gap-x-4 items-center w-[220px]"},Bc={class:"max-w-[50px]"},Hc=["src"],Rc={class:"text-[15px] w-full"},Gc=L({__name:"DocumentItemInfoChainContent",props:{item:{type:Object,default:()=>{}}},setup(e){const t=K(),r=oe();return(a,o)=>(d(),U(ce,{name:"list",tag:"div",class:"flex overflow-x-auto w-full items-center gap-x-6"},{default:C(()=>{var n,c;return[s("div",Uc,[s("div",Fc,[s("div",Bc,[s("img",{class:"w-full rounded-full",src:i(r).get_server_domain+e.item.author.photo,alt:""},null,8,Hc)]),s("p",Rc,w(((n=e.item.author)==null?void 0:n.first_name)+" "+((c=e.item.author)==null?void 0:c.last_name)),1)])]),$(Nc,{item:i(t).documentItem.chain},null,8,["item"])]}),_:1}))}}),qc={class:""},Kc={class:"border rounded-t-lg rounded-b-sm h-[500px] grid gap-x-10 px-2 mt-10 overflow-auto"},Vc={class:"border-b border-l border-r p-4 rounded-b-xl rounded-t-sm"},Wc={class:"flex gap-x-6 justify-center items-center"},Jc={class:"flex justify-center gap-x-10 mt-6"},Zc={class:"my-6"},Xc={class:"text-center tracking-widest text-lg"},Qc={class:"text-sm"},Yc=L({__name:"DocumentItemInfoContent",setup(e){const t=K();return(r,a)=>(d(),g("div",qc,[s("div",Kc,[$(Gc,{item:i(t).documentItem},null,8,["item"])]),s("div",Vc,[s("div",Wc,[$(Mt,{item:i(t).documentItem},null,8,["item"])]),s("div",Jc,[$(H,{class:"px-2 py-1 rounded-full",type:"danger"},{default:C(()=>[z(w(r.$t("Отклонить")),1)]),_:1}),$(H,{class:"px-2 py-1 rounded-full",type:"success"},{default:C(()=>[z(w(r.$t("Подтвердить")),1)]),_:1})])]),s("div",Zc,[s("p",Xc,w(r.$t("Описание:")),1),s("p",Qc,w(i(t).documentItem.description),1)])]))}}),e1={class:""},t1={key:0},r1={key:1,class:"overflow-x-hidden"},a1=L({__name:"DocumentItemInfo",props:{item:{type:Object,default:()=>{}}},setup(e){return(t,r)=>{var a;return d(),g("div",e1,[(a=e.item.chain)!=null&&a.self?(d(),g("div",t1,[$(Yc)])):(d(),g("div",r1,[$(zc)]))])}}}),n1={class:"flex justify-center gap-x-6 h-full"},s1={class:"flex items-center gap-x-4"},o1=s("div",null,[s("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),i1={class:"mt-4"},I1=L({__name:"[slug]",setup(e){const t=K(),r=mt(),a=gt(),o=Qt();return qt(()=>{t.loadDocument({slug:r.params.slug}),t.documentItem.receiver_id?o.loadUserList({page:1,limit:1e3}):a.loadDepartmentList()}),ae(()=>{Kt({title:`${t.documentItem.title}`})}),(n,c)=>{const m=ar;return d(),g("div",n1,[$(Vt,{class:"w-full h-max"},{default:C(()=>[$(Ae,{class:"mx-auto text-center"},{default:C(()=>[z(w(i(t).documentItem.title),1)]),_:1}),s("div",s1,[$(Ue,{"breadcrumb-link":"/base/documents"},{default:C(()=>[z(w(n.$t("Документы")),1)]),_:1}),o1,$(Ue,null,{default:C(()=>[z(w(i(t).documentItem.title),1)]),_:1})]),s("div",i1,[$(m,{min:"0",max:"100",indicator:""})]),$(a1,{item:i(t).documentItem},null,8,["item"])]),_:1})])}}});export{I1 as default};
