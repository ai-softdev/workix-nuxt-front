import{v as U,w as b}from"./entry.DkJr8att.js";import{C as V,A as L,p as R,a as M,R as S,P as D}from"./index.D1uD2wpi.js";import{j as v,a as g,N as l,O as d,L as a,u as o,r as P,k as A,H as O,Z as t,_ as e,a3 as B,a4 as m,V as x,P as $,a6 as z,$ as w,aa as Q,x as W,ab as X,M as Y,J as F}from"./swiper-vue.yO-n0JsZ.js";import{u as G}from"./companies.DFX2RnD7.js";import{u as E}from"./auth.D4wvB3xe.js";import{_ as H}from"./TheModal.vue._cVWqHv0.js";import{_ as y}from"./TheButton.vue.DPFckw92.js";import{_}from"./TheInput.vue.7qlRdbvh.js";import{T as C}from"./TheSceleton.DxcGSIbK.js";import{T as J}from"./ThePreloader.Dttt05B-.js";import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{_ as Z}from"./nuxt-link.CCwWGGs3.js";import{T as N}from"./TheContentBlock.CLA6H2Jx.js";import{u as q}from"./index.B5kfl7wb.js";import"./nuxt-storage.CgJyI38a.js";const K=""+globalThis.__publicAssetsURL("icons/statistic.svg"),tt=""+globalThis.__publicAssetsURL("icons/tasks.svg"),et=""+globalThis.__publicAssetsURL("icons/notifications.svg"),st=v({__name:"ProfileContentChart",setup(s){V.register(L,R,M,S),V.defaults.color="#b6b6b6";const u=g({labels:["Выполненные задания","Выполненные IQ тесты","Активность","Посещаемость"],datasets:[{backgroundColor:["rgba(109,252,118,0.4)","rgba(252,155,0,0.91)","rgba(0,121,255,0.4)","rgba(255,9,0,0.68)"],data:[70,70,90,100]}]}),f=g({responsive:!0,maintainAspectRatio:!1});return(p,h)=>(l(),d("div",null,[a(o(D),{class:"text-white",style:{"{color":"white"},data:o(u),options:o(f)},null,8,["data","options"])]))}}),ot=""+globalThis.__publicAssetsURL("icons/profile.svg"),at=""+globalThis.__publicAssetsURL("icons/edit.svg"),lt={class:"w-full p-6 relative bg-white shadow-cards max-sm:col-auto dark:shadow-md dark:border-t dark:border-t-gray-500 dark:shadow-gray-500 rounded-3xl hover:transform hover:-translate-y-2 transition-all duration-200"},nt={class:"flex items-center justify-between mb-8"},it={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3"},rt=t("img",{src:ot,alt:"profile"},null,-1),dt={class:"dark:text-white"},ct=t("img",{src:at,alt:"profile"},null,-1),ut=[ct],ft={class:"flex flex-col"},mt={key:0,class:"flex max-sm:flex-wrap max-sm:justify-center select-none text-gray-600 gap-x-2 mb-5 pb-5 border-b"},xt=["src"],ht={class:"my-2 mx-2"},_t={class:"text-md font-bold dark:text-white select-none"},pt={class:"dark:text-white text-sm text-mediumGray"},gt={key:0,class:"dark:text-white tracking-widest font-bold"},wt={key:1,class:"dark:text-white tracking-widest font-bold"},yt={key:1,class:"flex items-center gap-x-4"},bt={class:"flex flex-col gap-y-2"},vt={class:"flex flex-col gap-y-2 ml-2 w-full"},kt={class:"text-sm flex items-center justify-between"},$t={class:"dark:text-white font-bold"},Ct={key:0},jt={class:"text-sm flex items-center justify-between"},Tt={class:"dark:text-white font-bold"},Vt={class:"text-sm flex items-center justify-between"},Et={class:"dark:text-white font-bold"},Nt={key:0},Ut={key:1},Pt={key:0,class:"text-sm flex items-center justify-between"},At={class:"dark:text-white font-bold"},Bt={key:0},It=t("div",{class:"bg-black w-full h-full absolute top-0 left-0 opacity-40 rounded-lg"},null,-1),Lt=t("div",null,[t("h2",{class:"text-center text-xl tracking-widest font-bold dark:text-white"},"Личная информация")],-1),Rt={class:"w-full"},Mt={class:"mt-10 flex items-center justify-around"},St={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Dt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},Ot={class:""},zt={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Qt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},Wt={class:""},Xt={class:"px-10 max-sm:px-0"},Yt={class:"my-10 flex max-lg:gap-x-2 max-md:gap-y-2 max-md:flex-wrap max-md:justify-center justify-between"},Ft={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Gt={class:"dark:text-white ml-1 tracking-widest font-bold"},Ht={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Jt={class:"dark:text-white ml-1 tracking-widest font-bold"},Zt={class:"my-10 flex max-lg:gap-x-2 max-lg:gap-y-4 max-lg:flex-wrap max-md:justify-center justify-between items-center"},qt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Kt={class:"dark:text-white ml-1 tracking-widest font-bold"},te={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center border p-4 rounded-xl shadow-md dark:shadow-none text-center"},ee={key:0,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},se={key:1,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},oe={key:0,class:"flex gap-x-1 justify-center"},ae={class:"my-10 flex max-lg:gap-x-2 max-md:flex-wrap max-md:justify-center justify-between"},le={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},ne={class:"dark:text-white ml-1 tracking-widest font-bold"},ie={class:"flex justify-around max-sm:flex-col max-sm:gap-y-2"},re=v({__name:"ProfileContentUserInfo",props:{showInfo:{type:Boolean,default:!1},getCode:{type:Boolean,default:!1},userEdit:{type:Object,default:()=>{}}},setup(s){const u=G(),f=E(),p=g(null);U("(max-width: 700px)");const h=P(b(p));A(()=>({transition:".3s ease-out all",transform:`rotateX(${h.roll*1}deg) rotateY(${h.tilt*1}deg)`}));const j=g(null);b(j);const i=E(),k=new Date(i.user.date_of_birth).toLocaleDateString();return O(()=>{f.loadCurrentUserWorker()}),(r,n)=>{var T;return l(),d("div",lt,[t("div",null,[t("div",nt,[t("div",it,[rt,t("h2",dt,e(r.$t("Личные данные")),1)]),t("button",{onClick:n[0]||(n[0]=c=>{s.showInfo=!0,s.userEdit={...o(i).user}}),class:"w-10 h-10 rounded-lg flex items-center justify-center bg-porcelain hover:bg-gray-300 transition-all ease-in-out duration-300"},ut)]),t("div",{class:B({blur:!o(i).user.id})},[t("div",ft,[o(i).user.id?(l(),d("div",mt,[t("img",{class:"block w-[60px] h-[60px] border-2 border-golden rounded-full shadow-lg dark:shadow-none",src:o(i).user.photo,alt:"logo"},null,8,xt),t("div",ht,[t("h3",_t,e(o(i).user.first_name)+" "+e(o(i).user.last_name),1),t("p",pt,e(Math.trunc((new Date-new Date(o(i).user.date_of_birth))/1e3/3600/24/365)+" лет"),1),o(i).user.role.name==="Администратор сайта"?(l(),d("p",gt,e(o(i).user.role.name),1)):o(i).user.role.name==="Сотрудник"?(l(),d("p",wt,e(o(i).user.position.name),1)):m("",!0)])])):(l(),d("div",yt,[a(C,{"border-radius":"100px",width:"100px",height:"100px"}),t("div",bt,[a(C,{width:"150px",height:"20px","border-radius":"5px"}),a(C,{width:"60px",height:"15px","border-radius":"5px"})])])),t("div",vt,[t("div",kt,[t("p",$t,e(r.$t("Email"))+": ",1),o(i).user.id?(l(),d("p",Ct,e(o(i).user.email),1)):m("",!0)]),t("div",jt,[t("p",Tt,e(r.$t("Номер"))+": ",1),t("p",null,e((T=o(i).user.phone)==null?void 0:T.slice(4,13)),1)]),t("div",Vt,[t("p",Et,e(r.$t("Заработная плата"))+": ",1),o(i).user.salary?(l(),d("p",Nt,e(o(i).user.salary+" сум"),1)):(l(),d("p",Ut,e(r.$t("Не назначена")),1))]),o(u).company.name?(l(),d("div",Pt,[t("p",At,e(r.$t("Компания"))+": ",1),t("p",null,e(o(u).company.name),1)])):m("",!0)])])],2),o(i).user.id?m("",!0):(l(),d("div",Bt,[It,a(J)]))]),a(Y,{name:"fade"},{default:x(()=>[s.showInfo?(l(),$(H,{key:0,type:"resizeInfoWindow",onShowModal:n[9]||(n[9]=c=>{s.showInfo=!1,s.getCode=!1})},{default:x(()=>[t("form",{onSubmit:n[8]||(n[8]=z(c=>o(i).update_my({user:s.userEdit}),["prevent"]))},[Lt,t("div",Rt,[t("div",Mt,[t("div",St,[t("p",Dt,e(r.$t("Должность:")),1),t("p",Ot,e(s.userEdit.position.name),1)]),t("div",zt,[t("p",Qt,e(r.$t("Заработная плата:")),1),t("p",Wt,e(s.userEdit.salary+" "+r.$t("сум")),1)])]),t("div",Xt,[t("div",Yt,[t("div",Ft,[t("p",Gt,e(r.$t("Имя")+":"),1),a(_,{type:"text",modelValue:s.userEdit.first_name,"onUpdate:modelValue":n[1]||(n[1]=c=>s.userEdit.first_name=c)},null,8,["modelValue"])]),t("div",Ht,[t("p",Jt,e(r.$t("Фамилия")+":"),1),a(_,{type:"text",modelValue:s.userEdit.last_name,"onUpdate:modelValue":n[2]||(n[2]=c=>s.userEdit.last_name=c)},null,8,["modelValue"])])]),t("div",Zt,[t("div",qt,[t("p",Kt,e(r.$t("Телефон")+":"),1),a(_,{type:"tel",modelValue:s.userEdit.phone,"onUpdate:modelValue":n[3]||(n[3]=c=>s.userEdit.phone=c)},null,8,["modelValue"])]),t("div",te,[t("div",null,[s.getCode?(l(),d("p",se,e(r.$t("Введите Код")+":"),1)):(l(),d("p",ee,e(r.$t("Изменить номер")+":"),1))]),s.getCode?(l(),d("div",oe,[a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(_,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"})])):m("",!0),t("div",null,[s.getCode?m("",!0):(l(),$(y,{key:0,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:n[4]||(n[4]=c=>{s.getCode=!0})},{default:x(()=>[w(e(r.$t("Изменить")),1)]),_:1})),s.getCode?(l(),$(y,{key:1,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:n[5]||(n[5]=c=>{s.getCode=!0})},{default:x(()=>[w(e(r.$t("Подтвердить")),1)]),_:1})):m("",!0)])])]),t("div",ae,[t("div",le,[t("p",ne,e(r.$t("Дата рождения")+":"),1),Q(t("input",{type:"date","onUpdate:modelValue":n[6]||(n[6]=c=>W(k)?k.value=c:null)},null,512),[[X,o(k)]])])])]),t("div",ie,[a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"button",type:"danger",onClick:n[7]||(n[7]=c=>{s.showInfo=!1,s.getCode=!1})},{default:x(()=>[w(e(r.$t("Отмена")),1)]),_:1}),a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"submit",type:"success"},{default:x(()=>[w(e(r.$t("Сохранить")),1)]),_:1})])])],32)]),_:1})):m("",!0)]),_:1})])}}}),de={};function ce(s,u){return l(),d("div")}const ue=I(de,[["render",ce]]),fe={};function me(s,u){const f=Z;return l(),d("div",null,[a(f,{to:" "})])}const xe=I(fe,[["render",me]]),he={class:"w-full col-span-2 p-6 bg-white dark:border-t dark:border-t-gray-500 dark:shadow-md shadow-cards dark:shadow-gray-500 rounded-3xl hover:transform hover:-translate-y-2 transition-all duration-200"},_e={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},pe=t("img",{src:K,alt:"statistic"},null,-1),ge={class:"dark:text-white"},we={class:"grid grid-cols-3 gap-x-5 mt-5"},ye={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},be=t("img",{src:tt,alt:"tasks"},null,-1),ve={class:"dark:text-white"},ke={class:"border rounded-full px-3 py-2 w-fit flex items-center gap-3 mb-8"},$e=t("img",{src:et,alt:"tasks"},null,-1),Ce={class:"dark:text-white"},je=v({__name:"ProfileContent",props:{activeNav:{type:Boolean,default:!1}},setup(s){const u=g(null);U("(max-width: 700px)");const f=P(b(u));A(()=>({transition:".3s ease-out all",transform:`rotateX(${f.roll*1}deg) rotateY(${f.tilt*1}deg)`}));const p=g(null);return b(p),(h,j)=>(l(),d(F,null,[t("div",{class:B(["w-full grid grid-cols-3 gap-x-5",{"max-[1150px]:grid-cols-2":s.activeNav,"max-[1150px]:grid-cols-3":!s.activeNav}])},[a(re),t("div",he,[t("div",_e,[pe,t("h2",ge,e(h.$t("Личная статистика")),1)]),a(st)])],2),t("div",we,[a(N,{class:"bg-white shadow-cards hover:transform hover:-translate-y-2 transition-all duration-200"},{default:x(()=>[t("div",ye,[be,t("h2",ve,e(h.$t("Последние задания")),1)]),a(xe)]),_:1}),a(N,{class:"bg-white shadow-cards hover:transform hover:-translate-y-2 transition-all duration-200"},{default:x(()=>[t("div",ke,[$e,t("h2",Ce,e(h.$t("Уведомления")),1)]),a(ue)]),_:1})])],64))}}),Te={class:"flex flex-col"},Ve={class:"w-full mx-auto"},We=v({__name:"profile",props:{activeNav:{type:Boolean,default:!1}},setup(s){return q({title:"Профиль",description:"Личный кабинет | Текущая информация обо мне"}),(u,f)=>{const p=je;return l(),d("div",Te,[t("div",Ve,[a(p,{activeNav:s.activeNav},null,8,["activeNav"])])])}}});export{We as default};
