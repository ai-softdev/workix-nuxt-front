import{b as rr,c as Ha,r as Ia,_ as Wa}from"./entry.BaLrOuEZ.js";import{j as Ce,a as ne,N as R,O as z,L as A,V as j,Z as w,_ as I,a3 as Te,u as y,a6 as be,a4 as se,M as je,P as pe,$ as oe,ac as Ua,J as nr,a2 as or,x as _t,a7 as Na,a5 as Yr,a0 as Ba,a1 as Ga,b as tt,H as Zr,I as za,k as Xt,ak as Ja,aa as qa,ad as Ya,a9 as Za}from"./swiper-vue.C62siAhS.js";import{T as er}from"./TheContentBlock.DhN47OQT.js";import{_ as Qa}from"./ContextMenu.DMgIyd48.js";import{_ as Xa}from"./nuxt-link.CgXmLiH1.js";import{u as De}from"./storage.Cf_kfclC.js";import{_ as St}from"./TheModal.vue.CraCkhhf.js";import{_ as Ue}from"./TheButton.vue.tb1klF0V.js";import{_ as ar}from"./TheTextContent.vue.DaILusXJ.js";import{_ as Qr}from"./TheSearch.vue.zBwj11Oz.js";import{_ as Xr}from"./SelectMenu.BW0FMUn0.js";import{_ as Ka}from"./TheInput.vue.serkzXMq.js";import{_ as Kr}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{h as ei,v as Fr}from"./ElemUI.CPg-aCcn.js";import{_ as ti}from"./Tooltip.XC1M5BQF.js";import{_ as ri}from"./Icon.MAITASX6.js";import{_ as ni}from"./StorageCard.vue.CjidpDcm.js";import{_ as Kt}from"./TheBreadcrumbs.vue._eds8B-Z.js";import"./selectMenu.DKs-7zNS.js";import"./nuxt-storage.gLjAmBiV.js";import"./client-only.CFyyOT04.js";import"./Icon.CihIoIZu.js";import"./index.DKzsDYrr.js";import"./auth.DWnUpCkI.js";const oi={class:"flex items-center gap-x-3"},ai=w("div",{class:"text-semiCyan"}," • ",-1),ii={class:"tracking-wider"},si=w("div",null,null,-1),li=w("svg",{width:"25px",height:"25px",viewBox:"0 -5 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns"},[w("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"},[w("g",{id:"Icon-Set","sketch:type":"MSLayerGroup",transform:"translate(-516.000000, -1144.000000)",class:"dark:fill-white fill-black"},[w("path",{d:"M538.708,1151.28 C538.314,1150.89 537.676,1150.89 537.281,1151.28 L534.981,1153.58 L532.742,1151.34 C532.352,1150.95 531.718,1150.95 531.327,1151.34 C530.936,1151.73 530.936,1152.37 531.327,1152.76 L533.566,1154.99 L531.298,1157.26 C530.904,1157.65 530.904,1158.29 531.298,1158.69 C531.692,1159.08 532.331,1159.08 532.725,1158.69 L534.993,1156.42 L537.232,1158.66 C537.623,1159.05 538.257,1159.05 538.647,1158.66 C539.039,1158.27 539.039,1157.63 538.647,1157.24 L536.408,1155.01 L538.708,1152.71 C539.103,1152.31 539.103,1151.68 538.708,1151.28 L538.708,1151.28 Z M545.998,1162 C545.998,1163.1 545.102,1164 543.996,1164 L526.467,1164 L518.316,1154.98 L526.438,1146 L543.996,1146 C545.102,1146 545.998,1146.9 545.998,1148 L545.998,1162 L545.998,1162 Z M543.996,1144 L526.051,1144 C525.771,1143.98 525.485,1144.07 525.271,1144.28 L516.285,1154.22 C516.074,1154.43 515.983,1154.71 515.998,1154.98 C515.983,1155.26 516.074,1155.54 516.285,1155.75 L525.271,1165.69 C525.467,1165.88 525.723,1165.98 525.979,1165.98 L525.979,1166 L543.996,1166 C546.207,1166 548,1164.21 548,1162 L548,1148 C548,1145.79 546.207,1144 543.996,1144 L543.996,1144 Z",id:"delete","sketch:type":"MSShapeGroup"})])])],-1),ui=[li],ci={class:"break-words tracking-wider my-4 text-sm"},di={class:"mt-4"},fi={class:"flex flex-wrap gap-x-10 justify-center"},pi=Ce({__name:"StorageNavElemGoods",props:{item:{type:Object,default:{}},moveEffectSubCategory:{type:Boolean},moveEffectSubCategoryWarn:{type:Boolean}},setup(r){ne(!1);const o=rr(),a=Ha(),s=De();return(d,u)=>{const m=Xa;return R(),z("div",{onMouseenter:u[5]||(u[5]=_=>r.moveEffectSubCategory=!0),onMouseleave:u[6]||(u[6]=_=>r.moveEffectSubCategory=!1),class:"relative rounded-l-md dark:hover:bg-semiCyan hover:!bg-opacity-30 hover:bg-cyan transition-all"},[A(m,{to:`/base/storage/${r.item.slug}`,class:Te([{"dark:bg-semiCyan":y(o).path===`/base/storage/${r.item.slug}/${y(o).params.id}`},"flex items-center w-full rounded-l-md p-1"]),onClick:u[0]||(u[0]=_=>y(s).currentCategory={...r.item})},{default:j(()=>[w("div",oi,[ai,w("span",ii,I(r.item.name),1)]),si]),_:1},8,["to","class"]),A(je,{name:"slide-right"},{default:j(()=>[r.moveEffectSubCategory?(R(),z("button",{key:0,class:"absolute right-2 rounded-lg top-1",onClick:u[1]||(u[1]=be(_=>{r.moveEffectSubCategoryWarn=!0,r.moveEffectSubCategory=!1},["stop"]))},ui)):se("",!0)]),_:1}),A(je,{name:"slide-down",class:"text-center"},{default:j(()=>[r.moveEffectSubCategoryWarn?(R(),pe(St,{key:0,type:"resize",onShowModal:u[4]||(u[4]=_=>r.moveEffectSubCategoryWarn=!1)},{default:j(()=>[A(ar,null,{default:j(()=>[oe(I(d.$t("Удалить категорию?")),1)]),_:1}),w("div",ci,[w("p",null,I(d.$t("Если вы удалите категорию то всё содержимое данной категории удалиться без возврата")),1),w("p",di,I(d.$t("Убедитесь что категория пустая, переместите нужные товары в другие категории")),1)]),w("div",fi,[A(Ue,{type:"chat",onClick:u[2]||(u[2]=_=>r.moveEffectSubCategoryWarn=!1)},{default:j(()=>[oe(I(d.$t("Отмена")),1)]),_:1}),A(Ue,{type:"chat",onClick:u[3]||(u[3]=_=>y(s).deleteStorageElem({deleteType:"subcategory",id:r.item.id}).then(f=>{y(s).currentCategory.slug===r.item.slug?(y(a).push("/base/storage"),y(s).currentCategory={}):y(s).currentCategory}))},{default:j(()=>[oe(I(d.$t("Удалить")),1)]),_:1})])]),_:1})):se("",!0)]),_:1})],32)}}}),hi={class:"flex items-center gap-x-3"},mi=Na('<div><svg class="dark:stroke-white stroke-black" width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.17004 7.43994L12 12.5499L20.77 7.46991" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 21.6099V12.5399" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.92999 2.48L4.59 5.45003C3.38 6.12003 2.39001 7.80001 2.39001 9.18001V14.83C2.39001 16.21 3.38 17.89 4.59 18.56L9.92999 21.53C11.07 22.16 12.94 22.16 14.08 21.53L19.42 18.56C20.63 17.89 21.62 16.21 21.62 14.83V9.18001C21.62 7.80001 20.63 6.12003 19.42 5.45003L14.08 2.48C12.93 1.84 11.07 1.84 9.92999 2.48Z" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17 13.24V9.58002L7.51001 4.09998" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>',1),vi={class:"tracking-wider text-sm break-words"},gi=w("svg",{class:"dark:stroke-white stroke-black",width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("path",{d:"M10 12V17","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M14 12V17","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M4 7H20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),yi=[gi],wi=w("path",{d:"M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z"},null,-1),bi=[wi],Ci={class:"break-words tracking-wider my-4 text-sm"},$i={class:"mt-4"},_i={class:"flex flex-wrap gap-x-10 justify-center"},ki={key:0},Si=w("svg",{class:"dark:stroke-white stroke-black",width:"23px",height:"23px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("path",{"data-v-a06cf116":"",d:"M10 12V17","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{"data-v-a06cf116":"",d:"M14 12V17","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{"data-v-a06cf116":"",d:"M4 7H20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{"data-v-a06cf116":"",d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{"data-v-a06cf116":"",d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),xi=Ce({__name:"StorageNavElem",props:{item:{type:Object,default:()=>{}},isActiveCategory:{type:Boolean},moveEffectCategory:{type:Boolean},moveEffectCategoryWarn:{type:Boolean}},setup(r){const o=De(),a=ne({getBoundingClientRect:()=>({})}),s=ne(!1);return(d,u)=>{const m=Ua("StorageNavContextMenu"),_=Qa;return R(),z("div",null,[w("button",{onContextmenu:u[1]||(u[1]=be(()=>{},["prevent"])),onMouseenter:u[2]||(u[2]=f=>r.moveEffectCategory=!0),onMouseleave:u[3]||(u[3]=f=>r.moveEffectCategory=!1),class:"flex items-center justify-between w-full relative",onClick:u[4]||(u[4]=f=>r.isActiveCategory=!r.isActiveCategory)},[w("div",hi,[mi,w("span",vi,I(r.item.name),1)]),A(je,{name:"fade"},{default:j(()=>[r.moveEffectCategory?(R(),z("button",{key:0,class:"absolute right-5 rounded-lg",onClick:u[0]||(u[0]=be(f=>r.moveEffectCategoryWarn=!0,["stop"]))},yi)):se("",!0)]),_:1}),w("div",{class:Te([{"rotate-180":r.isActiveCategory},"transition-all"])},[(R(),z("svg",{class:Te(["dark:fill-white fill-black",{"!fill-semiCyan":r.isActiveCategory}]),width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bi,2))],2)],32),A(je,{name:"slide-down",class:"text-center"},{default:j(()=>[r.moveEffectCategoryWarn?(R(),pe(St,{key:0,type:"resize",onShowModal:u[7]||(u[7]=f=>r.moveEffectCategoryWarn=!1)},{default:j(()=>[A(ar,null,{default:j(()=>[oe(I(d.$t("Удалить коробку?")),1)]),_:1}),w("div",Ci,[w("p",null,I(d.$t("Если вы удалите коробку то всё содержимое данной коробки удалиться без возврата")),1),w("p",$i,I(d.$t("Убедитесь что коробка пустая, переместите нужные товары в другие категории")),1)]),w("div",_i,[A(Ue,{type:"chat",onClick:u[5]||(u[5]=f=>r.moveEffectCategoryWarn=!1)},{default:j(()=>[oe(I(d.$t("Отмена")),1)]),_:1}),A(Ue,{type:"chat",onClick:u[6]||(u[6]=f=>y(o).deleteStorageElem({deleteType:"category",id:r.item.id}))},{default:j(()=>[oe(I(d.$t("Удалить")),1)]),_:1})])]),_:1})):se("",!0)]),_:1}),A(je,{name:"slide-down"},{default:j(()=>[r.item.sub_categories&&r.isActiveCategory?(R(),z("div",ki,[(R(!0),z(nr,null,or(r.item.sub_categories,f=>(R(),pe(pi,{class:"mt-2",item:f,key:f.id},null,8,["item"]))),128))])):se("",!0)]),_:1}),A(_,{onContextmenu:u[8]||(u[8]=be(()=>{},["prevent"])),modelValue:y(s),"onUpdate:modelValue":u[9]||(u[9]=f=>_t(s)?s.value=f:null),"virtual-element":y(a)},{default:j(()=>[A(m,null,{ContextMenuSvg:j(()=>[Si]),ContextMenuText:j(()=>[oe(I(d.$t("Удалить")),1)]),_:1})]),_:1},8,["modelValue","virtual-element"])])}}}),Ti={},Pi={class:"py-2 px-4 dark:bg-gray-600 bg-gray-200 rounded-lg tracking-wider transition-all"};function Ei(r,o){return R(),z("button",Pi,[Yr(r.$slots,"default")])}const Hr=Kr(Ti,[["render",Ei]]),Mi={class:"flex"},Oi={class:"w-full"},Ai=w("svg",{class:"dark:stroke-white stroke-black",width:"20px",height:"20px",viewBox:"-0.5 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("path",{d:"M3 21.32L21 3.32001","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M3 3.32001L21 21.32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ji=[Ai],Di={class:"my-2 text-sm tracking-wider text-center"},Ri={class:"flex gap-x-10 justify-center mt-4"},Li={key:0,class:"mt-4"},Vi={class:"dark:text-black"},Fi={class:"flex justify-center gap-x-10 mt-6"},Hi=Ce({__name:"StorageCreateCategory",setup(r){const o=De(),a=ne(""),s=ne(o.storageCategoryList),d=ne("");return(u,m)=>{const _=Xr;return R(),z("div",null,[w("div",Mi,[w("div",Oi,[A(ar,null,{default:j(()=>[oe(I(u.$t("Создание")),1)]),_:1})]),w("button",{onClick:m[0]||(m[0]=f=>y(o).createCategory=!1)},ji)]),w("div",null,[w("p",Di,I(u.$t("Выберите тип который хотите создать")),1),w("div",Ri,[A(Hr,{class:Te({"!bg-blueSemiLight text-white":y(a)==="category"}),onClick:m[1]||(m[1]=f=>a.value="category")},{default:j(()=>[oe(I(u.$t("Коробка")),1)]),_:1},8,["class"]),A(Hr,{class:Te({"!bg-blueSemiLight text-white":y(a)==="subcategory"}),onClick:m[2]||(m[2]=f=>a.value="subcategory")},{default:j(()=>[oe(I(u.$t("Категория")),1)]),_:1},8,["class"])])]),w("form",{class:"mt-10",onSubmit:m[7]||(m[7]=be(()=>{},["prevent"]))},[A(Ka,{label:"Наименование",required:"",modelValue:y(d),"onUpdate:modelValue":m[3]||(m[3]=f=>_t(d)?d.value=f:null),type:"text"},null,8,["modelValue"]),A(je,{name:"slide-up"},{default:j(()=>[y(a)==="subcategory"?(R(),z("div",Li,[w("p",null,I(u.$t("Выберите коробку")),1),w("div",null,[A(_,{searchable:"",required:"","searchable-placeholder":u.$t("Поиск..."),class:"w-full","select-class":"dark:bg-gray-300 h-10 bg-white border dark:border-none",placeholder:"Выберите",variant:"none",modelValue:y(s),"onUpdate:modelValue":m[4]||(m[4]=f=>_t(s)?s.value=f:null),options:y(o).storageCategoryList,"option-attribute":"name"},{label:j(()=>[w("span",Vi,I(y(s).name),1)]),"option-empty":j(({query:f})=>[w("q",null,I(f),1),oe(" "+I(u.$t("Не найдено")),1)]),empty:j(()=>[oe(I(u.$t("Ничего нет")),1)]),_:1},8,["searchable-placeholder","modelValue","options"])])])):se("",!0)]),_:1}),w("div",Fi,[A(Ue,{t:"button",type:"chat",onClick:m[5]||(m[5]=f=>y(o).createCategory=!1)},{default:j(()=>[oe(I(u.$t("Отмена")),1)]),_:1}),A(Ue,{t:"button",type:"chat",onClick:m[6]||(m[6]=f=>y(o).createStorageCategoryOrSubcategory({createType:y(a)==="category"?"category":"subcategory",category_id:y(a)==="subcategory"?y(s).id:null,name:y(d)}))},{default:j(()=>[oe(I(u.$t("Создать")),1)]),_:1})])],32)])}}}),Ii={class:"flex px-10 py-4 gap-x-4 items-center justify-between"},Wi=w("svg",{class:"dark:stroke-white stroke-black dark:hover:stroke-green-300 hover:stroke-green-500 transition-all",width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("path",{d:"M23 18C23 18.75 22.79 19.46 22.42 20.06C22.21 20.42 21.94 20.74 21.63 21C20.93 21.63 20.01 22 19 22C17.78 22 16.69 21.45 15.97 20.59C15.95 20.56 15.92 20.54 15.9 20.51C15.78 20.37 15.67 20.22 15.58 20.06C15.21 19.46 15 18.75 15 18C15 16.74 15.58 15.61 16.5 14.88C17.19 14.33 18.06 14 19 14C20 14 20.9 14.36 21.6 14.97C21.72 15.06 21.83 15.17 21.93 15.28C22.59 16 23 16.95 23 18Z","stroke-width":"1","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M20.49 17.98H17.51","stroke-width":"1","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M19 16.52V19.51","stroke-width":"1","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M3.17004 7.43994L12 12.5499L20.7701 7.46991","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M12 21.6099V12.5399","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),w("path",{d:"M21.61 9.17V14.83C21.61 14.88 21.61 14.92 21.6 14.97C20.9 14.36 20 14 19 14C18.06 14 17.19 14.33 16.5 14.88C15.58 15.61 15 16.74 15 18C15 18.75 15.21 19.46 15.58 20.06C15.67 20.22 15.78 20.37 15.9 20.51L14.07 21.52C12.93 22.16 11.07 22.16 9.93001 21.52L4.59001 18.56C3.38001 17.89 2.39001 16.21 2.39001 14.83V9.17C2.39001 7.79 3.38001 6.11002 4.59001 5.44002L9.93001 2.48C11.07 1.84 12.93 1.84 14.07 2.48L19.41 5.44002C20.62 6.11002 21.61 7.79 21.61 9.17Z","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ui=[Wi],Ni={class:"max-[800px]:max-h-[400px] overflow-auto"},Bi=Ce({__name:"StorageNav",setup(r){Ia();const o=De();return(a,s)=>(R(),z("div",null,[A(er,{class:"!p-0 h-screen max-[800px]:h-full"},{default:j(()=>[w("div",Ii,[A(Qr,{modelValue:y(o).searchCategory,"onUpdate:modelValue":s[0]||(s[0]=d=>y(o).searchCategory=d),class:"w-11/12",onSearch:s[1]||(s[1]=d=>y(ei)(y(o).searchCategory,y(o).searchCategory.trim()!==""?y(o).loadStorageCategorySearch({query:y(o).searchCategory}):y(o).loadStorageCategoryList()))},null,8,["modelValue"]),w("button",{onClick:s[2]||(s[2]=d=>y(o).createCategory=!0)},Ui)]),w("div",Ni,[(R(!0),z(nr,null,or(y(o).storageCategoryList,d=>(R(),pe(xi,{class:"mt-2 border-b pb-4 mx-4 dark:border-[#666D76] max-[800px]:last:border-none",isActive:y(o).isActive,item:d},null,8,["isActive","item"]))),256))])]),_:1}),A(je,{name:"slide-down"},{default:j(()=>[y(o).createCategory?(R(),pe(St,{key:0,type:"resize",onShowModal:s[3]||(s[3]=d=>y(o).createCategory=!1)},{default:j(()=>[A(Hi)]),_:1})):se("",!0)]),_:1})]))}}),Be=r=>(Ba("data-v-0adcc7be"),r=r(),Ga(),r),Gi={class:"",width:"30px",height:"30px",viewBox:"0 -0.5 17 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},zi={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Ji=Be(()=>w("rect",{x:"13",y:"0",width:"1.953",height:"10.914",class:"si-glyph-fill"},null,-1)),qi=Be(()=>w("rect",{x:"10",y:"0",width:"1.967",height:"10.914",class:"si-glyph-fill"},null,-1)),Yi=Be(()=>w("rect",{x:"8",y:"0",width:"0.95",height:"10.914",class:"si-glyph-fill"},null,-1)),Zi=Be(()=>w("rect",{x:"4",y:"0",width:"1.972",height:"10.914",class:"si-glyph-fill"},null,-1)),Qi=Be(()=>w("rect",{x:"2",y:"0",width:"0.973",height:"10.914",class:"si-glyph-fill"},null,-1)),Xi=Be(()=>w("rect",{x:"0",y:"0",width:"0.973",height:"10.914",class:"si-glyph-fill"},null,-1)),Ki=[Ji,qi,Yi,Zi,Qi,Xi],es=Ce({__name:"ScanAnimation",props:{mode:String},setup(r){return(o,a)=>{const s=ti;return R(),pe(s,{class:"text-lg tracking-wider",text:o.$t("Отсканируйте код"),popper:{arrow:!0}},{default:j(()=>[w("button",{type:"button",class:Te(["relative border dark:border-gray-400 rounded-lg p-1 transition-all",{"dark:border-gray-200 border-gray-400":r.mode==="scan"}]),onClick:a[0]||(a[0]=d=>o.$emit("onScan"))},[(R(),z("svg",Gi,[w("g",zi,[w("g",{transform:"translate(1.000000, 2.000000)",class:Te(["dark:fill-gray-400 fill-gray-400",{"dark:!fill-gray-200 fill-gray-500":r.mode==="scan"}])},Ki,2)])])),w("div",{class:Te(["w-[39px] h-[1.2px] rounded-full shadow shadow-cyan dark:shadow-semiCyan dark:bg-semiCyan bg-blueSemiLight absolute top-4 left-0",{laser:r.mode==="scan"}])},null,2)],2)]),_:1},8,["text"])}}}),ts=Kr(es,[["__scopeId","data-v-0adcc7be"]]),rs={class:"flex justify-center gap-x-4 w-full mx-auto items-center"},ns={class:"max-[800px]:hidden"},os=w("svg",{class:"dark:fill-white fill-black",width:"40px",height:"40px",viewBox:"0 0 24 24",id:"qr-code-scan-2","data-name":"Flat Color",xmlns:"http://www.w3.org/2000/svg"},[w("path",{d:"M10,15v2a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V15a1,1,0,0,1,1-1H9A1,1,0,0,1,10,15Zm7-9H15a1,1,0,0,0-1,1V9a1,1,0,0,0,1,1h2a1,1,0,0,0,1-1V7A1,1,0,0,0,17,6Zm0,6H13a1,1,0,0,0-1,1v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V13A1,1,0,0,0,17,12ZM12,7a1,1,0,0,0-1-1H7A1,1,0,0,0,6,7v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1Z",style:{fill:"rgb(44, 169, 188)","stroke-width":"1.2"}}),w("path",{d:"M3,9A1,1,0,0,1,2,8V4A2,2,0,0,1,4,2H8A1,1,0,0,1,8,4H4V8A1,1,0,0,1,3,9ZM22,8V4a2,2,0,0,0-2-2H16a1,1,0,0,0,0,2h4V8a1,1,0,0,0,2,0ZM9,21a1,1,0,0,0-1-1H4V16a1,1,0,0,0-2,0v4a2,2,0,0,0,2,2H8A1,1,0,0,0,9,21Zm13-1V16a1,1,0,0,0-2,0v4H16a1,1,0,0,0,0,2h4A2,2,0,0,0,22,20Z"})],-1),as=[os],is=Ce({__name:"StorageHeader",setup(r){const o=De(),a=ne(""),s=rr();return(d,u)=>(R(),z("div",rs,[w("form",{onSubmit:u[4]||(u[4]=be(()=>{},["prevent"])),class:"w-full flex items-center justify-center gap-x-4"},[A(Qr,{mode:y(a),onFocusout:u[0]||(u[0]=m=>a.value=""),onSearch:u[1]||(u[1]=m=>y(o).searchGoods.trim()!==""&&y(s).path==="/base/storage"?y(o).loadAllListSearch({search:y(o).searchGoods}):y(o).loadStorageSubCategory({slug:y(s).params.slug,search:y(o).searchGoods})),modelValue:y(o).searchGoods,"onUpdate:modelValue":u[2]||(u[2]=m=>y(o).searchGoods=m),class:"!w-6/12",type:"text",ref:"scan"},null,8,["mode","modelValue"]),w("div",ns,[A(ts,{onOnScan:u[3]||(u[3]=m=>a.value="scan"),mode:y(a)},null,8,["mode"])])],32),w("button",{class:"max-[800px]:block hidden",onClick:u[5]||(u[5]=m=>d.$emit("openStreamSearch"))},as)]))}}),ss={class:"flex gap-4 flex-wrap"},ls=Ce({__name:"StorageContent",setup(r){const o=De();return(a,s)=>(R(),z("div",ss,[(R(!0),z(nr,null,or(y(o).storageHomeAllList,d=>(R(),pe(ni,{class:"flex gap-2 flex-col max-[800px]:justify-center",from:!0,item:d},null,8,["item"]))),256))]))}});var en=(r,o,a)=>{if(!o.has(r))throw TypeError("Cannot "+a)},Ir=(r,o,a)=>(en(r,o,"read from private field"),a?a.call(r):o.get(r)),us=(r,o,a)=>{if(o.has(r))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(r):o.set(r,a)},cs=(r,o,a,s)=>(en(r,o,"write to private field"),s?s.call(r,a):o.set(r,a),a);const tn=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],ds=[...tn,["unknown"]].map(r=>r[0]),Ct=new Map(tn);function fs(r){for(const[o,a]of Ct)if(r===a)return o;return"unknown"}function ps(r){if(rn(r))return{width:r.naturalWidth,height:r.naturalHeight};if(nn(r))return{width:r.width.baseVal.value,height:r.height.baseVal.value};if(on(r))return{width:r.videoWidth,height:r.videoHeight};if(sn(r))return{width:r.width,height:r.height};if(un(r))return{width:r.displayWidth,height:r.displayHeight};if(an(r))return{width:r.width,height:r.height};if(ln(r))return{width:r.width,height:r.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function rn(r){try{return r instanceof HTMLImageElement}catch{return!1}}function nn(r){try{return r instanceof SVGImageElement}catch{return!1}}function on(r){try{return r instanceof HTMLVideoElement}catch{return!1}}function an(r){try{return r instanceof HTMLCanvasElement}catch{return!1}}function sn(r){try{return r instanceof ImageBitmap}catch{return!1}}function ln(r){try{return r instanceof OffscreenCanvas}catch{return!1}}function un(r){try{return r instanceof VideoFrame}catch{return!1}}function cn(r){try{return r instanceof Blob}catch{return!1}}function hs(r){try{return r instanceof ImageData}catch{return!1}}function ms(r,o){try{const a=new OffscreenCanvas(r,o);if(a.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return a;throw void 0}catch{const s=document.createElement("canvas");return s.width=r,s.height=o,s}}async function dn(r){if(rn(r)&&!await ws(r))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(nn(r)&&!await bs(r))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(un(r)&&Cs(r))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(on(r)&&(r.readyState===0||r.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(sn(r)&&_s(r))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:a}=ps(r);if(o===0||a===0)return null;const s=ms(o,a).getContext("2d");s.drawImage(r,0,0);try{return s.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function vs(r){let o;try{if(globalThis.createImageBitmap)o=await createImageBitmap(r);else if(globalThis.Image){o=new Image;let a="";try{a=URL.createObjectURL(r),o.src=a,await o.decode()}finally{URL.revokeObjectURL(a)}}else return r}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await dn(o)}function gs(r){const{width:o,height:a}=r;if(o===0||a===0)return null;const s=r.getContext("2d");try{return s.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ys(r){if(cn(r))return await vs(r);if(hs(r)){if($s(r))throw new DOMException("The image data has been detached.","InvalidStateError");return r}return an(r)||ln(r)?gs(r):await dn(r)}async function ws(r){try{return await r.decode(),!0}catch{return!1}}async function bs(r){var o;try{return await((o=r.decode)==null?void 0:o.call(r)),!0}catch{return!1}}function Cs(r){return r.format===null}function $s(r){return r.data.buffer.byteLength===0}function _s(r){return r.width===0&&r.height===0}function Wr(r,o){return r instanceof DOMException?new DOMException(`${o}: ${r.message}`,r.name):r instanceof Error?new r.constructor(`${o}: ${r.message}`):new Error(`${o}: ${r}`)}const Ur=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function ks(r){return r.join("|")}function Ss(r){const o=Nr(r);let a=0,s=Ur.length-1;for(;a<=s;){const d=Math.floor((a+s)/2),u=Ur[d],m=Nr(u);if(m===o)return u;m<o?a=d+1:s=d-1}return"None"}function Nr(r){return r.toLowerCase().replace(/_-\[\]/g,"")}function xs(r,o){return r.Binarizer[o]}function Ts(r,o){return r.CharacterSet[o]}const Ps=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Es(r){return Ps[r.value]}function Ms(r,o){return r.EanAddOnSymbol[o]}function Os(r,o){return r.TextMode[o]}const Ne={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function fn(r,o){return{...o,formats:ks(o.formats),binarizer:xs(r,o.binarizer),eanAddOnSymbol:Ms(r,o.eanAddOnSymbol),textMode:Os(r,o.textMode),characterSet:Ts(r,o.characterSet)}}function pn(r){return{...r,format:Ss(r.format),eccLevel:r.eccLevel,contentType:Es(r.contentType)}}const As={locateFile:(r,o)=>{const a=r.match(/_(.+?)\.wasm$/);return a?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${a[1]}/${r}`:o+r}};let Br=new WeakMap;function ir(r,o){var a;const s=Br.get(r);if(s!=null&&s.modulePromise&&(o===void 0||Object.is(o,s.moduleOverrides)))return s.modulePromise;const d=(a=o??(s==null?void 0:s.moduleOverrides))!=null?a:As,u=r({...d});return Br.set(r,{moduleOverrides:d,modulePromise:u}),u}async function js(r,o,a=Ne){const s={...Ne,...a},d=await ir(r),{size:u}=o,m=new Uint8Array(await o.arrayBuffer()),_=d._malloc(u);d.HEAPU8.set(m,_);const f=d.readBarcodesFromImage(_,u,fn(d,s));d._free(_);const C=[];for(let k=0;k<f.size();++k)C.push(pn(f.get(k)));return C}async function Ds(r,o,a=Ne){const s={...Ne,...a},d=await ir(r),{data:u,width:m,height:_,data:{byteLength:f}}=o,C=d._malloc(f);d.HEAPU8.set(u,C);const k=d.readBarcodesFromPixmap(C,m,_,fn(d,s));d._free(C);const $=[];for(let L=0;L<k.size();++L)$.push(pn(k.get(L)));return $}({...Ne,formats:[...Ne.formats]});var sr=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o={}){var a=o,s,d;a.ready=new Promise((e,t)=>{s=e,d=t});var u=Object.assign({},a),m="./this.program",_=typeof window=="object",f=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var C="";function k(e){return a.locateFile?a.locateFile(e,C):C+e}var $;(_||f)&&(f?C=self.location.href:typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),r&&(C=r),C.indexOf("blob:")!==0?C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):C="",f&&($=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var L=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.arguments&&a.arguments,a.thisProgram&&(m=a.thisProgram),a.quit&&a.quit;var V;a.wasmBinary&&(V=a.wasmBinary),typeof WebAssembly!="object"&&ie("no native wasm support detected");var D,H=!1,N,X,$e,W,M,O,_e,me;function Re(){var e=D.buffer;a.HEAP8=N=new Int8Array(e),a.HEAP16=$e=new Int16Array(e),a.HEAPU8=X=new Uint8Array(e),a.HEAPU16=W=new Uint16Array(e),a.HEAP32=M=new Int32Array(e),a.HEAPU32=O=new Uint32Array(e),a.HEAPF32=_e=new Float32Array(e),a.HEAPF64=me=new Float64Array(e)}var Le=[],Ge=[],ze=[];function nt(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Pt(a.preRun.shift());jt(Le)}function xt(){jt(Ge)}function Tt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Je(a.postRun.shift());jt(ze)}function Pt(e){Le.unshift(e)}function Et(e){Ge.unshift(e)}function Je(e){ze.unshift(e)}var ce=0,Me=null;function Mt(e){var t;ce++,(t=a.monitorRunDependencies)===null||t===void 0||t.call(a,ce)}function ke(e){var t;if(ce--,(t=a.monitorRunDependencies)===null||t===void 0||t.call(a,ce),ce==0&&Me){var n=Me;Me=null,n()}}function ie(e){var t;(t=a.onAbort)===null||t===void 0||t.call(a,e),e="Aborted("+e+")",L(e),H=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw d(n),n}var Ot="data:application/octet-stream;base64,",ot=e=>e.startsWith(Ot),Se;Se="zxing_reader.wasm",ot(Se)||(Se=k(Se));function at(e){if(e==Se&&V)return new Uint8Array(V);if($)return $(e);throw"both async and sync fetching of the wasm failed"}function At(e){return!V&&(_||f)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>at(e)):Promise.resolve().then(()=>at(e))}function it(e,t,n){return At(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{L(`failed to asynchronously prepare wasm: ${i}`),ie(i)})}function Pn(e,t,n,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!ot(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(l=>{var c=WebAssembly.instantiateStreaming(l,n);return c.then(i,function(p){return L(`wasm streaming compile failed: ${p}`),L("falling back to ArrayBuffer instantiation"),it(t,n,i)})}):it(t,n,i)}function En(){var e={a:ga};function t(i,l){return K=i.exports,D=K.ia,Re(),gr=K.ma,Et(K.ja),ke(),K}Mt();function n(i){t(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){L(`Module.instantiateWasm callback failed with error: ${i}`),d(i)}return Pn(V,Se,e,n).catch(d),{}}var jt=e=>{for(;e.length>0;)e.shift()(a)};a.noExitRuntime;var st=[],lt=0,Mn=e=>{var t=new Dt(e);return t.get_caught()||(t.set_caught(!0),lt--),t.set_rethrown(!1),st.push(t),Or(t.excPtr),t.get_exception_ptr()},ve=0,On=()=>{B(0,0);var e=st.pop();Mr(e.excPtr),ve=0};function Dt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){O[this.ptr+4>>2]=t},this.get_type=function(){return O[this.ptr+4>>2]},this.set_destructor=function(t){O[this.ptr+8>>2]=t},this.get_destructor=function(){return O[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,N[this.ptr+12>>0]=t},this.get_caught=function(){return N[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,N[this.ptr+13>>0]=t},this.get_rethrown=function(){return N[this.ptr+13>>0]!=0},this.init=function(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)},this.set_adjusted_ptr=function(t){O[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return O[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=jr(this.get_type());if(t)return O[this.excPtr>>2];var n=this.get_adjusted_ptr();return n!==0?n:this.excPtr}}var An=e=>{throw ve||(ve=e),ve},Rt=e=>{var t=ve;if(!t)return et(0),0;var n=new Dt(t);n.set_adjusted_ptr(t);var i=n.get_type();if(!i)return et(0),t;for(var l in e){var c=e[l];if(c===0||c===i)break;var p=n.ptr+16;if(Ar(c,i,p))return et(c),t}return et(i),t},jn=()=>Rt([]),Dn=e=>Rt([e]),Rn=(e,t)=>Rt([e,t]),Ln=()=>{var e=st.pop();e||ie("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(st.push(e),e.set_rethrown(!0),e.set_caught(!1),lt++),ve=t,ve},Vn=(e,t,n)=>{var i=new Dt(e);throw i.init(t,n),ve=e,lt++,ve},Fn=()=>lt,ut={},Lt=e=>{for(;e.length;){var t=e.pop(),n=e.pop();n(t)}};function Vt(e){return this.fromWireType(M[e>>2])}var Ve={},Oe={},ct={},lr,dt=e=>{throw new lr(e)},Ae=(e,t,n)=>{e.forEach(function(h){ct[h]=t});function i(h){var v=n(h);v.length!==e.length&&dt("Mismatched type converter count");for(var b=0;b<e.length;++b)de(e[b],v[b])}var l=new Array(t.length),c=[],p=0;t.forEach((h,v)=>{Oe.hasOwnProperty(h)?l[v]=Oe[h]:(c.push(h),Ve.hasOwnProperty(h)||(Ve[h]=[]),Ve[h].push(()=>{l[v]=Oe[h],++p,p===c.length&&i(l)}))}),c.length===0&&i(l)},Hn=e=>{var t=ut[e];delete ut[e];var n=t.rawConstructor,i=t.rawDestructor,l=t.fields,c=l.map(p=>p.getterReturnType).concat(l.map(p=>p.setterArgumentType));Ae([e],c,p=>{var h={};return l.forEach((v,b)=>{var S=v.fieldName,T=p[b],P=v.getter,E=v.getterContext,G=p[b+l.length],Z=v.setter,U=v.setterContext;h[S]={read:re=>T.fromWireType(P(E,re)),write:(re,g)=>{var x=[];Z(U,re,G.toWireType(x,g)),Lt(x)}}}),[{name:t.name,fromWireType:v=>{var b={};for(var S in h)b[S]=h[S].read(v);return i(v),b},toWireType:(v,b)=>{for(var S in h)if(!(S in b))throw new TypeError(`Missing field: "${S}"`);var T=n();for(S in h)h[S].write(T,b[S]);return v!==null&&v.push(i,T),T},argPackAdvance:fe,readValueFromPointer:Vt,destructorFunction:i}]})},In=(e,t,n,i,l)=>{},Wn=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ur=e},ur,te=e=>{for(var t="",n=e;X[n];)t+=ur[X[n++]];return t},Fe,F=e=>{throw new Fe(e)};function Un(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i=t.name;if(e||F(`type "${i}" must have a positive integer typeid pointer`),Oe.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;F(`Cannot register type '${i}' twice`)}if(Oe[e]=t,delete ct[e],Ve.hasOwnProperty(e)){var l=Ve[e];delete Ve[e],l.forEach(c=>c())}}function de(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Un(e,t,n)}var fe=8,Nn=(e,t,n,i)=>{t=te(t),de(e,{name:t,fromWireType:function(l){return!!l},toWireType:function(l,c){return c?n:i},argPackAdvance:fe,readValueFromPointer:function(l){return this.fromWireType(X[l])},destructorFunction:null})},Bn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ft=e=>{function t(n){return n.$$.ptrType.registeredClass.name}F(t(e)+" instance already deleted")},Ht=!1,cr=e=>{},Gn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},dr=e=>{e.count.value-=1;var t=e.count.value===0;t&&Gn(e)},fr=(e,t,n)=>{if(t===n)return e;if(n.baseClass===void 0)return null;var i=fr(e,t,n.baseClass);return i===null?null:n.downcast(i)},pr={},zn=()=>Object.keys(Ze).length,Jn=()=>{var e=[];for(var t in Ze)Ze.hasOwnProperty(t)&&e.push(Ze[t]);return e},qe=[],It=()=>{for(;qe.length;){var e=qe.pop();e.$$.deleteScheduled=!1,e.delete()}},Ye,qn=e=>{Ye=e,qe.length&&Ye&&Ye(It)},Yn=()=>{a.getInheritedInstanceCount=zn,a.getLiveInheritedInstances=Jn,a.flushPendingDeletes=It,a.setDelayFunction=qn},Ze={},Zn=(e,t)=>{for(t===void 0&&F("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Qn=(e,t)=>(t=Zn(e,t),Ze[t]),ft=(e,t)=>{(!t.ptrType||!t.ptr)&&dt("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,i=!!t.smartPtr;return n!==i&&dt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Qe(Object.create(e,{$$:{value:t,writable:!0}}))};function Xn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=Qn(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var i=n.clone();return this.destructor(e),i}function l(){return this.isSmartPointer?ft(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):ft(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var c=this.registeredClass.getActualType(t),p=pr[c];if(!p)return l.call(this);var h;this.isConst?h=p.constPointerType:h=p.pointerType;var v=fr(t,this.registeredClass,h.registeredClass);return v===null?l.call(this):this.isSmartPointer?ft(h.registeredClass.instancePrototype,{ptrType:h,ptr:v,smartPtrType:this,smartPtr:e}):ft(h.registeredClass.instancePrototype,{ptrType:h,ptr:v})}var Qe=e=>typeof FinalizationRegistry>"u"?(Qe=t=>t,e):(Ht=new FinalizationRegistry(t=>{dr(t.$$)}),Qe=t=>{var n=t.$$,i=!!n.smartPtr;if(i){var l={$$:n};Ht.register(t,l,t)}return t},cr=t=>Ht.unregister(t),Qe(e)),Kn=()=>{Object.assign(pt.prototype,{isAliasOf(e){if(!(this instanceof pt)||!(e instanceof pt))return!1;var t=this.$$.ptrType.registeredClass,n=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,l=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;i.baseClass;)l=i.upcast(l),i=i.baseClass;return t===i&&n===l},clone(){if(this.$$.ptr||Ft(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Qe(Object.create(Object.getPrototypeOf(this),{$$:{value:Bn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Ft(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),cr(this),dr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ft(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),qe.push(this),qe.length===1&&Ye&&Ye(It),this.$$.deleteScheduled=!0,this}})};function pt(){}var Xe=(e,t)=>Object.defineProperty(t,"name",{value:e}),hr=(e,t,n)=>{if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||F(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},Wt=(e,t,n)=>{a.hasOwnProperty(e)?((n===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[n]!==void 0)&&F(`Cannot register public name '${e}' twice`),hr(a,e,e),a.hasOwnProperty(n)&&F(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),a[e].overloadTable[n]=t):(a[e]=t,n!==void 0&&(a[e].numArguments=n))},eo=48,to=57,ro=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=eo&&t<=to?`_${e}`:e};function no(e,t,n,i,l,c,p,h){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=l,this.getActualType=c,this.upcast=p,this.downcast=h,this.pureVirtualFunctions=[]}var Ut=(e,t,n)=>{for(;t!==n;)t.upcast||F(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function oo(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${Jt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=Ut(t.$$.ptr,n,this.registeredClass);return i}function ao(e,t){var n;if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;(!t||!t.$$)&&F(`Cannot pass "${Jt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(n=Ut(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&F("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var l=t.clone();n=this.rawShare(n,ge.toHandle(()=>l.delete())),e!==null&&e.push(this.rawDestructor,n)}break;default:F("Unsupporting sharing policy")}return n}function io(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${Jt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=Ut(t.$$.ptr,n,this.registeredClass);return i}function mr(e){return this.fromWireType(O[e>>2])}var so=()=>{Object.assign(ht.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)===null||t===void 0||t.call(this,e)},argPackAdvance:fe,readValueFromPointer:mr,deleteObject(e){e!==null&&e.delete()},fromWireType:Xn})};function ht(e,t,n,i,l,c,p,h,v,b,S){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=i,this.isSmartPointer=l,this.pointeeType=c,this.sharingPolicy=p,this.rawGetPointee=h,this.rawConstructor=v,this.rawShare=b,this.rawDestructor=S,!l&&t.baseClass===void 0?i?(this.toWireType=oo,this.destructorFunction=null):(this.toWireType=io,this.destructorFunction=null):this.toWireType=ao}var vr=(e,t,n)=>{a.hasOwnProperty(e)||dt("Replacing nonexistant public symbol"),a[e].overloadTable!==void 0&&n!==void 0?a[e].overloadTable[n]=t:(a[e]=t,a[e].argCount=n)},lo=(e,t,n)=>{var i=a["dynCall_"+e];return n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)},mt=[],gr,J=e=>{var t=mt[e];return t||(e>=mt.length&&(mt.length=e+1),mt[e]=t=gr.get(e)),t},uo=(e,t,n)=>{if(e.includes("j"))return lo(e,t,n);var i=J(t).apply(null,n);return i},co=(e,t)=>{var n=[];return function(){return n.length=0,Object.assign(n,arguments),uo(e,t,n)}},ue=(e,t)=>{e=te(e);function n(){return e.includes("j")?co(e,t):J(t)}var i=n();return typeof i!="function"&&F(`unknown function pointer with signature ${e}: ${t}`),i},fo=(e,t)=>{var n=Xe(t,function(i){this.name=t,this.message=i;var l=new Error(i).stack;l!==void 0&&(this.stack=this.toString()+`
`+l.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},yr,wr=e=>{var t=Er(e),n=te(t);return ye(t),n},vt=(e,t)=>{var n=[],i={};function l(c){if(!i[c]&&!Oe[c]){if(ct[c]){ct[c].forEach(l);return}n.push(c),i[c]=!0}}throw t.forEach(l),new yr(`${e}: `+n.map(wr).join([", "]))},po=(e,t,n,i,l,c,p,h,v,b,S,T,P)=>{S=te(S),c=ue(l,c),h&&(h=ue(p,h)),b&&(b=ue(v,b)),P=ue(T,P);var E=ro(S);Wt(E,function(){vt(`Cannot construct ${S} due to unbound types`,[i])}),Ae([e,t,n],i?[i]:[],function(G){G=G[0];var Z,U;i?(Z=G.registeredClass,U=Z.instancePrototype):U=pt.prototype;var re=Xe(S,function(){if(Object.getPrototypeOf(this)!==g)throw new Fe("Use 'new' to construct "+S);if(x.constructor_body===void 0)throw new Fe(S+" has no accessible constructor");var Vr=x.constructor_body[arguments.length];if(Vr===void 0)throw new Fe(`Tried to invoke ctor of ${S} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(x.constructor_body).toString()}) parameters instead!`);return Vr.apply(this,arguments)}),g=Object.create(U,{constructor:{value:re}});re.prototype=g;var x=new no(S,re,g,P,Z,c,h,b);if(x.baseClass){var Q,ee;(ee=(Q=x.baseClass).__derivedClasses)!==null&&ee!==void 0||(Q.__derivedClasses=[]),x.baseClass.__derivedClasses.push(x)}var He=new ht(S,x,!0,!1,!1),wt=new ht(S+"*",x,!1,!1,!1),Lr=new ht(S+" const*",x,!1,!0,!1);return pr[e]={pointerType:wt,constPointerType:Lr},vr(E,re),[He,wt,Lr]})},Nt=(e,t)=>{for(var n=[],i=0;i<e;i++)n.push(O[t+i*4>>2]);return n};function ho(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Bt(e,t,n,i,l,c){var p=t.length;p<2&&F("argTypes array size mismatch! Must at least get return value and 'this' types!");var h=t[1]!==null&&n!==null,v=ho(t),b=t[0].name!=="void",S=p-2,T=new Array(S),P=[],E=[],G=function(){arguments.length!==S&&F(`function ${e} called with ${arguments.length} arguments, expected ${S}`),E.length=0;var Z;P.length=h?2:1,P[0]=l,h&&(Z=t[1].toWireType(E,this),P[1]=Z);for(var U=0;U<S;++U)T[U]=t[U+2].toWireType(E,arguments[U]),P.push(T[U]);var re=i.apply(null,P);function g(x){if(v)Lt(E);else for(var Q=h?1:2;Q<t.length;Q++){var ee=Q===1?Z:T[Q-2];t[Q].destructorFunction!==null&&t[Q].destructorFunction(ee)}if(b)return t[0].fromWireType(x)}return g(re)};return Xe(e,G)}var mo=(e,t,n,i,l,c)=>{var p=Nt(t,n);l=ue(i,l),Ae([],[e],function(h){h=h[0];var v=`constructor ${h.name}`;if(h.registeredClass.constructor_body===void 0&&(h.registeredClass.constructor_body=[]),h.registeredClass.constructor_body[t-1]!==void 0)throw new Fe(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${h.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return h.registeredClass.constructor_body[t-1]=()=>{vt(`Cannot construct ${h.name} due to unbound types`,p)},Ae([],p,b=>(b.splice(1,0,null),h.registeredClass.constructor_body[t-1]=Bt(v,b,null,l,c),[])),[]})},br=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},vo=(e,t,n,i,l,c,p,h,v)=>{var b=Nt(n,i);t=te(t),t=br(t),c=ue(l,c),Ae([],[e],function(S){S=S[0];var T=`${S.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),h&&S.registeredClass.pureVirtualFunctions.push(t);function P(){vt(`Cannot call ${T} due to unbound types`,b)}var E=S.registeredClass.instancePrototype,G=E[t];return G===void 0||G.overloadTable===void 0&&G.className!==S.name&&G.argCount===n-2?(P.argCount=n-2,P.className=S.name,E[t]=P):(hr(E,t,T),E[t].overloadTable[n-2]=P),Ae([],b,function(Z){var U=Bt(T,Z,S,c,p);return E[t].overloadTable===void 0?(U.argCount=n-2,E[t]=U):E[t].overloadTable[n-2]=U,[]}),[]})};function go(){Object.assign(Cr.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Cr(){this.allocated=[void 0],this.freelist=[]}var le=new Cr,Gt=e=>{e>=le.reserved&&--le.get(e).refcount===0&&le.free(e)},yo=()=>{for(var e=0,t=le.reserved;t<le.allocated.length;++t)le.allocated[t]!==void 0&&++e;return e},wo=()=>{le.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),le.reserved=le.allocated.length,a.count_emval_handles=yo},ge={toValue:e=>(e||F("Cannot use deleted val. handle = "+e),le.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return le.allocate({refcount:1,value:e})}}},bo=(e,t)=>{t=te(t),de(e,{name:t,fromWireType:n=>{var i=ge.toValue(n);return Gt(n),i},toWireType:(n,i)=>ge.toHandle(i),argPackAdvance:fe,readValueFromPointer:Vt,destructorFunction:null})},Co=(e,t,n)=>{switch(t){case 1:return n?function(i){return this.fromWireType(N[i>>0])}:function(i){return this.fromWireType(X[i>>0])};case 2:return n?function(i){return this.fromWireType($e[i>>1])}:function(i){return this.fromWireType(W[i>>1])};case 4:return n?function(i){return this.fromWireType(M[i>>2])}:function(i){return this.fromWireType(O[i>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},$o=(e,t,n,i)=>{t=te(t);function l(){}l.values={},de(e,{name:t,constructor:l,fromWireType:function(c){return this.constructor.values[c]},toWireType:(c,p)=>p.value,argPackAdvance:fe,readValueFromPointer:Co(t,n,i),destructorFunction:null}),Wt(t,l)},zt=(e,t)=>{var n=Oe[e];return n===void 0&&F(t+" has unknown type "+wr(e)),n},_o=(e,t,n)=>{var i=zt(e,"enum");t=te(t);var l=i.constructor,c=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:Xe(`${i.name}_${t}`,function(){})}});l.values[n]=c,l[t]=c},Jt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},ko=(e,t)=>{switch(t){case 4:return function(n){return this.fromWireType(_e[n>>2])};case 8:return function(n){return this.fromWireType(me[n>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},So=(e,t,n)=>{t=te(t),de(e,{name:t,fromWireType:i=>i,toWireType:(i,l)=>l,argPackAdvance:fe,readValueFromPointer:ko(t,n),destructorFunction:null})},xo=(e,t,n,i,l,c,p)=>{var h=Nt(t,n);e=te(e),e=br(e),l=ue(i,l),Wt(e,function(){vt(`Cannot call ${e} due to unbound types`,h)},t-1),Ae([],h,function(v){var b=[v[0],null].concat(v.slice(1));return vr(e,Bt(e,b,null,l,c),t-1),[]})},To=(e,t,n)=>{switch(t){case 1:return n?i=>N[i>>0]:i=>X[i>>0];case 2:return n?i=>$e[i>>1]:i=>W[i>>1];case 4:return n?i=>M[i>>2]:i=>O[i>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Po=(e,t,n,i,l)=>{t=te(t);var c=S=>S;if(i===0){var p=32-8*n;c=S=>S<<p>>>p}var h=t.includes("unsigned"),v=(S,T)=>{},b;h?b=function(S,T){return v(T,this.name),T>>>0}:b=function(S,T){return v(T,this.name),T},de(e,{name:t,fromWireType:c,toWireType:b,argPackAdvance:fe,readValueFromPointer:To(t,n,i!==0),destructorFunction:null})},Eo=(e,t,n)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],l=i[t];function c(p){var h=O[p>>2],v=O[p+4>>2];return new l(N.buffer,v,h)}n=te(n),de(e,{name:n,fromWireType:c,argPackAdvance:fe,readValueFromPointer:c},{ignoreDuplicateRegistrations:!0})},$r=(e,t,n,i)=>{if(!(i>0))return 0;for(var l=n,c=n+i-1,p=0;p<e.length;++p){var h=e.charCodeAt(p);if(h>=55296&&h<=57343){var v=e.charCodeAt(++p);h=65536+((h&1023)<<10)|v&1023}if(h<=127){if(n>=c)break;t[n++]=h}else if(h<=2047){if(n+1>=c)break;t[n++]=192|h>>6,t[n++]=128|h&63}else if(h<=65535){if(n+2>=c)break;t[n++]=224|h>>12,t[n++]=128|h>>6&63,t[n++]=128|h&63}else{if(n+3>=c)break;t[n++]=240|h>>18,t[n++]=128|h>>12&63,t[n++]=128|h>>6&63,t[n++]=128|h&63}}return t[n]=0,n-l},Mo=(e,t,n)=>$r(e,X,t,n),_r=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++n):t+=3}return t},kr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Oo=(e,t,n)=>{for(var i=t+n,l=t;e[l]&&!(l>=i);)++l;if(l-t>16&&e.buffer&&kr)return kr.decode(e.subarray(t,l));for(var c="";t<l;){var p=e[t++];if(!(p&128)){c+=String.fromCharCode(p);continue}var h=e[t++]&63;if((p&224)==192){c+=String.fromCharCode((p&31)<<6|h);continue}var v=e[t++]&63;if((p&240)==224?p=(p&15)<<12|h<<6|v:p=(p&7)<<18|h<<12|v<<6|e[t++]&63,p<65536)c+=String.fromCharCode(p);else{var b=p-65536;c+=String.fromCharCode(55296|b>>10,56320|b&1023)}}return c},qt=(e,t)=>e?Oo(X,e,t):"",Ao=(e,t)=>{t=te(t);var n=t==="std::string";de(e,{name:t,fromWireType(i){var l=O[i>>2],c=i+4,p;if(n)for(var h=c,v=0;v<=l;++v){var b=c+v;if(v==l||X[b]==0){var S=b-h,T=qt(h,S);p===void 0?p=T:(p+="\0",p+=T),h=b+1}}else{for(var P=new Array(l),v=0;v<l;++v)P[v]=String.fromCharCode(X[c+v]);p=P.join("")}return ye(i),p},toWireType(i,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var c,p=typeof l=="string";p||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||F("Cannot pass non-string to std::string"),n&&p?c=_r(l):c=l.length;var h=Qt(4+c+1),v=h+4;if(O[h>>2]=c,n&&p)Mo(l,v,c+1);else if(p)for(var b=0;b<c;++b){var S=l.charCodeAt(b);S>255&&(ye(v),F("String has UTF-16 code units that do not fit in 8 bits")),X[v+b]=S}else for(var b=0;b<c;++b)X[v+b]=l[b];return i!==null&&i.push(ye,h),h},argPackAdvance:fe,readValueFromPointer:mr,destructorFunction(i){ye(i)}})},Sr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,jo=(e,t)=>{for(var n=e,i=n>>1,l=i+t/2;!(i>=l)&&W[i];)++i;if(n=i<<1,n-e>32&&Sr)return Sr.decode(X.subarray(e,n));for(var c="",p=0;!(p>=t/2);++p){var h=$e[e+p*2>>1];if(h==0)break;c+=String.fromCharCode(h)}return c},Do=(e,t,n)=>{var i;if((i=n)!==null&&i!==void 0||(n=2147483647),n<2)return 0;n-=2;for(var l=t,c=n<e.length*2?n/2:e.length,p=0;p<c;++p){var h=e.charCodeAt(p);$e[t>>1]=h,t+=2}return $e[t>>1]=0,t-l},Ro=e=>e.length*2,Lo=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var l=M[e+n*4>>2];if(l==0)break;if(++n,l>=65536){var c=l-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}else i+=String.fromCharCode(l)}return i},Vo=(e,t,n)=>{var i;if((i=n)!==null&&i!==void 0||(n=2147483647),n<4)return 0;for(var l=t,c=l+n-4,p=0;p<e.length;++p){var h=e.charCodeAt(p);if(h>=55296&&h<=57343){var v=e.charCodeAt(++p);h=65536+((h&1023)<<10)|v&1023}if(M[t>>2]=h,t+=4,t+4>c)break}return M[t>>2]=0,t-l},Fo=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,t+=4}return t},Ho=(e,t,n)=>{n=te(n);var i,l,c,p,h;t===2?(i=jo,l=Do,p=Ro,c=()=>W,h=1):t===4&&(i=Lo,l=Vo,p=Fo,c=()=>O,h=2),de(e,{name:n,fromWireType:v=>{for(var b=O[v>>2],S=c(),T,P=v+4,E=0;E<=b;++E){var G=v+4+E*t;if(E==b||S[G>>h]==0){var Z=G-P,U=i(P,Z);T===void 0?T=U:(T+="\0",T+=U),P=G+t}}return ye(v),T},toWireType:(v,b)=>{typeof b!="string"&&F(`Cannot pass non-string to C++ string type ${n}`);var S=p(b),T=Qt(4+S+t);return O[T>>2]=S>>h,l(b,T+4,S+t),v!==null&&v.push(ye,T),T},argPackAdvance:fe,readValueFromPointer:Vt,destructorFunction(v){ye(v)}})},Io=(e,t,n,i,l,c)=>{ut[e]={name:te(t),rawConstructor:ue(n,i),rawDestructor:ue(l,c),fields:[]}},Wo=(e,t,n,i,l,c,p,h,v,b)=>{ut[e].fields.push({fieldName:te(t),getterReturnType:n,getter:ue(i,l),getterContext:c,setterArgumentType:p,setter:ue(h,v),setterContext:b})},Uo=(e,t)=>{t=te(t),de(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(n,i)=>{}})},Yt=[],No=(e,t,n,i)=>(e=Yt[e],t=ge.toValue(t),e(null,t,n,i)),Bo={},Go=e=>{var t=Bo[e];return t===void 0?te(e):t},xr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var n=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return n||delete t.$$$embind_global$$$,n}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},zo=e=>e===0?ge.toHandle(xr()):(e=Go(e),ge.toHandle(xr()[e])),Jo=e=>{var t=Yt.length;return Yt.push(e),t},qo=(e,t)=>{for(var n=new Array(e),i=0;i<e;++i)n[i]=zt(O[t+i*4>>2],"parameter "+i);return n},Yo=Reflect.construct,Zo=(e,t,n)=>{var i=[],l=e.toWireType(i,n);return i.length&&(O[t>>2]=ge.toHandle(i)),l},Qo=(e,t,n)=>{var i=qo(e,t),l=i.shift();e--;var c=new Array(e),p=(v,b,S,T)=>{for(var P=0,E=0;E<e;++E)c[E]=i[E].readValueFromPointer(T+P),P+=i[E].argPackAdvance;for(var G=n===1?Yo(b,c):b.apply(v,c),E=0;E<e;++E){var Z,U;(Z=(U=i[E]).deleteObject)===null||Z===void 0||Z.call(U,c[E])}return Zo(l,S,G)},h=`methodCaller<(${i.map(v=>v.name).join(", ")}) => ${l.name}>`;return Jo(Xe(h,p))},Xo=e=>{e>4&&(le.get(e).refcount+=1)},Ko=e=>{var t=ge.toValue(e);Lt(t),Gt(e)},ea=(e,t)=>{e=zt(e,"_emval_take_value");var n=e.readValueFromPointer(t);return ge.toHandle(n)},ta=()=>{ie("")},ra=(e,t,n)=>X.copyWithin(e,t,t+n),na=()=>2147483648,oa=e=>{var t=D.buffer,n=(e-t.byteLength+65535)/65536;try{return D.grow(n),Re(),1}catch{}},aa=e=>{var t=X.length;e>>>=0;var n=na();if(e>n)return!1;for(var i=(v,b)=>v+(b-v%b)%b,l=1;l<=4;l*=2){var c=t*(1+.2/l);c=Math.min(c,e+100663296);var p=Math.min(n,i(Math.max(e,c),65536)),h=oa(p);if(h)return!0}return!1},Zt={},ia=()=>m||"./this.program",Ke=()=>{if(!Ke.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:ia()};for(var n in Zt)Zt[n]===void 0?delete t[n]:t[n]=Zt[n];var i=[];for(var n in t)i.push(`${n}=${t[n]}`);Ke.strings=i}return Ke.strings},sa=(e,t)=>{for(var n=0;n<e.length;++n)N[t++>>0]=e.charCodeAt(n);N[t>>0]=0},la=(e,t)=>{var n=0;return Ke().forEach((i,l)=>{var c=t+n;O[e+l*4>>2]=c,sa(i,c),n+=i.length+1}),0},ua=(e,t)=>{var n=Ke();O[e>>2]=n.length;var i=0;return n.forEach(l=>i+=l.length+1),O[t>>2]=i,0},ca=e=>e,gt=e=>e%4===0&&(e%100!==0||e%400===0),da=(e,t)=>{for(var n=0,i=0;i<=t;n+=e[i++]);return n},Tr=[31,29,31,30,31,30,31,31,30,31,30,31],Pr=[31,28,31,30,31,30,31,31,30,31,30,31],fa=(e,t)=>{for(var n=new Date(e.getTime());t>0;){var i=gt(n.getFullYear()),l=n.getMonth(),c=(i?Tr:Pr)[l];if(t>c-n.getDate())t-=c-n.getDate()+1,n.setDate(1),l<11?n.setMonth(l+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n}return n};function pa(e,t,n){var i=n>0?n:_r(e)+1,l=new Array(i),c=$r(e,l,0,l.length);return t&&(l.length=c),l}var ha=(e,t)=>{N.set(e,t)},ma=(e,t,n,i)=>{var l=O[i+40>>2],c={tm_sec:M[i>>2],tm_min:M[i+4>>2],tm_hour:M[i+8>>2],tm_mday:M[i+12>>2],tm_mon:M[i+16>>2],tm_year:M[i+20>>2],tm_wday:M[i+24>>2],tm_yday:M[i+28>>2],tm_isdst:M[i+32>>2],tm_gmtoff:M[i+36>>2],tm_zone:l?qt(l):""},p=qt(n),h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in h)p=p.replace(new RegExp(v,"g"),h[v]);var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=["January","February","March","April","May","June","July","August","September","October","November","December"];function T(g,x,Q){for(var ee=typeof g=="number"?g.toString():g||"";ee.length<x;)ee=Q[0]+ee;return ee}function P(g,x){return T(g,x,"0")}function E(g,x){function Q(He){return He<0?-1:He>0?1:0}var ee;return(ee=Q(g.getFullYear()-x.getFullYear()))===0&&(ee=Q(g.getMonth()-x.getMonth()))===0&&(ee=Q(g.getDate()-x.getDate())),ee}function G(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function Z(g){var x=fa(new Date(g.tm_year+1900,0,1),g.tm_yday),Q=new Date(x.getFullYear(),0,4),ee=new Date(x.getFullYear()+1,0,4),He=G(Q),wt=G(ee);return E(He,x)<=0?E(wt,x)<=0?x.getFullYear()+1:x.getFullYear():x.getFullYear()-1}var U={"%a":g=>b[g.tm_wday].substring(0,3),"%A":g=>b[g.tm_wday],"%b":g=>S[g.tm_mon].substring(0,3),"%B":g=>S[g.tm_mon],"%C":g=>{var x=g.tm_year+1900;return P(x/100|0,2)},"%d":g=>P(g.tm_mday,2),"%e":g=>T(g.tm_mday,2," "),"%g":g=>Z(g).toString().substring(2),"%G":g=>Z(g),"%H":g=>P(g.tm_hour,2),"%I":g=>{var x=g.tm_hour;return x==0?x=12:x>12&&(x-=12),P(x,2)},"%j":g=>P(g.tm_mday+da(gt(g.tm_year+1900)?Tr:Pr,g.tm_mon-1),3),"%m":g=>P(g.tm_mon+1,2),"%M":g=>P(g.tm_min,2),"%n":()=>`
`,"%p":g=>g.tm_hour>=0&&g.tm_hour<12?"AM":"PM","%S":g=>P(g.tm_sec,2),"%t":()=>"	","%u":g=>g.tm_wday||7,"%U":g=>{var x=g.tm_yday+7-g.tm_wday;return P(Math.floor(x/7),2)},"%V":g=>{var x=Math.floor((g.tm_yday+7-(g.tm_wday+6)%7)/7);if((g.tm_wday+371-g.tm_yday-2)%7<=2&&x++,x){if(x==53){var Q=(g.tm_wday+371-g.tm_yday)%7;Q!=4&&(Q!=3||!gt(g.tm_year))&&(x=1)}}else{x=52;var ee=(g.tm_wday+7-g.tm_yday-1)%7;(ee==4||ee==5&&gt(g.tm_year%400-1))&&x++}return P(x,2)},"%w":g=>g.tm_wday,"%W":g=>{var x=g.tm_yday+7-(g.tm_wday+6)%7;return P(Math.floor(x/7),2)},"%y":g=>(g.tm_year+1900).toString().substring(2),"%Y":g=>g.tm_year+1900,"%z":g=>{var x=g.tm_gmtoff,Q=x>=0;return x=Math.abs(x)/60,x=x/60*100+x%60,(Q?"+":"-")+("0000"+x).slice(-4)},"%Z":g=>g.tm_zone,"%%":()=>"%"};p=p.replace(/%%/g,"\0\0");for(var v in U)p.includes(v)&&(p=p.replace(new RegExp(v,"g"),U[v](c)));p=p.replace(/\0\0/g,"%");var re=pa(p,!1);return re.length>t?0:(ha(re,e),re.length-1)},va=(e,t,n,i,l)=>ma(e,t,n,i);lr=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Wn(),Fe=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Kn(),Yn(),so(),yr=a.UnboundTypeError=fo(Error,"UnboundTypeError"),go(),wo();var ga={s:Mn,u:On,b:jn,g:Dn,q:Rn,J:Ln,f:Vn,V:Fn,d:An,da:Hn,Q:In,_:Nn,ca:po,ba:mo,w:vo,Y:bo,x:$o,h:_o,L:So,M:xo,t:Po,o:Eo,K:Ao,C:Ho,A:Io,ea:Wo,$:Uo,R:No,ha:Gt,fa:zo,Z:Qo,N:Xo,O:Ko,aa:ea,B:ta,X:ra,W:aa,T:la,U:ua,E:ja,D:$a,F:Aa,n:Da,a:ya,e:ka,m:Ca,k:xa,H:Ma,v:Pa,G:Oa,z:La,P:Fa,l:Sa,j:_a,c:ba,p:wa,I:Ea,r:Ra,i:Ta,y:Va,ga:ca,S:va},K=En(),ye=a._free=e=>(ye=a._free=K.ka)(e),Qt=a._malloc=e=>(Qt=a._malloc=K.la)(e),Er=e=>(Er=K.na)(e),B=(e,t)=>(B=K.oa)(e,t),et=e=>(et=K.pa)(e),q=()=>(q=K.qa)(),Y=e=>(Y=K.ra)(e),Mr=e=>(Mr=K.sa)(e),Or=e=>(Or=K.ta)(e),Ar=(e,t,n)=>(Ar=K.ua)(e,t,n),jr=e=>(jr=K.va)(e);a.dynCall_viijii=(e,t,n,i,l,c,p)=>(a.dynCall_viijii=K.wa)(e,t,n,i,l,c,p);var Dr=a.dynCall_jiiii=(e,t,n,i,l)=>(Dr=a.dynCall_jiiii=K.xa)(e,t,n,i,l);a.dynCall_iiiiij=(e,t,n,i,l,c,p)=>(a.dynCall_iiiiij=K.ya)(e,t,n,i,l,c,p),a.dynCall_iiiiijj=(e,t,n,i,l,c,p,h,v)=>(a.dynCall_iiiiijj=K.za)(e,t,n,i,l,c,p,h,v),a.dynCall_iiiiiijj=(e,t,n,i,l,c,p,h,v,b)=>(a.dynCall_iiiiiijj=K.Aa)(e,t,n,i,l,c,p,h,v,b);function ya(e,t){var n=q();try{return J(e)(t)}catch(i){if(Y(n),i!==i+0)throw i;B(1,0)}}function wa(e,t,n,i){var l=q();try{J(e)(t,n,i)}catch(c){if(Y(l),c!==c+0)throw c;B(1,0)}}function ba(e,t,n){var i=q();try{J(e)(t,n)}catch(l){if(Y(i),l!==l+0)throw l;B(1,0)}}function Ca(e,t,n,i){var l=q();try{return J(e)(t,n,i)}catch(c){if(Y(l),c!==c+0)throw c;B(1,0)}}function $a(e,t,n,i,l){var c=q();try{return J(e)(t,n,i,l)}catch(p){if(Y(c),p!==p+0)throw p;B(1,0)}}function _a(e,t){var n=q();try{J(e)(t)}catch(i){if(Y(n),i!==i+0)throw i;B(1,0)}}function ka(e,t,n){var i=q();try{return J(e)(t,n)}catch(l){if(Y(i),l!==l+0)throw l;B(1,0)}}function Sa(e){var t=q();try{J(e)()}catch(n){if(Y(t),n!==n+0)throw n;B(1,0)}}function xa(e,t,n,i,l){var c=q();try{return J(e)(t,n,i,l)}catch(p){if(Y(c),p!==p+0)throw p;B(1,0)}}function Ta(e,t,n,i,l,c,p,h,v,b,S){var T=q();try{J(e)(t,n,i,l,c,p,h,v,b,S)}catch(P){if(Y(T),P!==P+0)throw P;B(1,0)}}function Pa(e,t,n,i,l,c,p){var h=q();try{return J(e)(t,n,i,l,c,p)}catch(v){if(Y(h),v!==v+0)throw v;B(1,0)}}function Ea(e,t,n,i,l){var c=q();try{J(e)(t,n,i,l)}catch(p){if(Y(c),p!==p+0)throw p;B(1,0)}}function Ma(e,t,n,i,l,c){var p=q();try{return J(e)(t,n,i,l,c)}catch(h){if(Y(p),h!==h+0)throw h;B(1,0)}}function Oa(e,t,n,i,l,c,p,h){var v=q();try{return J(e)(t,n,i,l,c,p,h)}catch(b){if(Y(v),b!==b+0)throw b;B(1,0)}}function Aa(e,t,n,i){var l=q();try{return J(e)(t,n,i)}catch(c){if(Y(l),c!==c+0)throw c;B(1,0)}}function ja(e,t,n,i){var l=q();try{return J(e)(t,n,i)}catch(c){if(Y(l),c!==c+0)throw c;B(1,0)}}function Da(e){var t=q();try{return J(e)()}catch(n){if(Y(t),n!==n+0)throw n;B(1,0)}}function Ra(e,t,n,i,l,c,p,h){var v=q();try{J(e)(t,n,i,l,c,p,h)}catch(b){if(Y(v),b!==b+0)throw b;B(1,0)}}function La(e,t,n,i,l,c,p,h,v,b,S,T){var P=q();try{return J(e)(t,n,i,l,c,p,h,v,b,S,T)}catch(E){if(Y(P),E!==E+0)throw E;B(1,0)}}function Va(e,t,n,i,l,c,p,h,v,b,S,T,P,E,G,Z){var U=q();try{J(e)(t,n,i,l,c,p,h,v,b,S,T,P,E,G,Z)}catch(re){if(Y(U),re!==re+0)throw re;B(1,0)}}function Fa(e,t,n,i,l){var c=q();try{return Dr(e,t,n,i,l)}catch(p){if(Y(c),p!==p+0)throw p;B(1,0)}}var yt;Me=function e(){yt||Rr(),yt||(Me=e)};function Rr(){if(ce>0||(nt(),ce>0))return;function e(){yt||(yt=!0,a.calledRun=!0,!H&&(xt(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Tt()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Rr(),o.ready}})();function Rs(r){return ir(sr,r)}async function Ls(r,o){return js(sr,r,o)}async function Vs(r,o){return Ds(sr,r,o)}var rt;class hn extends EventTarget{constructor(o={}){var a;super(),us(this,rt,void 0);try{const s=(a=o==null?void 0:o.formats)==null?void 0:a.filter(d=>d!=="unknown");if((s==null?void 0:s.length)===0)throw new TypeError("Hint option provided, but is empty.");s==null||s.forEach(d=>{if(!Ct.has(d))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${d}' is not a valid enum value of type BarcodeFormat.`)}),cs(this,rt,s??[]),Rs().then(d=>{this.dispatchEvent(new CustomEvent("load",{detail:d}))}).catch(d=>{this.dispatchEvent(new CustomEvent("error",{detail:d}))})}catch(s){throw Wr(s,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return ds.filter(o=>o!=="unknown")}async detect(o){try{const a=await ys(o);if(a===null)return[];let s;try{cn(a)?s=await Ls(a,{tryHarder:!0,formats:Ir(this,rt).map(d=>Ct.get(d))}):s=await Vs(a,{tryHarder:!0,formats:Ir(this,rt).map(d=>Ct.get(d))})}catch(d){throw console.error(d),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return s.map(d=>{const{topLeft:{x:u,y:m},topRight:{x:_,y:f},bottomLeft:{x:C,y:k},bottomRight:{x:$,y:L}}=d.position,V=Math.min(u,_,C,$),D=Math.min(m,f,k,L),H=Math.max(u,_,C,$),N=Math.max(m,f,k,L);return{boundingBox:new DOMRectReadOnly(V,D,H-V,N-D),rawValue:d.text,format:fs(d.format),cornerPoints:[{x:u,y:m},{x:_,y:f},{x:$,y:L},{x:C,y:k}]}})}catch(a){throw Wr(a,"Failed to execute 'detect' on 'BarcodeDetector'")}}}rt=new WeakMap;const mn=(r,o,a="error")=>{let s,d;const u=new Promise((m,_)=>{s=m,d=_,r.addEventListener(o,s),r.addEventListener(a,d)});return u.finally(()=>{r.removeEventListener(o,s),r.removeEventListener(a,d)}),u},Gr=r=>new Promise(o=>setTimeout(o,r));class vn extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Fs extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Hs extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let tr;const Is=r=>{tr=new hn({formats:r})},Ws=async(r,{detectHandler:o,locateHandler:a,minDelay:s,formats:d})=>{tr=new hn({formats:d});const u=m=>async _=>{if(r.readyState>1){const{lastScanned:f,contentBefore:C,lastScanHadContent:k}=m;if(_-f<s)window.requestAnimationFrame(u(m));else{const $=await tr.detect(r),L=$.some(H=>!C.includes(H.rawValue));L&&o($);const V=$.length>0;V&&a($),!V&&k&&a($);const D={lastScanned:_,lastScanHadContent:V,contentBefore:L?$.map(H=>H.rawValue):C};window.requestAnimationFrame(u(D))}}};u({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var gn={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.compactObject=bn;ae.deprecated=Zs;var Us=ae.detectBrowser=Qs;ae.disableLog=Js;ae.disableWarnings=qs;ae.extractVersion=$t;ae.filterStats=Xs;ae.log=Ys;ae.walkStats=kt;ae.wrapPeerConnectionEvent=zs;function Ns(r,o,a){return o=Bs(o),o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r}function Bs(r){var o=Gs(r,"string");return Pe(o)==="symbol"?o:String(o)}function Gs(r,o){if(Pe(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,o||"default");if(Pe(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function Pe(r){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Pe(r)}var yn=!0,wn=!0;function $t(r,o,a){var s=r.match(o);return s&&s.length>=a&&parseInt(s[a],10)}function zs(r,o,a){if(r.RTCPeerConnection){var s=r.RTCPeerConnection.prototype,d=s.addEventListener;s.addEventListener=function(m,_){if(m!==o)return d.apply(this,arguments);var f=function(C){var k=a(C);k&&(_.handleEvent?_.handleEvent(k):_(k))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(_,f),d.apply(this,[m,f])};var u=s.removeEventListener;s.removeEventListener=function(m,_){if(m!==o||!this._eventMap||!this._eventMap[o])return u.apply(this,arguments);if(!this._eventMap[o].has(_))return u.apply(this,arguments);var f=this._eventMap[o].get(_);return this._eventMap[o].delete(_),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[m,f])},Object.defineProperty(s,"on"+o,{get:function(){return this["_on"+o]},set:function(m){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),m&&this.addEventListener(o,this["_on"+o]=m)},enumerable:!0,configurable:!0})}}function Js(r){return typeof r!="boolean"?new Error("Argument type: "+Pe(r)+". Please use a boolean."):(yn=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function qs(r){return typeof r!="boolean"?new Error("Argument type: "+Pe(r)+". Please use a boolean."):(wn=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function Ys(){if((typeof window>"u"?"undefined":Pe(window))==="object"){if(yn)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Zs(r,o){wn&&console.warn(r+" is deprecated, please use "+o+" instead.")}function Qs(r){var o={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return o.browser="Not a browser.",o;var a=r.navigator;if(a.mozGetUserMedia)o.browser="firefox",o.version=$t(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)o.browser="chrome",o.version=$t(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=$t(a.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function zr(r){return Object.prototype.toString.call(r)==="[object Object]"}function bn(r){return zr(r)?Object.keys(r).reduce(function(o,a){var s=zr(r[a]),d=s?bn(r[a]):r[a],u=s&&!Object.keys(d).length;return d===void 0||u?o:Object.assign(o,Ns({},a,d))},{}):r}function kt(r,o,a){!o||a.has(o.id)||(a.set(o.id,o),Object.keys(o).forEach(function(s){s.endsWith("Id")?kt(r,r.get(o[s]),a):s.endsWith("Ids")&&o[s].forEach(function(d){kt(r,r.get(d),a)})}))}function Xs(r,o,a){var s=a?"outbound-rtp":"inbound-rtp",d=new Map;if(o===null)return d;var u=[];return r.forEach(function(m){m.type==="track"&&m.trackIdentifier===o.id&&u.push(m)}),u.forEach(function(m){r.forEach(function(_){_.type===s&&_.trackId===m.id&&kt(r,_,d)})}),d}Object.defineProperty(gn,"__esModule",{value:!0});var Ks=gn.shimGetUserMedia=rl,el=tl(ae);function Cn(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Cn=function(s){return s?a:o})(r)}function tl(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||xe(r)!=="object"&&typeof r!="function")return{default:r};var a=Cn(o);if(a&&a.has(r))return a.get(r);var s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in r)if(u!=="default"&&Object.prototype.hasOwnProperty.call(r,u)){var m=d?Object.getOwnPropertyDescriptor(r,u):null;m&&(m.get||m.set)?Object.defineProperty(s,u,m):s[u]=r[u]}return s.default=r,a&&a.set(r,s),s}function xe(r){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},xe(r)}var Jr=el.log;function rl(r,o){var a=r&&r.navigator;if(a.mediaDevices){var s=function(f){if(xe(f)!=="object"||f.mandatory||f.optional)return f;var C={};return Object.keys(f).forEach(function(k){if(!(k==="require"||k==="advanced"||k==="mediaSource")){var $=xe(f[k])==="object"?f[k]:{ideal:f[k]};$.exact!==void 0&&typeof $.exact=="number"&&($.min=$.max=$.exact);var L=function(D,H){return D?D+H.charAt(0).toUpperCase()+H.slice(1):H==="deviceId"?"sourceId":H};if($.ideal!==void 0){C.optional=C.optional||[];var V={};typeof $.ideal=="number"?(V[L("min",k)]=$.ideal,C.optional.push(V),V={},V[L("max",k)]=$.ideal,C.optional.push(V)):(V[L("",k)]=$.ideal,C.optional.push(V))}$.exact!==void 0&&typeof $.exact!="number"?(C.mandatory=C.mandatory||{},C.mandatory[L("",k)]=$.exact):["min","max"].forEach(function(D){$[D]!==void 0&&(C.mandatory=C.mandatory||{},C.mandatory[L(D,k)]=$[D])})}}),f.advanced&&(C.optional=(C.optional||[]).concat(f.advanced)),C},d=function(f,C){if(o.version>=61)return C(f);if(f=JSON.parse(JSON.stringify(f)),f&&xe(f.audio)==="object"){var k=function(D,H,N){H in D&&!(N in D)&&(D[N]=D[H],delete D[H])};f=JSON.parse(JSON.stringify(f)),k(f.audio,"autoGainControl","googAutoGainControl"),k(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&xe(f.video)==="object"){var $=f.video.facingMode;$=$&&(xe($)==="object"?$:{ideal:$});var L=o.version<66;if($&&($.exact==="user"||$.exact==="environment"||$.ideal==="user"||$.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!L)){delete f.video.facingMode;var V;if($.exact==="environment"||$.ideal==="environment"?V=["back","rear"]:($.exact==="user"||$.ideal==="user")&&(V=["front"]),V)return a.mediaDevices.enumerateDevices().then(function(D){D=D.filter(function(N){return N.kind==="videoinput"});var H=D.find(function(N){return V.some(function(X){return N.label.toLowerCase().includes(X)})});return!H&&D.length&&V.includes("back")&&(H=D[D.length-1]),H&&(f.video.deviceId=$.exact?{exact:H.deviceId}:{ideal:H.deviceId}),f.video=s(f.video),Jr("chrome: "+JSON.stringify(f)),C(f)})}f.video=s(f.video)}return Jr("chrome: "+JSON.stringify(f)),C(f)},u=function(f){return o.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},m=function(f,C,k){d(f,function($){a.webkitGetUserMedia($,C,function(L){k&&k(u(L))})})};if(a.getUserMedia=m.bind(a),a.mediaDevices.getUserMedia){var _=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(f){return d(f,function(C){return _(C).then(function(k){if(C.audio&&!k.getAudioTracks().length||C.video&&!k.getVideoTracks().length)throw k.getTracks().forEach(function($){$.stop()}),new DOMException("","NotFoundError");return k},function(k){return Promise.reject(u(k))})})}}}}var $n={};Object.defineProperty($n,"__esModule",{value:!0});var nl=$n.shimGetUserMedia=il,ol=al(ae);function _n(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_n=function(s){return s?a:o})(r)}function al(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||Ie(r)!=="object"&&typeof r!="function")return{default:r};var a=_n(o);if(a&&a.has(r))return a.get(r);var s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in r)if(u!=="default"&&Object.prototype.hasOwnProperty.call(r,u)){var m=d?Object.getOwnPropertyDescriptor(r,u):null;m&&(m.get||m.set)?Object.defineProperty(s,u,m):s[u]=r[u]}return s.default=r,a&&a.set(r,s),s}function Ie(r){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ie(r)}function il(r,o){var a=r&&r.navigator,s=r&&r.MediaStreamTrack;if(a.getUserMedia=function(f,C,k){ol.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(f).then(C,k)},!(o.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var d=function(f,C,k){C in f&&!(k in f)&&(f[k]=f[C],delete f[C])},u=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(f){return Ie(f)==="object"&&Ie(f.audio)==="object"&&(f=JSON.parse(JSON.stringify(f)),d(f.audio,"autoGainControl","mozAutoGainControl"),d(f.audio,"noiseSuppression","mozNoiseSuppression")),u(f)},s&&s.prototype.getSettings){var m=s.prototype.getSettings;s.prototype.getSettings=function(){var f=m.apply(this,arguments);return d(f,"mozAutoGainControl","autoGainControl"),d(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){var _=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&Ie(f)==="object"&&(f=JSON.parse(JSON.stringify(f)),d(f,"autoGainControl","mozAutoGainControl"),d(f,"noiseSuppression","mozNoiseSuppression")),_.apply(this,[f])}}}}var he={};Object.defineProperty(he,"__esModule",{value:!0});he.shimAudioContext=vl;he.shimCallbacksAPI=dl;he.shimConstraints=xn;he.shimCreateOfferLegacy=ml;var sl=he.shimGetUserMedia=fl;he.shimLocalStreamsAPI=ul;he.shimRTCIceServerUrls=pl;he.shimRemoteStreamsAPI=cl;he.shimTrackEventTransceiver=hl;var kn=ll(ae);function Sn(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Sn=function(s){return s?a:o})(r)}function ll(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||Ee(r)!=="object"&&typeof r!="function")return{default:r};var a=Sn(o);if(a&&a.has(r))return a.get(r);var s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in r)if(u!=="default"&&Object.prototype.hasOwnProperty.call(r,u)){var m=d?Object.getOwnPropertyDescriptor(r,u):null;m&&(m.get||m.set)?Object.defineProperty(s,u,m):s[u]=r[u]}return s.default=r,a&&a.set(r,s),s}function Ee(r){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ee(r)}function ul(r){if(!(Ee(r)!=="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){var o=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(a){var s=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(a)||this._localStreams.push(a),a.getAudioTracks().forEach(function(d){return o.call(s,d,a)}),a.getVideoTracks().forEach(function(d){return o.call(s,d,a)})},r.RTCPeerConnection.prototype.addTrack=function(a){for(var s=this,d=arguments.length,u=new Array(d>1?d-1:0),m=1;m<d;m++)u[m-1]=arguments[m];return u&&u.forEach(function(_){s._localStreams?s._localStreams.includes(_)||s._localStreams.push(_):s._localStreams=[_]}),o.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(a){var s=this;this._localStreams||(this._localStreams=[]);var d=this._localStreams.indexOf(a);if(d!==-1){this._localStreams.splice(d,1);var u=a.getTracks();this.getSenders().forEach(function(m){u.includes(m.track)&&s.removeTrack(m)})}})}}function cl(r){if(!(Ee(r)!=="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){var s=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=function(d){d.streams.forEach(function(u){if(s._remoteStreams||(s._remoteStreams=[]),!s._remoteStreams.includes(u)){s._remoteStreams.push(u);var m=new Event("addstream");m.stream=u,s.dispatchEvent(m)}})})}});var o=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(function(d){if(a._remoteStreams||(a._remoteStreams=[]),!(a._remoteStreams.indexOf(d)>=0)){a._remoteStreams.push(d);var u=new Event("addstream");u.stream=d,a.dispatchEvent(u)}})}),o.apply(a,arguments)}}}function dl(r){if(!(Ee(r)!=="object"||!r.RTCPeerConnection)){var o=r.RTCPeerConnection.prototype,a=o.createOffer,s=o.createAnswer,d=o.setLocalDescription,u=o.setRemoteDescription,m=o.addIceCandidate;o.createOffer=function(f,C){var k=arguments.length>=2?arguments[2]:arguments[0],$=a.apply(this,[k]);return C?($.then(f,C),Promise.resolve()):$},o.createAnswer=function(f,C){var k=arguments.length>=2?arguments[2]:arguments[0],$=s.apply(this,[k]);return C?($.then(f,C),Promise.resolve()):$};var _=function(f,C,k){var $=d.apply(this,[f]);return k?($.then(C,k),Promise.resolve()):$};o.setLocalDescription=_,_=function(f,C,k){var $=u.apply(this,[f]);return k?($.then(C,k),Promise.resolve()):$},o.setRemoteDescription=_,_=function(f,C,k){var $=m.apply(this,[f]);return k?($.then(C,k),Promise.resolve()):$},o.addIceCandidate=_}}function fl(r){var o=r&&r.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var a=o.mediaDevices,s=a.getUserMedia.bind(a);o.mediaDevices.getUserMedia=function(d){return s(xn(d))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=(function(d,u,m){o.mediaDevices.getUserMedia(d).then(u,m)}).bind(o))}function xn(r){return r&&r.video!==void 0?Object.assign({},r,{video:kn.compactObject(r.video)}):r}function pl(r){if(r.RTCPeerConnection){var o=r.RTCPeerConnection;r.RTCPeerConnection=function(a,s){if(a&&a.iceServers){for(var d=[],u=0;u<a.iceServers.length;u++){var m=a.iceServers[u];m.urls===void 0&&m.url?(kn.deprecated("RTCIceServer.url","RTCIceServer.urls"),m=JSON.parse(JSON.stringify(m)),m.urls=m.url,delete m.url,d.push(m)):d.push(a.iceServers[u])}a.iceServers=d}return new o(a,s)},r.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function hl(r){Ee(r)==="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ml(r){var o=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(a){if(a){typeof a.offerToReceiveAudio<"u"&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var s=this.getTransceivers().find(function(u){return u.receiver.track.kind==="audio"});a.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):a.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof a.offerToReceiveVideo<"u"&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var d=this.getTransceivers().find(function(u){return u.receiver.track.kind==="video"});a.offerToReceiveVideo===!1&&d?d.direction==="sendrecv"?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":d.direction==="recvonly"&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):a.offerToReceiveVideo===!0&&!d&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function vl(r){Ee(r)!=="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const gl=r=>{let o=!1,a;return(...s)=>(o||(a=r(s),o=!0),a)};function we(r,o){if(r===!1)throw new Error(o??"assertion failure")}const yl=gl(()=>{const r=Us(window);switch(r.browser){case"chrome":Ks(window,r);break;case"firefox":nl(window,r);break;case"safari":sl(window,r);break;default:throw new vn}});let We=Promise.resolve({type:"stop",data:{}});async function qr(r,o,a){var s,d,u;if(window.isSecureContext!==!0)throw new Fs;if(((s=navigator==null?void 0:navigator.mediaDevices)==null?void 0:s.getUserMedia)===void 0)throw new vn;yl();const m=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});r.srcObject!==void 0?r.srcObject=m:r.mozSrcObject!==void 0?r.mozSrcObject=m:window.URL.createObjectURL?r.src=window.URL.createObjectURL(m):window.webkitURL?r.src=window.webkitURL.createObjectURL(m):r.src=m.id,r.play(),await Promise.race([mn(r,"loadeddata"),Gr(3e3).then(()=>{throw new Hs})]),await Gr(500);const[_]=m.getVideoTracks(),f=(u=(d=_==null?void 0:_.getCapabilities)==null?void 0:d.call(_))!=null?u:{};let C=!1;return a&&f.torch&&(await _.applyConstraints({advanced:[{torch:!0}]}),C=!0),{type:"start",data:{videoEl:r,stream:m,capabilities:f,constraints:o,isTorchOn:C}}}async function wl(r,{constraints:o,torch:a,restart:s=!1}){We=We.then(u=>{if(u.type==="start"){const{data:{videoEl:m,stream:_,constraints:f,isTorchOn:C}}=u;return!s&&r===m&&o===f&&a===C?u:Tn(m,_,C).then(()=>qr(r,o,a))}return qr(r,o,a)});const d=await We;if(d.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return d.data.capabilities}async function Tn(r,o,a){r.src="",r.srcObject=null,r.load(),await mn(r,"error");for(const s of o.getTracks())a!=null||await s.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(s),s.stop();return{type:"stop",data:{}}}async function bt(){if(We=We.then(r=>{if(r.type==="stop")return r;const{data:{videoEl:o,stream:a,isTorchOn:s}}=r;return Tn(o,a,s)}),(await We).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const bl=Ce({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(r,{emit:o}){const a=r,s=o,d=ne(a.constraints),u=ne(a.formats);tt(()=>a.constraints,(W,M)=>{JSON.stringify(W)!==JSON.stringify(M)&&(d.value=W)},{deep:!0}),tt(()=>a.formats,(W,M)=>{JSON.stringify(W)!==JSON.stringify(M)&&(u.value=W)},{deep:!0});const m=ne(),_=ne(),f=ne(),C=ne(!1),k=ne(!1);Zr(()=>{k.value=!0}),za(()=>{bt()});const $=Xt(()=>({torch:a.torch,constraints:d.value,shouldStream:k.value&&!a.paused}));tt($,async W=>{const M=f.value;we(M!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const O=m.value;we(O!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const _e=O.getContext("2d");if(we(_e!==null,"if cavnas is defined, canvas 2d context should also be non-null"),W.shouldStream){bt(),C.value=!1;try{const me=await wl(M,W);k.value?(C.value=!0,s("camera-on",me)):await bt()}catch(me){s("error",me)}}else O.width=M.videoWidth,O.height=M.videoHeight,_e.drawImage(M,0,0,M.videoWidth,M.videoHeight),bt(),C.value=!1,s("camera-off")},{deep:!0}),tt(u,W=>{k.value&&Is(W)});const L=Xt(()=>$.value.shouldStream&&C.value);tt(L,W=>{if(W){we(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),V(m.value),we(_.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),V(_.value);const M=()=>a.track===void 0?500:40;we(f.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Ws(f.value,{detectHandler:O=>s("detect",O),formats:u.value,locateHandler:D,minDelay:M()})}});const V=W=>{const M=W.getContext("2d");we(M!==null,"canvas 2d context should always be non-null"),M.clearRect(0,0,W.width,W.height)},D=W=>{const M=_.value;we(M!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const O=f.value;if(we(O!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),W.length===0||a.track===void 0)V(M);else{const _e=O.offsetWidth,me=O.offsetHeight,Re=O.videoWidth,Le=O.videoHeight,Ge=Math.max(_e/Re,me/Le),ze=Re*Ge,nt=Le*Ge,xt=ze/Re,Tt=nt/Le,Pt=(_e-ze)/2,Et=(me-nt)/2,Je=({x:ke,y:ie})=>({x:Math.floor(ke*xt),y:Math.floor(ie*Tt)}),ce=({x:ke,y:ie})=>({x:Math.floor(ke+Pt),y:Math.floor(ie+Et)}),Me=W.map(ke=>{const{boundingBox:ie,cornerPoints:Ot}=ke,{x:ot,y:Se}=ce(Je({x:ie.x,y:ie.y})),{x:at,y:At}=Je({x:ie.width,y:ie.height});return{...ke,cornerPoints:Ot.map(it=>ce(Je(it))),boundingBox:DOMRectReadOnly.fromRect({x:ot,y:Se,width:at,height:At})}});M.width=O.offsetWidth,M.height=O.offsetHeight;const Mt=M.getContext("2d");a.track(Me,Mt)}},H={width:"100%",height:"100%",position:"relative","z-index":"0"},N={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},X={width:"100%",height:"100%","object-fit":"cover"},$e=Xt(()=>L.value?X:{...X,visibility:"hidden",position:"absolute"});return(W,M)=>(R(),z("div",{style:H},[w("video",{ref_key:"videoRef",ref:f,style:Ja($e.value),autoplay:"",muted:"",playsinline:""},null,4),qa(w("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:m,style:X},null,512),[[Ya,!L.value]]),w("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:_,style:N},null,512),w("div",{style:N},[Yr(W.$slots,"default")])]))}}),Cl={class:"flex max-[800px]:flex-wrap justify-between max-[800px]:h-full gap-y-10 gap-x-6"},$l={key:0},_l={class:"w-4/12 max-lg:w-5/12 max-[800px]:w-full"},kl={class:"w-full flex flex-col gap-y-2"},Sl={class:"flex justify-between items-center"},xl={class:"flex items-center gap-x-4 mb-4"},Tl={key:0},Pl=w("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[w("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})],-1),El=[Pl],Ml={key:2},Ol=w("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[w("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})],-1),Al=[Ol],jl={key:0},Dl={key:1},au=Ce({__name:"storage",setup(r){const o=rr(),a=De();ne("");const s=ne(Fr[0]),d=ne(),u=ne(null),m=_=>{u.value=_,a.searchGoods=_,a.loadAllListSearch({search:JSON.stringify(a.searchGoods[0].rawValue)}),console.log(a.searchGoods),a.streaming=!1};return Zr(()=>{d.value=window.innerWidth,a.loadStorageCategoryList()}),Za(()=>{o.path==="/base/storage"&&a.loadAllList()}),(_,f)=>{const C=Bi,k=is,$=ri,L=Xr,V=ls,D=Wa;return R(),z("div",Cl,[y(d)<=800?(R(),z("div",$l)):se("",!0),w("div",_l,[A(C)]),w("div",kl,[A(er,{onScroll:f[2]||(f[2]=be(()=>{},["prevent"])),onWheel:f[3]||(f[3]=be(()=>{},["prevent"])),onTouch:f[4]||(f[4]=be(()=>{},["prevent"]))},{default:j(()=>[A(k,{ref:y(a).scan,onOpenStreamSearch:f[0]||(f[0]=H=>y(a).streaming=!0)},null,512),y(a).streaming?(R(),pe(St,{key:0,type:"resize",onShowModal:f[1]||(f[1]=H=>{y(a).streaming=!1,u.value=null})},{default:j(()=>[w("p",null,I(y(u)?JSON.stringify(y(u)[0].rawValue):"not working"),1),A(y(bl),{onDetect:m,formats:["qr_code","aztec","code_128","code_39","code_93","databar","codabar","linear_codes","micro_qr_code","databar_expanded","ean_13","ean_8","itf"]})]),_:1})):se("",!0)]),_:1}),A(er,{class:"w-full"},{default:j(()=>[w("div",Sl,[w("div",xl,[A(Kt,{"breadcrumb-link":y(o).path===`/base/storage/${y(o).params.slug}`||y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?"/base/storage":""},{default:j(()=>[oe(I(_.$t("Главная")),1)]),_:1},8,["breadcrumb-link"]),y(o).path===`/base/storage/${y(o).params.slug}`||y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?(R(),z("div",Tl,El)):se("",!0),y(o).path===`/base/storage/${y(o).params.slug}`||y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?(R(),pe(Kt,{key:1,"breadcrumb-link":y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?`/base/storage/${y(o).params.slug}`:""},{default:j(()=>[oe(I(y(a).currentCategory.name?y(a).currentCategory.name:y(a).storageItem.name),1)]),_:1},8,["breadcrumb-link"])):se("",!0),y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?(R(),z("div",Ml,Al)):se("",!0),y(o).path===`/base/storage/${y(o).params.slug}/${y(o).params.nestedSlug}`?(R(),pe(Kt,{key:3},{default:j(()=>[oe(I(y(o).params.nestedSlug),1)]),_:1})):se("",!0)]),w("div",null,[A(L,{modelValue:y(s),"onUpdate:modelValue":f[5]||(f[5]=H=>_t(s)?s.value=H:null),options:y(Fr)},{label:j(()=>[A($,{name:y(s).icon,class:"w-4 h-4"},null,8,["name"]),oe(" "+I(y(s).label),1)]),_:1},8,["modelValue","options"])])]),y(o).params.slug?(R(),z("div",Dl,[A(D)])):(R(),z("div",jl,[A(V)]))]),_:1})])])}}});export{au as default};
