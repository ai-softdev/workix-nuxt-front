import{b as $a,c as Va,e as Ra}from"./entry.W6VtQ6GY.js";import{u as Oa}from"./index.DOX4Qrk5.js";import{aq as Ia,N as Gt,O as jt,a5 as za,a as Cn,H as Ba,Z as m,a4 as Mt,u as S,L as R,V as O,_ as B,$ as Ut,a2 as Pa,a6 as Wt,a0 as Fa,a1 as Za,b as Xa}from"./swiper-vue.D8OdYOtj.js";import{b as qa,c as Ya,g as Ua}from"./nuxt-storage.jjXK-e5k.js";import{u as bn,_ as ye}from"./TheButton.vue.BMSZNhtg.js";import{u as kn}from"./auth.Gw2nxBHi.js";import{_ as Mn}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as Wa}from"./companies.B5XKz1s_.js";const Ga=""+globalThis.__publicAssetsURL("img/map-bg.png");var Sn={exports:{}};const ja=qa(Ia);(function(P,tt){(function(T,k){P.exports=k(ja)})(typeof self<"u"?self:Ya,function(A){return function(T){var k={};function _(v){if(k[v])return k[v].exports;var p=k[v]={i:v,l:!1,exports:{}};return T[v].call(p.exports,p,p.exports,_),p.l=!0,p.exports}return _.m=T,_.c=k,_.d=function(v,p,E){_.o(v,p)||Object.defineProperty(v,p,{enumerable:!0,get:E})},_.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},_.t=function(v,p){if(p&1&&(v=_(v)),p&8||p&4&&typeof v=="object"&&v&&v.__esModule)return v;var E=Object.create(null);if(_.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:v}),p&2&&typeof v!="string")for(var w in v)_.d(E,w,(function(H){return v[H]}).bind(null,w));return E},_.n=function(v){var p=v&&v.__esModule?function(){return v.default}:function(){return v};return _.d(p,"a",p),p},_.o=function(v,p){return Object.prototype.hasOwnProperty.call(v,p)},_.p="",_(_.s="fb15")}({"0c49":function(T,k,_){_("5609")},"2c81":function(T,k,_){_("fddc")},5609:function(T,k,_){},8875:function(T,k,_){var v,p,E;(function(w,H){p=[],v=H,E=typeof v=="function"?v.apply(k,p):v,E!==void 0&&(T.exports=E)})(typeof self<"u"?self:this,function(){function w(){var H=Object.getOwnPropertyDescriptor(document,"currentScript");if(!H&&"currentScript"in document&&document.currentScript||H&&H.get!==w&&document.currentScript)return document.currentScript;try{throw new Error}catch(Et){var st=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,lt=/@([^@]*):(\d+):(\d+)\s*$/ig,x=st.exec(Et.stack)||lt.exec(Et.stack),F=x&&x[1]||!1,U=x&&x[2]||!1,et=document.location.href.replace(document.location.hash,""),nt,ut,St,Z=document.getElementsByTagName("script");F===et&&(nt=document.documentElement.outerHTML,ut=new RegExp("(?:[^\\n]+?\\n){0,"+(U-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),St=nt.replace(ut,"$1").trim());for(var $=0;$<Z.length;$++)if(Z[$].readyState==="interactive"||Z[$].src===F||F===et&&Z[$].innerHTML&&Z[$].innerHTML.trim()===St)return Z[$];return null}}return w})},"8bbf":function(T,k){T.exports=A},d959:function(T,k,_){Object.defineProperty(k,"__esModule",{value:!0}),k.default=(v,p)=>{const E=v.__vccOpts||v;for(const[w,H]of p)E[w]=H;return E}},fb15:function(T,k,_){if(_.r(k),typeof window<"u"){var v=window.document.currentScript;{var p=_("8875");v=p(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:p})}var E=v&&v.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);E&&(_.p=E[1])}var w=_("8bbf"),H={class:"tree-container",ref:"container"},st=["onClick"];function lt(t,e,n,r,i,o){return Object(w.openBlock)(),Object(w.createElementBlock)("div",H,[(Object(w.openBlock)(),Object(w.createElementBlock)("svg",{class:"svg vue-tree",ref:"svg",style:Object(w.normalizeStyle)(i.initialTransformStyle)},null,4)),Object(w.createElementVNode)("div",{class:"dom-container",ref:"domContainer",style:Object(w.normalizeStyle)(i.initialTransformStyle)},[Object(w.createVNode)(w.TransitionGroup,{name:"tree-node-item",tag:"div"},{default:Object(w.withCtx)(function(){return[(Object(w.openBlock)(!0),Object(w.createElementBlock)(w.Fragment,null,Object(w.renderList)(i.nodeDataList,function(a,l){return Object(w.openBlock)(),Object(w.createElementBlock)("div",{class:"node-slot",onClick:function(s){return o.onClickNode(l)},key:a.data._key,style:Object(w.normalizeStyle)({left:i.formatDimension(n.direction===i.Direction.VERTICAL?a.x:a.y),top:i.formatDimension(n.direction===i.Direction.VERTICAL?a.y:a.x),width:i.formatDimension(n.config.nodeWidth),height:i.formatDimension(n.config.nodeHeight)})},[Object(w.renderSlot)(t.$slots,"node",{node:a.data,collapsed:a.data._collapsed},function(){return[Object(w.createElementVNode)("span",null,Object(w.toDisplayString)(a.data.value),1)]},!0)],12,st)}),128))]}),_:3})],4)],512)}var x={value:()=>{}};function F(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new U(n)}function U(t){this._=t}function et(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}U.prototype=F.prototype={constructor:U,on:function(t,e){var n=this._,r=et(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=nt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=ut(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ut(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new U(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function nt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ut(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=x,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var St=F;function Z(){}var $=function(t){return t==null?Z:function(){return this.querySelector(t)}},Et=function(t){typeof t!="function"&&(t=$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=new Array(a),u,s,c=0;c<a;++c)(u=o[c])&&(s=t.call(u,u.__data__,c,o))&&("__data__"in u&&(s.__data__=u.__data__),l[c]=s);return new V(r,this._parents)};function En(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Tn(){return[]}var xe=function(t){return t==null?Tn:function(){return this.querySelectorAll(t)}};function An(t){return function(){return En(t.apply(this,arguments))}}var Ln=function(t){typeof t=="function"?t=An(t):t=xe(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],l=a.length,u,s=0;s<l;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new V(r,i)},we=function(t){return function(){return this.matches(t)}};function Ce(t){return function(e){return e.matches(t)}}var Nn=Array.prototype.find;function Hn(t){return function(){return Nn.call(this.children,t)}}function Dn(){return this.firstElementChild}var $n=function(t){return this.select(t==null?Dn:Hn(typeof t=="function"?t:Ce(t)))},Vn=Array.prototype.filter;function Rn(){return Array.from(this.children)}function On(t){return function(){return Vn.call(this.children,t)}}var In=function(t){return this.selectAll(t==null?Rn:On(typeof t=="function"?t:Ce(t)))},zn=function(t){typeof t!="function"&&(t=we(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&t.call(u,u.__data__,s,o)&&l.push(u);return new V(r,this._parents)},be=function(t){return new Array(t.length)},Bn=function(){return new V(this._enter||this._groups.map(be),this._parents)};function Tt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pn=function(t){return function(){return t}};function Fn(t,e,n,r,i,o){for(var a=0,l,u=e.length,s=o.length;a<s;++a)(l=e[a])?(l.__data__=o[a],r[a]=l):n[a]=new Tt(t,o[a]);for(;a<u;++a)(l=e[a])&&(i[a]=l)}function Zn(t,e,n,r,i,o,a){var l,u,s=new Map,c=e.length,f=o.length,h=new Array(c),d;for(l=0;l<c;++l)(u=e[l])&&(h[l]=d=a.call(u,u.__data__,l,e)+"",s.has(d)?i[l]=u:s.set(d,u));for(l=0;l<f;++l)d=a.call(t,o[l],l,o)+"",(u=s.get(d))?(r[l]=u,u.__data__=o[l],s.delete(d)):n[l]=new Tt(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&s.get(h[l])===u&&(i[l]=u)}function Xn(t){return t.__data__}var qn=function(t,e){if(!arguments.length)return Array.from(this,Xn);var n=e?Zn:Fn,r=this._parents,i=this._groups;typeof t!="function"&&(t=Pn(t));for(var o=i.length,a=new Array(o),l=new Array(o),u=new Array(o),s=0;s<o;++s){var c=r[s],f=i[s],h=f.length,d=Yn(t.call(c,c&&c.__data__,s,r)),g=d.length,y=l[s]=new Array(g),C=a[s]=new Array(g),M=u[s]=new Array(h);n(c,f,y,C,M,d,e);for(var b=0,L=0,N,Q;b<g;++b)if(N=y[b]){for(b>=L&&(L=b+1);!(Q=C[L])&&++L<g;);N._next=Q||null}}return a=new V(a,r),a._enter=l,a._exit=u,a};function Yn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}var Un=function(){return new V(this._exit||this._groups.map(be),this._parents)},Wn=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i},Gn=function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),u=0;u<a;++u)for(var s=n[u],c=r[u],f=s.length,h=l[u]=new Array(f),d,g=0;g<f;++g)(d=s[g]||c[g])&&(h[g]=d);for(;u<i;++u)l[u]=n[u];return new V(l,this._parents)},jn=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this},Kn=function(t){t||(t=Qn);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,u=i[o]=new Array(l),s,c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new V(i,this._parents).order()};function Qn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Jn=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},tr=function(){return Array.from(this)},er=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},nr=function(){let t=0;for(const e of this)++t;return t},rr=function(){return!this.node()},ir=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this},Kt="http://www.w3.org/1999/xhtml",ke={svg:"http://www.w3.org/2000/svg",xhtml:Kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ke.hasOwnProperty(e)?{space:ke[e],local:t}:t};function or(t){return function(){this.removeAttribute(t)}}function ar(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sr(t,e){return function(){this.setAttribute(t,e)}}function lr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ur(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function cr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var fr=function(t,e){var n=At(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ar:or:typeof e=="function"?n.local?cr:ur:n.local?lr:sr)(n,e))},Me=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function hr(t){return function(){this.style.removeProperty(t)}}function dr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var _r=function(t,e,n){return arguments.length>1?this.each((e==null?hr:typeof e=="function"?pr:dr)(t,e,n??"")):ct(this.node(),t)};function ct(t,e){return t.style.getPropertyValue(e)||Me(t).getComputedStyle(t,null).getPropertyValue(e)}function vr(t){return function(){delete this[t]}}function gr(t,e){return function(){this[t]=e}}function mr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}var yr=function(t,e){return arguments.length>1?this.each((e==null?vr:typeof e=="function"?mr:gr)(t,e)):this.node()[t]};function Se(t){return t.trim().split(/^|\s+/)}function Qt(t){return t.classList||new Ee(t)}function Ee(t){this._node=t,this._names=Se(t.getAttribute("class")||"")}Ee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Te(t,e){for(var n=Qt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ae(t,e){for(var n=Qt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function xr(t){return function(){Te(this,t)}}function wr(t){return function(){Ae(this,t)}}function Cr(t,e){return function(){(e.apply(this,arguments)?Te:Ae)(this,t)}}var br=function(t,e){var n=Se(t+"");if(arguments.length<2){for(var r=Qt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Cr:e?xr:wr)(n,e))};function kr(){this.textContent=""}function Mr(t){return function(){this.textContent=t}}function Sr(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}var Er=function(t){return arguments.length?this.each(t==null?kr:(typeof t=="function"?Sr:Mr)(t)):this.node().textContent};function Tr(){this.innerHTML=""}function Ar(t){return function(){this.innerHTML=t}}function Lr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}var Nr=function(t){return arguments.length?this.each(t==null?Tr:(typeof t=="function"?Lr:Ar)(t)):this.node().innerHTML};function Hr(){this.nextSibling&&this.parentNode.appendChild(this)}var Dr=function(){return this.each(Hr)};function $r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Vr=function(){return this.each($r)};function Rr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Kt&&e.documentElement.namespaceURI===Kt?e.createElement(t):e.createElementNS(n,t)}}function Or(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Le=function(t){var e=At(t);return(e.local?Or:Rr)(e)},Ir=function(t){var e=typeof t=="function"?t:Le(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function zr(){return null}var Br=function(t,e){var n=typeof t=="function"?t:Le(t),r=e==null?zr:typeof e=="function"?e:$(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})};function Pr(){var t=this.parentNode;t&&t.removeChild(this)}var Fr=function(){return this.each(Pr)};function Zr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var qr=function(t){return this.select(t?Xr:Zr)},Yr=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function Ur(t){return function(e){t.call(this,e,this.__data__)}}function Wr(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Gr(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function jr(t,e,n){return function(){var r=this.__on,i,o=Ur(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}var Kr=function(t,e,n){var r=Wr(t+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,s=l.length,c;u<s;++u)for(i=0,c=l[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(l=e?jr:Gr,i=0;i<o;++i)this.each(l(r[i],e,n));return this};function Ne(t,e,n){var r=Me(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Qr(t,e){return function(){return Ne(this,t,e)}}function Jr(t,e){return function(){return Ne(this,t,e.apply(this,arguments))}}var ti=function(t,e){return this.each((typeof e=="function"?Jr:Qr)(t,e))},ei=function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)},He=[null];function V(t,e){this._groups=t,this._parents=e}function De(){return new V([[document.documentElement]],He)}function ni(){return this}V.prototype=De.prototype={constructor:V,select:Et,selectAll:Ln,selectChild:$n,selectChildren:In,filter:zn,data:qn,enter:Bn,exit:Un,join:Wn,merge:Gn,selection:ni,order:jn,sort:Kn,call:Jn,nodes:tr,node:er,size:nr,empty:rr,each:ir,attr:fr,style:_r,property:yr,classed:br,text:Er,html:Nr,raise:Dr,lower:Vr,append:Ir,insert:Br,remove:Fr,clone:qr,datum:Yr,on:Kr,dispatch:ti,[Symbol.iterator]:ei};var Lt=De,ri=function(t){return typeof t=="string"?new V([[document.querySelector(t)]],[document.documentElement]):new V([[t]],He)},Jt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function $e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pt(){}var _t=.7,Nt=1/_t,ft="\\s*([+-]?\\d+)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ii=/^#([0-9a-f]{3,8})$/,oi=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),ai=new RegExp(`^rgb\\(${X},${X},${X}\\)$`),si=new RegExp(`^rgba\\(${ft},${ft},${ft},${vt}\\)$`),li=new RegExp(`^rgba\\(${X},${X},${X},${vt}\\)$`),ui=new RegExp(`^hsl\\(${vt},${X},${X}\\)$`),ci=new RegExp(`^hsla\\(${vt},${X},${X},${vt}\\)$`),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jt(pt,gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Re,formatHex:Re,formatHex8:fi,formatHsl:hi,formatRgb:Oe,toString:Oe});function Re(){return this.rgb().formatHex()}function fi(){return this.rgb().formatHex8()}function hi(){return Fe(this).formatHsl()}function Oe(){return this.rgb().formatRgb()}function gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ii.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ie(e):n===3?new D(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ht(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oi.exec(t))?new D(e[1],e[2],e[3],1):(e=ai.exec(t))?new D(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=si.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=li.exec(t))?Ht(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ui.exec(t))?Pe(e[1],e[2]/100,e[3]/100,1):(e=ci.exec(t))?Pe(e[1],e[2]/100,e[3]/100,e[4]):Ve.hasOwnProperty(t)?Ie(Ve[t]):t==="transparent"?new D(NaN,NaN,NaN,0):null}function Ie(t){return new D(t>>16&255,t>>8&255,t&255,1)}function Ht(t,e,n,r){return r<=0&&(t=e=n=NaN),new D(t,e,n,r)}function di(t){return t instanceof pt||(t=gt(t)),t?(t=t.rgb(),new D(t.r,t.g,t.b,t.opacity)):new D}function te(t,e,n,r){return arguments.length===1?di(t):new D(t,e,n,r??1)}function D(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Jt(D,te,$e(pt,{brighter(t){return t=t==null?Nt:Math.pow(Nt,t),new D(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_t:Math.pow(_t,t),new D(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new D(rt(this.r),rt(this.g),rt(this.b),Dt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ze,formatHex:ze,formatHex8:pi,formatRgb:Be,toString:Be}));function ze(){return`#${it(this.r)}${it(this.g)}${it(this.b)}`}function pi(){return`#${it(this.r)}${it(this.g)}${it(this.b)}${it((isNaN(this.opacity)?1:this.opacity)*255)}`}function Be(){const t=Dt(this.opacity);return`${t===1?"rgb(":"rgba("}${rt(this.r)}, ${rt(this.g)}, ${rt(this.b)}${t===1?")":`, ${t})`}`}function Dt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function it(t){return t=rt(t),(t<16?"0":"")+t.toString(16)}function Pe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new I(t,e,n,r)}function Fe(t){if(t instanceof I)return new I(t.h,t.s,t.l,t.opacity);if(t instanceof pt||(t=gt(t)),!t)return new I;if(t instanceof I)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new I(a,l,u,t.opacity)}function _i(t,e,n,r){return arguments.length===1?Fe(t):new I(t,e,n,r??1)}function I(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Jt(I,_i,$e(pt,{brighter(t){return t=t==null?Nt:Math.pow(Nt,t),new I(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_t:Math.pow(_t,t),new I(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new D(ee(t>=240?t-240:t+120,i,r),ee(t,i,r),ee(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new I(Ze(this.h),$t(this.s),$t(this.l),Dt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dt(this.opacity);return`${t===1?"hsl(":"hsla("}${Ze(this.h)}, ${$t(this.s)*100}%, ${$t(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ze(t){return t=(t||0)%360,t<0?t+360:t}function $t(t){return Math.max(0,Math.min(1,t||0))}function ee(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Xe=t=>()=>t;function vi(t,e){return function(n){return t+n*e}}function gi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mi(t){return(t=+t)==1?qe:function(e,n){return n-e?gi(e,n,t):Xe(isNaN(e)?n:e)}}function qe(t,e){var n=e-t;return n?vi(t,n):Xe(isNaN(t)?e:t)}var Ye=function t(e){var n=mi(e);function r(i,o){var a=n((i=te(i)).r,(o=te(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),s=qe(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=l(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1),j=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ne.source,"g");function yi(t){return function(){return t}}function xi(t){return function(e){return t(e)+""}}var wi=function(t,e){var n=ne.lastIndex=re.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=ne.exec(t))&&(i=re.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:j(r,i)})),n=re.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?xi(u[0].x):yi(e):(e=u.length,function(s){for(var c=0,f;c<e;++c)l[(f=u[c]).i]=f.x(s);return l.join("")})},ht=0,mt=0,yt=0,Ue=1e3,Vt,xt,Rt=0,ot=0,Ot=0,wt=typeof performance=="object"&&performance.now?performance:Date,We=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ie(){return ot||(We(Ci),ot=wt.now()+Ot)}function Ci(){ot=0}function It(){this._call=this._time=this._next=null}It.prototype=Ge.prototype={constructor:It,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ie():+n)+(e==null?0:+e),!this._next&&xt!==this&&(xt?xt._next=this:Vt=this,xt=this),this._call=t,this._time=n,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};function Ge(t,e,n){var r=new It;return r.restart(t,e,n),r}function bi(){ie(),++ht;for(var t=Vt,e;t;)(e=ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ht}function je(){ot=(Rt=wt.now())+Ot,ht=mt=0;try{bi()}finally{ht=0,Mi(),ot=0}}function ki(){var t=wt.now(),e=t-Rt;e>Ue&&(Ot-=e,Rt=t)}function Mi(){for(var t,e=Vt,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Vt=n);xt=t,oe(r)}function oe(t){if(!ht){mt&&(mt=clearTimeout(mt));var e=t-ot;e>24?(t<1/0&&(mt=setTimeout(je,t-wt.now()-Ot)),yt&&(yt=clearInterval(yt))):(yt||(Rt=wt.now(),yt=setInterval(ki,Ue)),ht=1,We(je))}}var Ke=function(t,e,n){var r=new It;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r},Si=St("start","end","cancel","interrupt"),Ei=[],Qe=0,Je=1,ae=2,zt=3,tn=4,se=5,Bt=6,Pt=function(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ti(t,n,{name:e,index:r,group:i,on:Si,tween:Ei,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qe})};function le(t,e){var n=z(t,e);if(n.state>Qe)throw new Error("too late; already scheduled");return n}function q(t,e){var n=z(t,e);if(n.state>zt)throw new Error("too late; already running");return n}function z(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ti(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ge(o,0,n.time);function o(s){n.state=Je,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,f,h,d;if(n.state!==Je)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===zt)return Ke(a);d.state===tn?(d.state=Bt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Bt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Ke(function(){n.state===zt&&(n.state=tn,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=ae,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ae){for(n.state=zt,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function l(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=se,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===se&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Bt,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}var Ai=function(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>ae&&r.state<se,r.state=Bt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}},Li=function(t){return this.each(function(){Ai(this,t)})},en=180/Math.PI,ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},nn=function(t,e,n,r,i,o){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*en,skewX:Math.atan(u)*en,scaleX:a,scaleY:l}},Ft;function Ni(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ue:nn(e.a,e.b,e.c,e.d,e.e,e.f)}function Hi(t){return t==null||(Ft||(Ft=document.createElementNS("http://www.w3.org/2000/svg","g")),Ft.setAttribute("transform",t),!(t=Ft.transform.baseVal.consolidate()))?ue:(t=t.matrix,nn(t.a,t.b,t.c,t.d,t.e,t.f))}function rn(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,f,h,d,g){if(s!==f||c!==h){var y=d.push("translate(",null,e,null,n);g.push({i:y-4,x:j(s,f)},{i:y-2,x:j(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function a(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:j(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function l(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:j(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(s,c,f,h,d,g){if(s!==f||c!==h){var y=d.push(i(d)+"scale(",null,",",null,")");g.push({i:y-4,x:j(s,f)},{i:y-2,x:j(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=t(s),c=t(c),o(s.translateX,s.translateY,c.translateX,c.translateY,f,h),a(s.rotate,c.rotate,f,h),l(s.skewX,c.skewX,f,h),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(d){for(var g=-1,y=h.length,C;++g<y;)f[(C=h[g]).i]=C.x(d);return f.join("")}}}var Di=rn(Ni,"px, ","px)","deg)"),$i=rn(Hi,", ",")",")");function Vi(t,e){var n,r;return function(){var i=q(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ri(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=q(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},u=0,s=i.length;u<s;++u)if(i[u].name===e){i[u]=l;break}u===s&&i.push(l)}o.tween=i}}var Oi=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=z(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Vi:Ri)(n,t,e))};function ce(t,e,n){var r=t._id;return t.each(function(){var i=q(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return z(i,r).value[e]}}var on=function(t,e){var n;return(typeof e=="number"?j:e instanceof gt?Ye:(n=gt(e))?(e=n,Ye):wi)(t,e)};function Ii(t){return function(){this.removeAttribute(t)}}function zi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bi(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Pi(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Fi(t,e,n){var r,i,o;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=l+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l)))}}function Zi(t,e,n){var r,i,o;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=l+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l)))}}var Xi=function(t,e){var n=At(t),r=n==="transform"?$i:on;return this.attrTween(t,typeof e=="function"?(n.local?Zi:Fi)(n,r,ce(this,"attr."+t,e)):e==null?(n.local?zi:Ii)(n):(n.local?Pi:Bi)(n,r,e))};function qi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ui(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Yi(t,o)),n}return i._value=e,i}function Wi(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&qi(t,o)),n}return i._value=e,i}var Gi=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=At(t);return this.tween(n,(r.local?Ui:Wi)(r,e))};function ji(t,e){return function(){le(this,t).delay=+e.apply(this,arguments)}}function Ki(t,e){return e=+e,function(){le(this,t).delay=e}}var Qi=function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ji:Ki)(e,t)):z(this.node(),e).delay};function Ji(t,e){return function(){q(this,t).duration=+e.apply(this,arguments)}}function to(t,e){return e=+e,function(){q(this,t).duration=e}}var eo=function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ji:to)(e,t)):z(this.node(),e).duration};function no(t,e){if(typeof e!="function")throw new Error;return function(){q(this,t).ease=e}}var ro=function(t){var e=this._id;return arguments.length?this.each(no(e,t)):z(this.node(),e).ease};function io(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;q(this,t).ease=n}}var oo=function(t){if(typeof t!="function")throw new Error;return this.each(io(this._id,t))},ao=function(t){typeof t!="function"&&(t=we(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&t.call(u,u.__data__,s,o)&&l.push(u);return new W(r,this._parents,this._name,this._id)},so=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var u=e[l],s=n[l],c=u.length,f=a[l]=new Array(c),h,d=0;d<c;++d)(h=u[d]||s[d])&&(f[d]=h);for(;l<r;++l)a[l]=e[l];return new W(a,this._parents,this._name,this._id)};function lo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uo(t,e,n){var r,i,o=lo(e)?le:q;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}var co=function(t,e){var n=this._id;return arguments.length<2?z(this.node(),n).on.on(t):this.each(uo(n,t,e))};function fo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var ho=function(){return this.on("end.remove",fo(this._id))},po=function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,s=o[a]=new Array(u),c,f,h=0;h<u;++h)(c=l[h])&&(f=t.call(c,c.__data__,h,l))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,Pt(s[h],e,n,h,s,z(c,n)));return new W(o,this._parents,e,n)},_o=function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xe(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var u=r[l],s=u.length,c,f=0;f<s;++f)if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,g=z(c,n),y=0,C=h.length;y<C;++y)(d=h[y])&&Pt(d,e,n,y,h,g);o.push(h),a.push(c)}return new W(o,a,e,n)},vo=Lt.prototype.constructor,go=function(){return new vo(this._groups,this._parents)};function mo(t,e){var n,r,i;return function(){var o=ct(this,t),a=(this.style.removeProperty(t),ct(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function an(t){return function(){this.style.removeProperty(t)}}function yo(t,e,n){var r,i=n+"",o;return function(){var a=ct(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function xo(t,e,n){var r,i,o;return function(){var a=ct(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),ct(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l))}}function wo(t,e){var n,r,i,o="style."+e,a="end."+o,l;return function(){var u=q(this,t),s=u.on,c=u.value[o]==null?l||(l=an(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),u.on=r}}var Co=function(t,e,n){var r=(t+="")=="transform"?Di:on;return e==null?this.styleTween(t,mo(t,r)).on("end.style."+t,an(t)):typeof e=="function"?this.styleTween(t,xo(t,r,ce(this,"style."+t,e))).each(wo(this._id,t)):this.styleTween(t,yo(t,r,e),n).on("end.style."+t,null)};function bo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ko(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&bo(t,a,n)),r}return o._value=e,o}var Mo=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ko(t,e,n??""))};function So(t){return function(){this.textContent=t}}function Eo(t){return function(){var e=t(this);this.textContent=e??""}}var To=function(t){return this.tween("text",typeof t=="function"?Eo(ce(this,"text",t)):So(t==null?"":t+""))};function Ao(t){return function(e){this.textContent=t.call(this,e)}}function Lo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ao(i)),e}return r._value=t,r}var No=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Lo(t))},Ho=function(){for(var t=this._name,e=this._id,n=sn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,u,s=0;s<l;++s)if(u=a[s]){var c=z(u,e);Pt(u,t,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new W(r,this._parents,t,n)},Do=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var s=q(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),s.on=e}),i===0&&o()})},$o=0;function W(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sn(){return++$o}var G=Lt.prototype;W.prototype={constructor:W,select:po,selectAll:_o,selectChild:G.selectChild,selectChildren:G.selectChildren,filter:ao,merge:so,selection:go,transition:Ho,call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:co,attr:Xi,attrTween:Gi,style:Co,styleTween:Mo,text:To,textTween:No,remove:ho,tween:Oi,delay:Qi,duration:eo,ease:ro,easeVarying:oo,end:Do,[Symbol.iterator]:G[Symbol.iterator]};function Zt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Vo={time:null,delay:0,duration:250,ease:Zt};function Ro(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}var Oo=function(t){var e,n;t instanceof W?(e=t._id,t=t._name):(e=sn(),(n=Vo).time=ie(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,u,s=0;s<l;++s)(u=a[s])&&Pt(u,t,e,s,a,n||Ro(u,e));return new W(r,this._parents,t,e)};Lt.prototype.interrupt=Li,Lt.prototype.transition=Oo;function Io(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}var zo=function(){return this.eachAfter(Io)},Bo=function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},Po=function(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this},Fo=function(t,e){for(var n=this,r=[n],i=[],o,a,l,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,l=o.length;a<l;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++u,this);return this},Zo=function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},Xo=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},qo=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Yo=function(t){for(var e=this,n=Uo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r};function Uo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}var Wo=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Go=function(){return Array.from(this)},jo=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Ko=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},Qo=function*(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)};function fe(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=ea)):e===void 0&&(e=ta);for(var n=new Ct(t),r,i=[n],o,a,l,u;r=i.pop();)if((a=e(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,l=u-1;l>=0;--l)i.push(o=a[l]=new Ct(a[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(ra)}function Jo(){return fe(this).eachBefore(na)}function ta(t){return t.children}function ea(t){return Array.isArray(t)?t[1]:null}function na(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function ra(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ct(t){this.data=t,this.depth=this.height=0,this.parent=null}Ct.prototype=fe.prototype={constructor:Ct,count:zo,each:Bo,eachAfter:Fo,eachBefore:Po,find:Zo,sum:Xo,sort:qo,path:Yo,ancestors:Wo,descendants:Go,leaves:jo,links:Ko,copy:Jo,[Symbol.iterator]:Qo};function ia(t,e){return t.parent===e.parent?1:2}function he(t){var e=t.children;return e?e[0]:t.t}function de(t){var e=t.children;return e?e[e.length-1]:t.t}function oa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function aa(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function sa(t,e,n){return t.a.parent===e.parent?t.a:n}function Xt(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Xt.prototype=Object.create(Ct.prototype);function la(t){for(var e=new Xt(t,0),n,r=[e],i,o,a,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),a=l-1;a>=0;--a)r.push(i=n.children[a]=new Xt(o[a],a)),i.parent=n;return(e.parent=new Xt(null,0)).children=[e],e}var ua=function(){var t=ia,e=1,n=1,r=null;function i(s){var c=la(s);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)s.eachBefore(u);else{var f=s,h=s,d=s;s.eachBefore(function(b){b.x<f.x&&(f=b),b.x>h.x&&(h=b),b.depth>d.depth&&(d=b)});var g=f===h?1:t(f,h)/2,y=g-f.x,C=e/(h.x+g+y),M=n/(d.depth||1);s.eachBefore(function(b){b.x=(b.x+y)*C,b.y=b.depth*M})}return s}function o(s){var c=s.children,f=s.parent.children,h=s.i?f[s.i-1]:null;if(c){aa(s);var d=(c[0].z+c[c.length-1].z)/2;h?(s.z=h.z+t(s._,h._),s.m=s.z-d):s.z=d}else h&&(s.z=h.z+t(s._,h._));s.parent.A=l(s,h,s.parent.A||f[0])}function a(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function l(s,c,f){if(c){for(var h=s,d=s,g=c,y=h.parent.children[0],C=h.m,M=d.m,b=g.m,L=y.m,N;g=de(g),h=he(h),g&&h;)y=he(y),d=de(d),d.a=s,N=g.z+b-h.z-C+t(g._,h._),N>0&&(oa(sa(g,s,f),s,N),C+=N,M+=N),b+=g.m,C+=h.m,L+=y.m,M+=d.m;g&&!de(d)&&(d.t=g,d.m+=b-M),h&&!he(y)&&(y.t=h,y.m+=C-L,f=s)}return f}function u(s){s.x*=e,s.y=s.depth*n}return i.separation=function(s){return arguments.length?(t=s,i):t},i.size=function(s){return arguments.length?(r=!1,e=+s[0],n=+s[1],i):r?null:[e,n]},i.nodeSize=function(s){return arguments.length?(r=!0,e=+s[0],n=+s[1],i):r?[e,n]:null},i};const pe=Math.PI,_e=2*pe,at=1e-6,ca=_e-at;function ve(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ln(){return new ve}ve.prototype=ln.prototype={constructor:ve,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,l=n-t,u=r-e,s=o-t,c=a-e,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>at)if(!(Math.abs(c*l-u*s)>at)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,d=r-a,g=l*l+u*u,y=h*h+d*d,C=Math.sqrt(g),M=Math.sqrt(f),b=i*Math.tan((pe-Math.acos((g+f-y)/(2*C*M)))/2),L=b/M,N=b/C;Math.abs(L-1)>at&&(this._+="L"+(t+L*s)+","+(e+L*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=t+N*l)+","+(this._y1=e+N*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),l=n*Math.sin(r),u=t+a,s=e+l,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+s:(Math.abs(this._x1-u)>at||Math.abs(this._y1-s)>at)&&(this._+="L"+u+","+s),n&&(f<0&&(f=f%_e+_e),f>ca?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=s):f>at&&(this._+="A"+n+","+n+",0,"+ +(f>=pe)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var un=ln,fa=Array.prototype.slice,cn=function(t){return function(){return t}};class fn{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ha(t){return new fn(t,!0)}function da(t){return new fn(t,!1)}function pa(t){return t[0]}function _a(t){return t[1]}function va(t){return t.source}function ga(t){return t.target}function hn(t){let e=va,n=ga,r=pa,i=_a,o=null,a=null;function l(){let u;const s=fa.call(arguments),c=e.apply(this,s),f=n.apply(this,s);if(o==null&&(a=t(u=un())),a.lineStart(),s[0]=c,a.point(+r.apply(this,s),+i.apply(this,s)),s[0]=f,a.point(+r.apply(this,s),+i.apply(this,s)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:cn(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:cn(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),l):o},l}function ma(){return hn(ha)}function ya(){return hn(da)}var xa=1e-12;function dn(t){return((t=Math.exp(t))+1/t)/2}function wa(t){return((t=Math.exp(t))-1/t)/2}function Ca(t){return((t=Math.exp(2*t))-1)/(t+1)}(function t(e,n,r){function i(o,a){var l=o[0],u=o[1],s=o[2],c=a[0],f=a[1],h=a[2],d=c-l,g=f-u,y=d*d+g*g,C,M;if(y<xa)M=Math.log(h/s)/e,C=function(kt){return[l+kt*d,u+kt*g,s*Math.exp(e*kt*M)]};else{var b=Math.sqrt(y),L=(h*h-s*s+r*y)/(2*s*n*b),N=(h*h-s*s-r*y)/(2*h*n*b),Q=Math.log(Math.sqrt(L*L+1)-L),Da=Math.log(Math.sqrt(N*N+1)-N);M=(Da-Q)/e,C=function(kt){var yn=kt*M,xn=dn(Q),wn=s/(n*b)*(xn*Ca(e*yn+Q)-wa(Q));return[l+wn*d,u+wn*g,s*xn/dn(e*yn+Q)]}}return C.duration=M*1e3*e/Math.SQRT2,C}return i.rho=function(o){var a=Math.max(.001,+o),l=a*a,u=l*l;return t(a,l,u)},i})(Math.SQRT2,2,4);function bt(t,e,n){this.k=t,this.x=e,this.y=n}bt.prototype={constructor:bt,scale:function(t){return t===1?this:new bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},bt.prototype;var pn=100,_n=100,vn=200,gn=200,ge=800,me=/translate\((-?\d+)px, ?(-?\d+)px\)/i,mn=/scale\((\S*)\)/i,K;(function(t){t.VERTICAL="vertical",t.HORIZONTAL="horizontal"})(K||(K={}));var dt;(function(t){t.CURVE="curve",t.STRAIGHT="straight"})(dt||(dt={}));function ba(){for(var t=[],e="0123456789abcdef",n=0;n<36;n++)t[n]=e.substr(Math.floor(Math.random()*16),1);return t[14]="4",t[19]=e.substr(t[19]&3|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}function qt(t){var e=t.x,n=t.y;return{x:n,y:e}}function Yt(t){var e={_key:ba()};for(var n in t)t[n]===null?e[n]=null:Array.isArray(t[n])?e[n]=t[n].map(function(r){return Yt(r)}):typeof t[n]=="object"?e[n]=Yt(t[n]):e[n]=t[n];return e}var ka=function(){function t(e){this.treeConfig={nodeWidth:pn,nodeHeight:_n,levelHeight:vn},this.linkStyle=dt.CURVE,this.direction=K.VERTICAL,this.collapseEnabled=!0,this.currentScale=1,e.treeConfig&&(this.treeConfig=e.treeConfig),this.collapseEnabled=e.collapseEnabled,this.svgElement=e.svgElement,this.domElement=e.domElement,this.treeContainer=e.treeContainer,this.dataset=this.updatedInternalData(e.dataset),e.direction&&(this.direction=e.direction),e.linkStyle&&(this.linkStyle=e.linkStyle)}return t.prototype.init=function(){this.draw(),this.enableDrag(),this.initTransform()},t.prototype.getNodeDataList=function(){return this.nodeDataList},t.prototype.getInitialTransformStyle=function(){return{transform:"scale(1) translate(".concat(this.initTransformX,"px, ").concat(this.initTransformY,"px)"),transformOrigin:"center"}},t.prototype.zoomIn=function(){var e=this.domElement.style.transform,n=1*1.2,r=e.match(mn);if(r&&r.length>0){var i=parseFloat(r[1]);n*=i}this.setScale(n)},t.prototype.zoomOut=function(){var e=this.domElement.style.transform,n=1/1.2,r=e.match(mn);if(r&&r.length>0){var i=parseFloat(r[1]);n=i/1.2}this.setScale(n)},t.prototype.restoreScale=function(){this.setScale(1)},t.prototype.setScale=function(e){if(typeof e=="number"){var n=this.getTranslate(),r="translate(".concat(n[0],"px, ").concat(n[1],"px)");this.svgElement.style.transform="scale(".concat(e,") ")+r,this.domElement.style.transform="scale(".concat(e,") ")+r,this.currentScale=e}},t.prototype.getTranslate=function(){var e=this.svgElement.style.transform,n=e.match(me);if(n===null)return[null,null];var r=parseInt(n[1]),i=parseInt(n[2]);return[r,i]},t.prototype.isVertical=function(){return this.direction===K.VERTICAL},t.prototype.generateLinkPath=function(e){var n=this;if(this.linkStyle===dt.CURVE)return this.generateCurceLinkPath(n,e);if(this.linkStyle===dt.STRAIGHT)return this.generateStraightLinkPath(e)},t.prototype.generateCurceLinkPath=function(e,n){var r=this.isVertical()?ya():ma();return r.x(function(i){return i.x}).y(function(i){return i.y}).source(function(i){var o={x:i.source.x,y:i.source.y};return e.direction===K.VERTICAL?o:qt(o)}).target(function(i){var o={x:i.target.x,y:i.target.y};return e.direction===K.VERTICAL?o:qt(o)}),r(n)},t.prototype.generateStraightLinkPath=function(e){var n=un(),r={x:e.source.x,y:e.source.y},i={x:e.target.x,y:e.target.y};this.isVertical()||(r=qt(r),i=qt(i));var o=i.x-r.x,a=i.y-r.y,l=this.isVertical()?{x:r.x,y:r.y+a/2}:{x:r.x+o/2,y:r.y},u=this.isVertical()?{x:i.x,y:r.y+a/2}:{x:r.x+o/2,y:i.y};return n.moveTo(r.x,r.y),n.lineTo(l.x,l.y),n.lineTo(u.x,u.y),n.lineTo(i.x,i.y),n.toString()},t.prototype.updateDataList=function(){var e=this.buildTree(),n=e[0],r=e[1];n.splice(0,1),r=r.filter(function(i){return i.source.data.name!=="__invisible_root"}),this.linkDataList=r,this.nodeDataList=n},t.prototype.draw=function(){this.updateDataList();var e=this.dataset.identifier,n=this.dataset.links;if(n&&e)for(var r=function(c){var f=void 0,h=void 0;if(e==="value"?(f=i.nodeDataList.find(function(M){return M[e]==c.parent}),h=i.nodeDataList.filter(function(M){return M[e]==c.child})):(f=i.nodeDataList.find(function(M){return M.data[e]==c.parent}),h=i.nodeDataList.filter(function(M){return M.data[e]==c.child})),f&&h)for(var d=0,g=h;d<g.length;d++){var y=g[d],C={source:f,target:y};i.linkDataList.push(C)}},i=this,o=0,a=n;o<a.length;o++){var l=a[o];r(l)}this.svgSelection=ri(this.svgElement);var u=this,s=this.svgSelection.selectAll(".link").data(this.linkDataList,function(c){return"".concat(c.source.data._key,"-").concat(c.target.data._key)});s.enter().append("path").style("opacity",0).transition().duration(ge).ease(Zt).style("opacity",1).attr("class","link").attr("d",function(c){return u.generateLinkPath(c)}),s.transition().duration(ge).ease(Zt).attr("d",function(c){return u.generateLinkPath(c)}),s.exit().transition().duration(ge/2).ease(Zt).style("opacity",0).remove()},t.prototype.updatedInternalData=function(e){var n={name:"__invisible_root",children:[]};if(!e)return n;if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)n.children.push(Yt(e[r]));else n.children.push(Yt(e));return n},t.prototype.buildTree=function(){var e=ua().nodeSize([this.treeConfig.nodeWidth,this.treeConfig.levelHeight]),n=e(fe(this.dataset));return[n.descendants(),n.links()]},t.prototype.enableDrag=function(){var e=this,n=0,r=0,i=!1,o="";this.treeContainer.onmousedown=function(a){o=e.svgElement.style.transform,n=a.clientX,r=a.clientY,i=!0},this.treeContainer.onmousemove=function(a){if(i){var l=o,u=0,s=0;if(l){var c=l.match(me);if(c!==null&&c.length!==0){var f=c.slice(1),h=f[0],d=f[1];u=parseInt(h),s=parseInt(d)}}var g=Math.floor((a.clientX-n)/e.currentScale)+u,y=Math.floor((a.clientY-r)/e.currentScale)+s,C="translate(".concat(g,"px, ").concat(y,"px)");l&&(C=l.replace(me,C)),e.svgElement.style.transform=C,e.domElement.style.transform=C}},this.treeContainer.onmouseup=function(){n=0,r=0,i=!1}},t.prototype.initTransform=function(){var e=this.domElement.offsetWidth,n=this.domElement.offsetHeight;this.isVertical()?(this.initTransformX=Math.floor(e/2),this.initTransformY=Math.floor(this.treeConfig.nodeHeight-gn)):(this.initTransformX=Math.floor(this.treeConfig.nodeWidth-gn),this.initTransformY=Math.floor(n/2))},t.prototype.onClickNode=function(e){if(this.collapseEnabled){var n=this.nodeDataList[e];n.data.children?(n.data._children=n.data.children,n.data.children=null,n.data._collapsed=!0):(n.data.children=n.data._children,n.data._children=null,n.data._collapsed=!1),this.draw()}},t.prototype.updateDataset=function(e){this.dataset=this.updatedInternalData(e),this.draw()},t.prototype.destroy=function(){this.svgElement=null,this.domElement=null,this.treeContainer=null},t}(),Ma=ka,Sa=Ma,Ea=function(e){return typeof e=="number"?"".concat(e,"px"):e.indexOf("px")!==-1?e:"".concat(e,"px")},Ta={name:"vue-tree",props:{config:{type:Object,default:function(){return{nodeWidth:pn,nodeHeight:_n,levelHeight:vn}}},linkStyle:{type:String,default:dt.CURVE},direction:{type:String,default:K.VERTICAL},collapseEnabled:{type:Boolean,default:!0},dataset:{type:[Object,Array],required:!0}},data:function(){return{formatDimension:Ea,Direction:K,treeChartCore:null,nodeDataList:[],initialTransformStyle:{}}},mounted:function(){this.init()},beforeUnmount:function(){this.treeChartCore.destroy()},methods:{init:function(){this.treeChartCore=new Sa({svgElement:this.$refs.svg,domElement:this.$refs.domContainer,treeContainer:this.$refs.container,dataset:this.dataset,direction:this.direction,treeConfig:this.config,collapseEnabled:this.collapseEnabled,linkStyle:this.linkStyle}),this.treeChartCore.init(),this.nodeDataList=this.treeChartCore.getNodeDataList(),this.initialTransformStyle=this.treeChartCore.getInitialTransformStyle()},zoomIn:function(){this.treeChartCore.zoomIn()},zoomOut:function(){this.treeChartCore.zoomOut()},restoreScale:function(){this.treeChartCore.setScale(1)},onClickNode:function(e){this.treeChartCore.onClickNode(e),this.nodeDataList=this.treeChartCore.getNodeDataList()}},watch:{dataset:{deep:!0,handler:function(){this.treeChartCore.updateDataset(this.dataset),this.nodeDataList=this.treeChartCore.getNodeDataList()}}}};_("2c81"),_("0c49");var Aa=_("d959"),La=_.n(Aa),Na=La()(Ta,[["render",lt],["__scopeId","data-v-779fbdcf"]]),Ha=Na;k.default=Ha},fddc:function(T,k,_){}})})})(Sn);var Ka=Sn.exports;const Qa=Ua(Ka),Ja={},ts={class:"flex items-center justify-center w-9 h-9 !rounded-xl !border"};function es(P,tt){return Gt(),jt("button",ts,[za(P.$slots,"default",{},void 0,!0)])}const J=Mn(Ja,[["render",es],["__scopeId","data-v-04c189c6"]]),Y=P=>(Fa("data-v-0f57d4d2"),P=P(),Za(),P),ns=Y(()=>m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M6 1H5.8C4.11984 1 3.27976 1 2.63803 1.32698C2.07354 1.6146 1.6146 2.07354 1.32698 2.63803C1 3.27976 1 4.11984 1 5.8V6M6 19H5.8C4.11984 19 3.27976 19 2.63803 18.673C2.07354 18.3854 1.6146 17.9265 1.32698 17.362C1 16.7202 1 15.8802 1 14.2V14M19 6V5.8C19 4.11984 19 3.27976 18.673 2.63803C18.3854 2.07354 17.9265 1.6146 17.362 1.32698C16.7202 1 15.8802 1 14.2 1H14M19 14V14.2C19 15.8802 19 16.7202 18.673 17.362C18.3854 17.9265 17.9265 18.3854 17.362 18.673C16.7202 19 15.8802 19 14.2 19H14",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),rs=Y(()=>m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M19 19L14.65 14.65M9 6V12M6 9H12M17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9Z",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),is=Y(()=>m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M19 19L14.65 14.65M6 9H12M17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9Z",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),os=Y(()=>m("svg",{class:"fill-black",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M14.4697 10.5303C14.7626 10.8232 15.2374 10.8232 15.5303 10.5303C15.8232 10.2374 15.8232 9.76256 15.5303 9.46967L14.4697 10.5303ZM12 7L12.5303 6.46967C12.2374 6.17678 11.7626 6.17678 11.4697 6.46967L12 7ZM8.46967 9.46967C8.17678 9.76256 8.17678 10.2374 8.46967 10.5303C8.76256 10.8232 9.23744 10.8232 9.53033 10.5303L8.46967 9.46967ZM9.53033 13.4697C9.23744 13.1768 8.76256 13.1768 8.46967 13.4697C8.17678 13.7626 8.17678 14.2374 8.46967 14.5303L9.53033 13.4697ZM12 17L11.4697 17.5303C11.7626 17.8232 12.2374 17.8232 12.5303 17.5303L12 17ZM15.5303 14.5303C15.8232 14.2374 15.8232 13.7626 15.5303 13.4697C15.2374 13.1768 14.7626 13.1768 14.4697 13.4697L15.5303 14.5303ZM15.5303 9.46967L12.5303 6.46967L11.4697 7.53033L14.4697 10.5303L15.5303 9.46967ZM11.4697 6.46967L8.46967 9.46967L9.53033 10.5303L12.5303 7.53033L11.4697 6.46967ZM8.46967 14.5303L11.4697 17.5303L12.5303 16.4697L9.53033 13.4697L8.46967 14.5303ZM12.5303 17.5303L15.5303 14.5303L14.4697 13.4697L11.4697 16.4697L12.5303 17.5303ZM8 4.75H16V3.25H8V4.75ZM19.25 8V16H20.75V8H19.25ZM16 19.25H8V20.75H16V19.25ZM4.75 16V8H3.25V16H4.75ZM8 19.25C6.20507 19.25 4.75 17.7949 4.75 16H3.25C3.25 18.6234 5.37665 20.75 8 20.75V19.25ZM19.25 16C19.25 17.7949 17.7949 19.25 16 19.25V20.75C18.6234 20.75 20.75 18.6234 20.75 16H19.25ZM16 4.75C17.7949 4.75 19.25 6.20507 19.25 8H20.75C20.75 5.37665 18.6234 3.25 16 3.25V4.75ZM8 3.25C5.37665 3.25 3.25 5.37665 3.25 8H4.75C4.75 6.20507 6.20507 4.75 8 4.75V3.25Z"})],-1)),as=Y(()=>m("img",{class:"z-[9] w-full h-full absolute top-0 right-0 bottom-0 object-cover block",src:Ga,alt:"map-bg"},null,-1)),ss=["onDblclick"],ls={class:"text-center break-words",style:{"font-weight":"bold"}},us={class:"text-center break-words",style:{"font-weight":"bold"}},cs={class:"text-sm text-center px-4 py-2 rounded-3xl text-mediumGray border bg-white mt-4"},fs={class:"absolute max-md:hidden flex select-none gap-x-2 top-10 right-10 z-10"},hs=Y(()=>m("svg",{class:"stroke-white",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M9.99999 20.9585C6.88841 20.8286 4.41431 20.4143 4.00001 20C3.5857 19.5857 3.17139 17.1116 3.04155 14M20.9585 14C20.8286 17.1116 20.4143 19.5857 20 20C19.5857 20.4143 17.1116 20.8286 14 20.9585M14 3.04155C17.1116 3.17139 19.5857 3.5857 20 4.00001C20.4143 4.41431 20.8286 6.88842 20.9585 10M10 3.04155C6.88842 3.17139 4.41431 3.5857 4.00001 4.00001C3.5857 4.41431 3.17139 6.88842 3.04155 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ds=Y(()=>m("svg",{class:"fill-white",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10C15 11.381 14.4415 12.6296 13.5355 13.5355C12.6296 14.4415 11.381 15 10 15C7.23858 15 5 12.7614 5 10ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C11.5719 17 13.0239 16.481 14.1921 15.6063L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L15.6063 14.1921C16.481 13.0239 17 11.5719 17 10C17 6.13401 13.866 3 10 3ZM11 8C11 7.44772 10.5523 7 10 7C9.44772 7 9 7.44772 9 8V9H8C7.44772 9 7 9.44772 7 10C7 10.5523 7.44772 11 8 11H9V12C9 12.5523 9.44772 13 10 13C10.5523 13 11 12.5523 11 12V11H12C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9H11V8Z"})],-1)),ps=Y(()=>m("svg",{class:"fill-white",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10C15 11.381 14.4415 12.6296 13.5355 13.5355C12.6296 14.4415 11.381 15 10 15C7.23858 15 5 12.7614 5 10ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C11.5719 17 13.0239 16.481 14.1921 15.6063L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L15.6063 14.1921C16.481 13.0239 17 11.5719 17 10C17 6.13401 13.866 3 10 3ZM8 9C7.44772 9 7 9.44772 7 10C7 10.5523 7.44772 11 8 11H12C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9H8Z"})],-1)),_s=Y(()=>m("svg",{class:"fill-white",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M14.4697 10.5303C14.7626 10.8232 15.2374 10.8232 15.5303 10.5303C15.8232 10.2374 15.8232 9.76256 15.5303 9.46967L14.4697 10.5303ZM12 7L12.5303 6.46967C12.2374 6.17678 11.7626 6.17678 11.4697 6.46967L12 7ZM8.46967 9.46967C8.17678 9.76256 8.17678 10.2374 8.46967 10.5303C8.76256 10.8232 9.23744 10.8232 9.53033 10.5303L8.46967 9.46967ZM9.53033 13.4697C9.23744 13.1768 8.76256 13.1768 8.46967 13.4697C8.17678 13.7626 8.17678 14.2374 8.46967 14.5303L9.53033 13.4697ZM12 17L11.4697 17.5303C11.7626 17.8232 12.2374 17.8232 12.5303 17.5303L12 17ZM15.5303 14.5303C15.8232 14.2374 15.8232 13.7626 15.5303 13.4697C15.2374 13.1768 14.7626 13.1768 14.4697 13.4697L15.5303 14.5303ZM15.5303 9.46967L12.5303 6.46967L11.4697 7.53033L14.4697 10.5303L15.5303 9.46967ZM11.4697 6.46967L8.46967 9.46967L9.53033 10.5303L12.5303 7.53033L11.4697 6.46967ZM8.46967 14.5303L11.4697 17.5303L12.5303 16.4697L9.53033 13.4697L8.46967 14.5303ZM12.5303 17.5303L15.5303 14.5303L14.4697 13.4697L11.4697 16.4697L12.5303 17.5303ZM8 4.75H16V3.25H8V4.75ZM19.25 8V16H20.75V8H19.25ZM16 19.25H8V20.75H16V19.25ZM4.75 16V8H3.25V16H4.75ZM8 19.25C6.20507 19.25 4.75 17.7949 4.75 16H3.25C3.25 18.6234 5.37665 20.75 8 20.75V19.25ZM19.25 16C19.25 17.7949 17.7949 19.25 16 19.25V20.75C18.6234 20.75 20.75 18.6234 20.75 16H19.25ZM16 4.75C17.7949 4.75 19.25 6.20507 19.25 8H20.75C20.75 5.37665 18.6234 3.25 16 3.25V4.75ZM8 3.25C5.37665 3.25 3.25 5.37665 3.25 8H4.75C4.75 6.20507 6.20507 4.75 8 4.75V3.25Z"})],-1)),vs={key:0,class:"relative"},gs=Y(()=>m("svg",{class:"dark:stroke-white stroke-black",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M10 7L15 12L10 17","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ms=[gs],ys={class:"mx-auto mt-4 gap-y-2 px-2 flex flex-col justify-center items-center"},xs=["src"],ws={class:"dark:text-white text-black text-center"},Cs={class:"text-xl break-words"},bs={class:"text-sm"},ks={class:"break-words text-center"},Ms={class:"px-2 my-6 flex flex-wrap justify-center gap-2"},Ss={__name:"TreeContent",props:{treeConfig:{},treeFullScreen:{type:Boolean,default:!1},treeShowUserInfo:{type:Boolean,default:!1}},setup(P){const tt=kn(),A=bn();$a();const T=Va(),k=Cn(),_=Cn();return Ba(()=>{A.loadTreeList()}),(v,p)=>{var E,w,H,st,lt;return Gt(),jt("div",null,[m("div",{onScroll:p[10]||(p[10]=Wt(()=>{},["prevent"])),onContextmenu:p[11]||(p[11]=Wt(()=>{},["prevent"])),onTouchmove:p[12]||(p[12]=Wt(()=>{},["prevent"])),onWheel:p[13]||(p[13]=Wt(x=>{x.deltaY<0?this.$refs.scaleTree.zoomIn():this.$refs.scaleTree.zoomOut()},["prevent"])),class:"relative"},[m("div",{class:Mt(["relative bg-white border w-full h-[80vh] mx-auto rounded-2xl overflow-hidden dark:border-gray-400 shadow dark:shadow-gray-400 transition-all duration-300",{"!fixed z-[1000] left-0 top-0 !h-screen !w-screen flex !bg-opacity-60 !rounded-none !border-0 !bg-black justify-center items-center":S(A).treeFullScreen===!0}])},[m("div",{class:Mt(["fixed top-56 w-fit h-fit flex items-center gap-4 bg-white rounded-3xl border p-5 max-md:flex max-md:justify-center gap-x-2 right-10 z-[1001]",{"!top-8 !right-8":S(A).treeFullScreen===!0}])},[R(J,{onClick:p[0]||(p[0]=x=>S(A).treeFullScreen=!S(A).treeFullScreen)},{default:O(()=>[ns]),_:1}),R(J,{onClick:p[1]||(p[1]=x=>this.$refs.scaleTree.zoomIn())},{default:O(()=>[rs]),_:1}),R(J,{onClick:p[2]||(p[2]=x=>this.$refs.scaleTree.zoomOut())},{default:O(()=>[is]),_:1}),R(J,{onClick:p[3]||(p[3]=x=>this.$refs.scaleTree.restoreScale())},{default:O(()=>[os]),_:1})],2),as,R(S(Qa),{ref:"scaleTree",class:"mx-auto select-none relative rounded-2xl w-full h-full z-[1000]",dataset:k.value=[...S(A).get_list],config:P.treeConfig={nodeWidth:200,nodeHeight:150,levelHeight:200,nodeSpacing:400}},{node:O(({node:x,collapsed:F})=>{var U,et,nt;return[m("div",{onDblclick:ut=>_.value={id:x.id,first_name:x.first_name,last_name:x.last_name,photo_url:x.photo_url,position:x.position,department_id:x.department_id,department:x.department,role:x.role},class:Mt(["py-5 px-6 bg-porcelain transition-all rounded-3xl border",{"shadow-md dark:shadow-gray-400 ":x.id===((U=S(_))==null?void 0:U.id)}])},[m("p",ls,B(x.name),1),m("p",us,B(((et=x.first_name)==null?void 0:et.length)>10&&((nt=x.last_name)==null?void 0:nt.length)>10?x.first_name+" "+x.last_name.slice(0,9)+"...":x.first_name+" "+x.last_name),1),m("p",cs,B(x.position),1)],42,ss)]}),_:1},8,["dataset","config"]),m("div",fs,[R(J,{onClick:p[4]||(p[4]=x=>S(A).treeFullScreen=!S(A).treeFullScreen)},{default:O(()=>[hs]),_:1}),R(J,{onClick:p[5]||(p[5]=x=>this.$refs.scaleTree.zoomIn())},{default:O(()=>[ds]),_:1}),R(J,{onClick:p[6]||(p[6]=x=>this.$refs.scaleTree.zoomOut())},{default:O(()=>[ps]),_:1}),R(J,{onClick:p[7]||(p[7]=x=>this.$refs.scaleTree.restoreScale())},{default:O(()=>[_s]),_:1})]),m("div",{class:Mt(["absolute left-0 top-0 rounded-tl-2xl rounded-bl-2xl dark:bg-gray-700 bg-white z-50 h-full transition-all duration-200",{"!rounded-none dark:!bg-gray-700":S(A).treeFullScreen,"!w-0 ":!S(_),"!w-[25%] dark:border-r-gray-400 border-r ":S(_)}])},[S(_)?(Gt(),jt("div",vs,[m("button",{onClick:p[8]||(p[8]=x=>_.value=void 0),class:Mt(["absolute top-2 right-0 p-1 border-t border-l border-b",{"fixed !top-1 !p-[3px]":S(A).treeFullScreen}])},ms,2),m("div",ys,[m("img",{class:"w-[70px] h-[70px] rounded-full mt-10 dark:border-none border",src:S(tt).get_server_domain+((E=S(_))==null?void 0:E.photo_url),alt:""},null,8,xs),m("div",ws,[m("p",Cs,B(((w=S(_))==null?void 0:w.first_name)+" "+((H=S(_))==null?void 0:H.last_name)),1),m("p",bs,B((st=S(_))==null?void 0:st.position),1)]),m("div",null,[m("p",ks,[Ut(B(v.$t(":"))+" ",1),m("span",null,B((lt=S(_))==null?void 0:lt.department),1)])])]),m("div",Ms,[R(ye,{type:"treeBtn",onClick:p[9]||(p[9]=x=>{var F;return S(T).push(`/base/users/${(F=S(_))==null?void 0:F.id}`)})},{default:O(()=>[Ut(B(v.$t("")),1)]),_:1}),R(ye,{type:"treeBtn"},{default:O(()=>[Ut(B(v.$t("")),1)]),_:1}),R(ye,{type:"treeBtn"},{default:O(()=>[Ut(B(v.$t(" ")),1)]),_:1})])])):Pa("",!0)],2)],2)],32)])}}},Es=Mn(Ss,[["__scopeId","data-v-0f57d4d2"]]),Ts={class:"dark:text-white text-3xl font-bold mb-6"},Is={__name:"index",props:{treeFullScreen:{type:Boolean,default:!1}},setup(P){bn();const tt=Wa();tt.loadCurrentCompany();const A=Ra(),T=kn();return Xa(()=>T.user,k=>{var _,v;((v=(_=T==null?void 0:T.user)==null?void 0:_.role)==null?void 0:v.name_en)==="admin"&&(window.history.length>1?A.push("/base/profile"):A.push("/"))}),Oa({title:"",description:`   ${tt.company.name}`}),(k,_)=>(Gt(),jt("div",null,[m("p",Ts,B(k.$t(" "+S(tt).company.name)),1),R(Es)]))}};export{Is as default};
