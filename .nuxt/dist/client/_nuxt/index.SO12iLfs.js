import{e as y}from"./entry.Doav1j1v.js";import{u as h}from"./index.Cw99in4n.js";import{_ as $}from"./TheTextContent.vue.DaILusXJ.js";import{_ as v}from"./nuxt-link.DmVhN6Uy.js";import{j as b,N as u,O as c,L as t,V as d,Z as l,_ as m,J as j,a2 as V,u as n,$ as p,P as g,a5 as k,a as C,a6 as O,a4 as L,b as N}from"./swiper-vue.C62siAhS.js";import{u as x}from"./objects.Brl5FazY.js";import{_ as B}from"./TheSearch.vue.zBwj11Oz.js";import{_ as S}from"./TheFilter.vue.DCngcKZ-.js";import{_ as w}from"./TheButton.vue.DPQ248BT.js";import{_ as U}from"./TheModal.vue.CraCkhhf.js";import{_ as E}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{_ as f}from"./TheInput.vue.serkzXMq.js";import{u as M}from"./auth.B6SFGXBB.js";import"./nuxt-storage.gLjAmBiV.js";const T=""+globalThis.__publicAssetsURL("img/logo-company.png"),F=l("img",{class:"w-[50px] h-[50px]",src:T,alt:""},null,-1),R={class:"tracking-widest"},A=b({__name:"ObjectList",props:{object:{type:Object,default:()=>{}}},setup(r){return(i,s)=>{const o=v;return u(),c("div",null,[t(o,{to:`/base/objects/${r.object.id}`,class:"transition-all cursor-pointer dark:bg-gray-400 dark:hover:bg-gray-300 dark:shadow-none shadow-xl hover:bg-gray-100 dark:border-none border-t border-t-gray-100 p-4 rounded-xl flex items-center gap-x-4"},{default:d(()=>[F,l("h1",R,m(r.object.name),1)]),_:1},8,["to"])])}}}),D={class:"flex gap-x-10"},I={class:"w-full flex flex-col gap-y-4"},J={class:"dark:border-t dark:border-t-gray-500 border-t border-t-gray-100 dark:shadow-gray-500 shadow-md w-4/12 rounded-lg p-2"},P=l("div",null,null,-1),Z=b({__name:"ObjectContent",setup(r){const i=x();return i.loadObjectList(),(s,o)=>(u(),c("div",D,[l("div",I,[(u(!0),c(j,null,V(n(i).get_objects.results,e=>(u(),g(A,{object:e},null,8,["object"]))),256))]),l("div",J,[t($,null,{default:d(()=>[p(m(s.$t("Информация по объектам")),1)]),_:1}),P])]))}}),q={},z={class:"flex max-lg:flex-wrap gap-y-4 justify-center gap-x-10 my-10 mx-auto w-full"};function G(r,i){return u(),c("div",z,[k(r.$slots,"default")])}const _=E(q,[["render",G]]),H={class:"w-6/12"},K={class:"w-6/12"},Q={class:"w-6/12"},W={class:"w-full text-center mx-auto border p-4 border-dashed rounded-md"},X={class:"w-full"},Y=b({__name:"ObjectCreate",props:{showCreate:{type:Boolean,default:!1}},setup(r){const i=x(),s=C({name:"",description:"",email:"",files:"",address:""});return(o,e)=>(u(),c("div",null,[l("button",{class:"font-bold tracking-widest text-white bg-blue-400 mx-auto py-4 rounded-xl w-full px-4 text-sm",onClick:e[0]||(e[0]=a=>r.showCreate=!0)},m(o.$t("Создать объект")),1),r.showCreate?(u(),g(U,{key:0,onShowModal:e[8]||(e[8]=a=>r.showCreate=!r.showCreate)},{default:d(()=>[t($,null,{default:d(()=>[p(m(o.$t("Создание объекта")),1)]),_:1}),l("form",{onSubmit:e[7]||(e[7]=O(a=>n(i).createObject(n(s)),["prevent"]))},[t(_,null,{default:d(()=>[l("div",H,[t(f,{type:"text",label:o.$t("Наименование"),modelValue:n(s).name,"onUpdate:modelValue":e[1]||(e[1]=a=>n(s).name=a)},null,8,["label","modelValue"])]),l("div",K,[t(f,{type:"text",label:o.$t("Email"),modelValue:n(s).email,"onUpdate:modelValue":e[2]||(e[2]=a=>n(s).email=a)},null,8,["label","modelValue"])])]),_:1}),t(_,{class:"flex-wrap"},{default:d(()=>[l("div",Q,[t(f,{type:"text",label:o.$t("Адрес"),modelValue:n(s).address,"onUpdate:modelValue":e[3]||(e[3]=a=>n(s).address=a)},null,8,["label","modelValue"])]),l("div",W,[t(f,{type:"file",label:o.$t("Прикрепите файлы"),onInput:e[4]||(e[4]=a=>n(s).files=a.target.files[0])},null,8,["label"])])]),_:1}),t(_,null,{default:d(()=>[l("div",X,[t(f,{type:"textarea",label:o.$t("Описание"),modelValue:n(s).description,"onUpdate:modelValue":e[5]||(e[5]=a=>n(s).description=a)},null,8,["label","modelValue"])])]),_:1}),t(_,null,{default:d(()=>[t(w,{class:"py-2 px-6 rounded-full",t:"button",type:"danger",onClick:e[6]||(e[6]=a=>r.showCreate=!1)},{default:d(()=>[p(m(o.$t("Отменить")),1)]),_:1}),t(w,{class:"py-2 px-6 rounded-full",t:"submit",type:"success"},{default:d(()=>[p(m(o.$t("Создать")),1)]),_:1})]),_:1})],32)]),_:1})):L("",!0)]))}}),ee={class:"flex items-center gap-x-6"},_e=b({__name:"index",setup(r){const i=y(),s=M();return N(()=>s.user,o=>{var e,a;((a=(e=s==null?void 0:s.user)==null?void 0:e.role)==null?void 0:a.name_en)==="admin"&&(window.history.length>1?i.push("/base/profile"):i.push("/"))}),h({title:"Объекты",description:"Объекты компании"}),(o,e)=>(u(),c("div",null,[t($,{"text-type":"pageTitle"},{default:d(()=>[p(m(o.$t("Страница с объектами")),1)]),_:1}),l("div",ee,[t(B,{class:"w-8/12"}),t(S),t(Y,{class:"w-2/12 ml-auto"})]),t(Z)]))}});export{_e as default};
