import{g as D,o as c,c as g,a as t,k as y,b as i,ay as Z,h as s,w as a,d as p,t as o,l as H,T as J,i as b,j as B,n as v,H as ht,s as mt,az as ft,Y as gt,x as K,F as L,r as T,y as pt,E as Q,ae as X,$ as wt,C as tt,J as kt,A as et}from"./entry.BElsFtQk.js";import{u as xt}from"./index.CuiLDjvP.js";import{u as U}from"./tasks.pIkDWnlu.js";import{T as V}from"./TheSceleton.CXzDsfu5.js";import{_ as P}from"./TheButton.vue.C5HZRycA.js";import{_ as rt}from"./TheModal.vue.B2q1Y8Ma.js";import{_ as z}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{r as O,t as Y,s as at,o as dt}from"./vue-datepicker.C1Fhr-JN.js";import{_ as ct}from"./nuxt-link.CQaYBq4H.js";import{u as I}from"./auth.Br_idTkw.js";import{T as N}from"./TaskContentCreateElems.wsH5wbrL.js";import{_ as vt}from"./TheSearch.vue.DedLSzd5.js";import{l as bt}from"./nuxt-storage.CDH-9eXG.js";import{_ as yt}from"./TheTextContent.vue.DFcZcyGX.js";import{_ as R}from"./TheInput.vue.Cp7r601p.js";import{u as ut}from"./companies.we6TPtEi.js";import{T as $t}from"./TheCheckbox.B_TZUFnM.js";import{C as st,A as _t,p as Ct,a as St,b as Lt}from"./index.BjPFeBPH.js";import"./chat.BmmbWVGC.js";const Tt=["task"],Mt={class:"dark:bg-gray-100 shadow-lg rounded-full w-[80px] h-[80px] mx-auto flex justify-center items-center"},Vt={class:"flex flex-col"},Ht={class:"mt-6 mb-12 font-bold text-lg text-blue-400 dark:text-white"},Bt={class:"text-md dark:text-white text-blue-600"},E=D({__name:"TasksReportBlock",props:{task:{type:Number,default:null}},setup(e){return U(),(l,r)=>(c(),g("div",null,[t("div",{class:"dark:shadow-gray-500 dark:border dark:border-gray-500 w-[250px] h-[250px] max-[400px]:w-400px transition-all hover:-translate-y-3 shadow-lg dark:shadow-md p-6 rounded-lg",task:e.task},[t("div",Mt,[y(l.$slots,"TaskReportSvg")]),t("div",Vt,[t("p",Ht,[y(l.$slots,"TaskReportTitle")]),t("p",Bt,[y(l.$slots,"TaskReportSubtitle")]),t("div",null,[y(l.$slots,"TaskSceleton")])])],8,Tt)]))}}),Dt={class:"flex justify-center flex-wrap gap-x-6 gap-y-6"},jt=t("svg",{width:"50px",height:"50px",viewBox:"0 0 91 91",id:"Layer_1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg"},[t("g",null,[t("g",null,[t("path",{d:"M64.292,13.277c-0.002-0.025-0.01-0.047-0.01-0.072c0-0.024,0.008-0.047,0.01-0.072V6.758h-8.936    c-1.07,0-2.053-0.606-2.525-1.567c-1.402-2.841-4.217-4.605-7.338-4.605c-3.129,0-5.941,1.764-7.346,4.604    c-0.473,0.961-1.455,1.568-2.521,1.568h-8.938v6.41c0,0.013,0.004,0.024,0.004,0.037c0,0.013-0.004,0.024-0.004,0.036v6.412    h37.604V13.277z",fill:"#3b82f6"}),t("path",{d:"M69.923,16.021v6.448c0,1.554-1.26,2.815-2.814,2.815H23.876c-1.559,0-2.816-1.261-2.816-2.815v-6.448    H9.597v74.682h66.164c3.279,0,5.943-2.666,5.943-5.939V16.021H69.923z",fill:"#647F94"}),t("path",{d:"M29.911,75.561h-9.264c-1.555,0-2.814-1.26-2.814-2.813c0-1.557,1.26-2.816,2.814-2.816h9.264    c1.557,0,2.814,1.26,2.814,2.816C32.726,74.301,31.468,75.561,29.911,75.561z M45.894,75.561h-6.879    c-1.553,0-2.814-1.26-2.814-2.813c0-1.557,1.262-2.816,2.814-2.816h6.879c1.553,0,2.814,1.26,2.814,2.816    C48.708,74.301,47.446,75.561,45.894,75.561z M64.046,75.561h-8.781c-1.557,0-2.818-1.26-2.818-2.813    c0-1.557,1.262-2.816,2.818-2.816h8.781c1.551,0,2.814,1.26,2.814,2.816C66.86,74.301,65.597,75.561,64.046,75.561z     M70.649,58.609H20.647c-1.555,0-2.814-1.26-2.814-2.814c0-1.557,1.26-2.816,2.814-2.816h50.002c1.557,0,2.814,1.26,2.814,2.816    C73.464,57.35,72.206,58.609,70.649,58.609z M70.649,41.666H20.647c-1.555,0-2.814-1.26-2.814-2.815    c0-1.556,1.26-2.816,2.814-2.816h50.002c1.557,0,2.814,1.261,2.814,2.816C73.464,40.406,72.206,41.666,70.649,41.666z",fill:"#95AEC2"})])])],-1),Nt=t("svg",{width:"50px",height:"50px",viewBox:"0 0 91 91","enable-background":"new 0 0 91 91",id:"Layer_1",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",null,[t("g",null,[t("path",{d:"M23.932,87.037V64.561c0-10.395,10.014-20.498,22.377-20.498h0.639c12.359,0,22.371,10.104,22.371,20.498    v22.477",fill:"#95AEC2"}),t("path",{d:"M23.932,3.638v22.48c0,10.395,10.014,20.501,22.377,20.501h0.639c12.359,0,22.371-10.106,22.371-20.501    V3.638",fill:"#647F94"}),t("path",{d:"M75.018,6.978H16.561c-1.846,0-3.34-1.496-3.34-3.34c0-1.846,1.494-3.34,3.34-3.34h58.457    c1.842,0,3.34,1.494,3.34,3.34C78.357,5.481,76.859,6.978,75.018,6.978z",fill:"#45596B"}),t("path",{d:"M75.018,90.377H16.561c-1.846,0-3.34-1.496-3.34-3.34s1.494-3.34,3.34-3.34h58.457    c1.842,0,3.34,1.496,3.34,3.34S76.859,90.377,75.018,90.377z",fill:"#45596B"})])])],-1),Pt=t("svg",{width:"50px",height:"50px",viewBox:"0 0 91 91","enable-background":"new 0 0 91 91",id:"Layer_1",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",null,[t("g",null,[t("path",{d:"M16.084,38.938h-0.332c-8.271,0-15.002-6.68-15.002-14.888V11.007c0-1.846,1.494-3.34,3.342-3.34h14.494    c1.844,0,3.34,1.494,3.34,3.34v23.664c0.018,0.266,0.027,0.424,0.029,0.586c0.025,1.588-1.072,2.975-2.625,3.314    C18.201,38.819,17.139,38.938,16.084,38.938z M7.432,14.347v9.703c0,4.359,3.461,7.935,7.814,8.193V14.347H7.432z",fill:"#45596B"}),t("path",{d:"M18.615,37.769c-1.34,0-2.438-1.076-2.459-2.424c-0.02-0.334-0.029-0.502-0.029-0.674V11.007    c0-1.359,1.1-2.459,2.459-2.459c1.357,0,2.459,1.1,2.459,2.459l0.01,23.832c0.01,0.145,0.018,0.287,0.02,0.432    c0.021,1.359-1.063,2.477-2.42,2.498C18.641,37.769,18.629,37.769,18.615,37.769z",fill:"#647F94"}),t("path",{d:"M75.32,38.938h-0.332c-1.057,0-2.121-0.119-3.25-0.367c-1.572-0.342-2.678-1.756-2.629-3.363    c0.004-0.152,0.016-0.303,0.027-0.453l0.01-23.748c0-1.846,1.494-3.34,3.34-3.34H86.98c1.844,0,3.34,1.494,3.34,3.34V24.05    C90.32,32.259,83.592,38.938,75.32,38.938z M75.826,14.347v17.896c4.352-0.258,7.814-3.833,7.814-8.193v-9.703H75.826z",fill:"#45596B"}),t("path",{d:"M45.535,88.495c-1.844,0-3.342-1.496-3.342-3.34V58.304c0-1.842,1.498-3.34,3.342-3.34    c1.846,0,3.34,1.498,3.34,3.34v26.852C48.875,86.999,47.381,88.495,45.535,88.495z",fill:"#45596B"}),t("path",{d:"M60.531,88.495H30.537c-1.844,0-3.34-1.496-3.34-3.34c0-1.846,1.496-3.34,3.34-3.34h29.994    c1.844,0,3.34,1.494,3.34,3.34C63.871,86.999,62.375,88.495,60.531,88.495z",fill:"#45596B"}),t("g",null,[t("path",{d:"M72.486,2.498H46.66v29.195c0,1.357-1.104,2.459-2.459,2.459H30.537c-1.357,0-2.459-1.102-2.459-2.459     V2.498h-9.492c-1.359,0-2.463,1.098-2.463,2.459l0.033,30.412c0.365,14.955,12.287,25.398,29,25.398h0.756     c16.711,0,28.635-10.443,28.994-25.453l0.039-30.357C74.945,3.595,73.844,2.498,72.486,2.498z",fill:"#647F94"}),t("rect",{fill:"#3b82f6",height:"26.734",width:"8.744",x:"32.996",y:"2.498"})])])])],-1),zt=t("svg",{width:"50px",height:"50px",viewBox:"0 0 91 91","enable-background":"new 0 0 91 91",id:"Layer_1",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",null,[t("g",null,[t("path",{d:"M16.142,90.613H68.39c3.418,0,6.197-2.779,6.197-6.195V29.52l-58.445-0.002V90.613z",fill:"#647F94"}),t("path",{d:"M58.431,42.701c0-1.547,1.254-2.801,2.801-2.801s2.803,1.254,2.803,2.801v37.295    c0,1.549-1.256,2.801-2.803,2.801s-2.801-1.252-2.801-2.801V42.701z M42.56,42.701c0-1.547,1.254-2.801,2.803-2.801    c1.545,0,2.799,1.254,2.799,2.801v37.295c0,1.549-1.254,2.801-2.799,2.801c-1.549,0-2.803-1.252-2.803-2.801V42.701z     M26.688,42.701c0-1.547,1.256-2.801,2.801-2.801c1.547,0,2.803,1.254,2.803,2.801v37.295c0,1.549-1.256,2.801-2.803,2.801    c-1.545,0-2.801-1.252-2.801-2.801V42.701z",fill:"#95AEC2"}),t("rect",{fill:"#3b82f6",height:"9.438",width:"66.611",x:"12.056",y:"14.479"}),t("rect",{fill:"#647F94",height:"7.887",width:"18.205",x:"36.259",y:"0.99"})])])],-1),At=D({__name:"TasksReport",props:{stats:{type:Object},taskNumber:{type:Number,default:null}},setup(e){const l=U();return(r,w)=>{var m;return c(),g("div",Dt,[i(E,null,Z({TaskReportSvg:a(()=>[jt]),TaskReportTitle:a(()=>[p(o(r.$t("Общие задания")),1)]),_:2},[!((m=s(l).get_stats)!=null&&m.count)&&s(l).get_tasks.results?{name:"TaskReportSubtitle",fn:a(()=>{var n;return[p(o(((n=s(l).get_tasks)==null?void 0:n.count)+r.$t(" заданий")),1)]}),key:"0"}:{name:"TaskSceleton",fn:a(()=>[i(V,{"border-radius":"20px",width:"100px",height:"20px"})]),key:"1"}]),1024),i(E,null,Z({TaskReportSvg:a(()=>[Nt]),TaskReportTitle:a(()=>[p(o(r.$t("В процессе")),1)]),_:2},[s(l).get_stats[0]?{name:"TaskReportSubtitle",fn:a(()=>{var n,u;return[p(o(((u=(n=s(l))==null?void 0:n.get_stats[0])==null?void 0:u.count)+r.$t(" заданий")),1)]}),key:"1"}:{name:"TaskSceleton",fn:a(()=>[i(V,{"border-radius":"20px",width:"100px",height:"20px"})]),key:"0"}]),1024),i(E,null,Z({TaskReportSvg:a(()=>[Pt]),TaskReportTitle:a(()=>[p(o(r.$t("Выполненые")),1)]),_:2},[s(l).get_stats[2]?{name:"TaskReportSubtitle",fn:a(()=>{var n,u;return[p(o(((u=(n=s(l))==null?void 0:n.get_stats[2])==null?void 0:u.count)+r.$t(" заданий")),1)]}),key:"1"}:{name:"TaskSceleton",fn:a(()=>[i(V,{"border-radius":"20px",width:"100px",height:"20px"})]),key:"0"}]),1024),i(E,null,Z({TaskReportSvg:a(()=>[zt]),TaskReportTitle:a(()=>[p(o(r.$t("Отклоненные")),1)]),_:2},[s(l).get_stats[3]?{name:"TaskReportSubtitle",fn:a(()=>{var n,u;return[p(o(((u=(n=s(l))==null?void 0:n.get_stats[3])==null?void 0:u.count)+r.$t(" заданий")),1)]}),key:"1"}:{name:"TaskSceleton",fn:a(()=>[i(V,{"border-radius":"20px",width:"100px",height:"20px"})]),key:"0"}]),1024)])}}}),Ft={},Zt={class:"flex items-center gap-x-2"},Rt={class:"flex items-center gap-x-4"},Et={class:"uppercase dark:text-white tracking-widest font-bold"};function qt(e,l){return c(),g("div",{class:"cursor-pointer select-none",onClick:l[0]||(l[0]=r=>this.$emit("showEvent"))},[t("div",Zt,[t("div",Rt,[t("div",null,[y(e.$slots,"filterIcon")]),t("p",Et,[y(e.$slots,"filterTitle")])]),t("div",null,[y(e.$slots,"filterChevron")])])])}const lt=z(Ft,[["render",qt]]),Ut={};function Ot(e,l){return c(),g("div",{class:"flex gap-x-2 pb-2 border-opacity-5 border-black justify-between max-sm:justify-start max-sm:gap-x-10 my-4 items-center cursor-pointer rounded-lg p-2",onClick:l[0]||(l[0]=r=>this.$emit("activeStatus"))},[t("div",null,[y(e.$slots,"statusColor")]),t("p",null,[y(e.$slots,"statusName")])])}const M=z(Ut,[["render",Ot]]);function ot(e){O(1,arguments);var l=Y(e),r=l.getMonth();return l.setFullYear(l.getFullYear(),r+1,0),l.setHours(23,59,59,999),l}function nt(e){O(1,arguments);var l=Y(e);return l.setDate(1),l.setHours(0,0,0,0),l}function Yt(e){O(1,arguments);var l=Y(e),r=l.getFullYear();return l.setFullYear(r+1,0,0),l.setHours(23,59,59,999),l}function It(e){O(1,arguments);var l=Y(e),r=new Date(0);return r.setFullYear(l.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Gt={class:"flex justify-center gap-x-10 max-md:flex-wrap max-md:gap-y-4 max-md:items-center"},Wt={class:"w-2/12 max-md:w-full flex max-md:justify-center items-center gap-x-2"},Jt=t("svg",{class:"dark:stroke-gray-200 stroke-black",width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"1.5"}),t("path",{d:"M10.125 8.875C10.125 7.83947 10.9645 7 12 7C13.0355 7 13.875 7.83947 13.875 8.875C13.875 9.56245 13.505 10.1635 12.9534 10.4899C12.478 10.7711 12 11.1977 12 11.75V13","stroke-width":"1.5","stroke-linecap":"round"}),t("circle",{cx:"12",cy:"16",r:"1",class:"dark:fill-white fill-black"})],-1),Kt={key:0,class:"absolute dark:bg-gray-700 bg-white w-[220px] max-md:left-0 right-0 top-10 z-10 shadow-md rounded-lg p-2"},Qt={class:"text-center tracking-wider"},Xt=t("div",{class:"bg-orange-500 w-[25px] h-[25px] rounded-full"},null,-1),te=t("div",{class:"bg-green-500 w-[25px] h-[25px] rounded-full"},null,-1),ee=t("div",{class:"bg-red-500 w-[25px] h-[25px] rounded-full"},null,-1),ae=t("div",{class:"bg-blue-500 w-[25px] h-[25px] rounded-full"},null,-1),se={class:"relative"},le={class:"text-center font-bold text-2xl max-md:text-xl dark:text-white tracking-widest"},oe=t("svg",{class:"dark:stroke-white stroke-black",width:"35px",height:"35px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"1.5"}),t("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5","stroke-width":"1.5","stroke-linecap":"round"})],-1),ne=[oe],ie={class:"flex justify-center mx-auto my-10 max-lg:flex-col items-center gap-y-10"},re=t("svg",{class:"fill-black dark:fill-gray-100",width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.4013 7.5H19C19.2761 7.5 19.5 7.27614 19.5 7C19.5 6.72386 19.2761 6.5 19 6.5H15.0415C15.1017 6.85896 15.2257 7.19631 15.4013 7.5ZM13.2289 7.5C13.1282 7.17938 13.0589 6.84484 13.0247 6.5H5C4.72386 6.5 4.5 6.72386 4.5 7C4.5 7.27614 4.72386 7.5 5 7.5H13.2289ZM5 11.5C4.72386 11.5 4.5 11.7239 4.5 12C4.5 12.2761 4.72386 12.5 5 12.5H19C19.2761 12.5 19.5 12.2761 19.5 12C19.5 11.7239 19.2761 11.5 19 11.5H5ZM5 16.5C4.72386 16.5 4.5 16.7239 4.5 17C4.5 17.2761 4.72386 17.5 5 17.5H19C19.2761 17.5 19.5 17.2761 19.5 17C19.5 16.7239 19.2761 16.5 19 16.5H5Z"}),t("circle",{cx:"18",cy:"6",r:"3"})],-1),de=t("path",{d:"M17 9.5L12 14.5L7 9.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ce=[de],ue=t("svg",{class:"dark:fill-white",width:"25px",height:"25px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M5.67326018,0 C6.0598595,0 6.37326018,0.31324366 6.37326018,0.699649298 L6.373,2.009 L13.89,2.009 L13.8901337,0.708141199 C13.8901337,0.321735562 14.2035343,0.00849190182 14.5901337,0.00849190182 C14.976733,0.00849190182 15.2901337,0.321735562 15.2901337,0.708141199 L15.29,2.009 L18,2.00901806 C19.1045695,2.00901806 20,2.90399995 20,4.00801605 L20,18.001002 C20,19.1050181 19.1045695,20 18,20 L2,20 C0.8954305,20 0,19.1050181 0,18.001002 L0,4.00801605 C0,2.90399995 0.8954305,2.00901806 2,2.00901806 L4.973,2.009 L4.97326018,0.699649298 C4.97326018,0.31324366 5.28666085,0 5.67326018,0 Z M1.4,7.742 L1.4,18.001002 C1.4,18.3322068 1.66862915,18.6007014 2,18.6007014 L18,18.6007014 C18.3313708,18.6007014 18.6,18.3322068 18.6,18.001002 L18.6,7.756 L1.4,7.742 Z M6.66666667,14.6186466 L6.66666667,16.284778 L5,16.284778 L5,14.6186466 L6.66666667,14.6186466 Z M10.8333333,14.6186466 L10.8333333,16.284778 L9.16666667,16.284778 L9.16666667,14.6186466 L10.8333333,14.6186466 Z M15,14.6186466 L15,16.284778 L13.3333333,16.284778 L13.3333333,14.6186466 L15,14.6186466 Z M6.66666667,10.6417617 L6.66666667,12.3078931 L5,12.3078931 L5,10.6417617 L6.66666667,10.6417617 Z M10.8333333,10.6417617 L10.8333333,12.3078931 L9.16666667,12.3078931 L9.16666667,10.6417617 L10.8333333,10.6417617 Z M15,10.6417617 L15,12.3078931 L13.3333333,12.3078931 L13.3333333,10.6417617 L15,10.6417617 Z M4.973,3.408 L2,3.40831666 C1.66862915,3.40831666 1.4,3.67681122 1.4,4.00801605 L1.4,6.343 L18.6,6.357 L18.6,4.00801605 C18.6,3.67681122 18.3313708,3.40831666 18,3.40831666 L15.29,3.408 L15.2901337,4.33697436 C15.2901337,4.72338 14.976733,5.03662366 14.5901337,5.03662366 C14.2035343,5.03662366 13.8901337,4.72338 13.8901337,4.33697436 L13.89,3.408 L6.373,3.408 L6.37326018,4.32848246 C6.37326018,4.7148881 6.0598595,5.02813176 5.67326018,5.02813176 C5.28666085,5.02813176 4.97326018,4.7148881 4.97326018,4.32848246 L4.973,3.408 Z"})],-1),he=t("path",{d:"M17 9.5L12 14.5L7 9.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),me=[he],fe={key:0,class:"flex justify-around dark:text-white tracking-widest max-sm:flex-col flex-wrap max-sm:flex-nowrap"},ge=t("div",{class:"bg-orange-500 w-[25px] h-[25px] rounded-full"},null,-1),pe=t("div",{class:"bg-green-500 w-[25px] h-[25px] rounded-full"},null,-1),we=t("div",{class:"bg-red-500 w-[25px] h-[25px] rounded-full"},null,-1),ke=t("div",{class:"bg-blue-500 w-[25px] h-[25px] rounded-full"},null,-1),xe={key:1,class:"flex items-center justify-center mx-auto w-full"},ve=["onClick"],be={class:"flex justify-evenly my-10"},ye=D({__name:"TasksContentSearch",props:{moveElem:Boolean,showFilter:Boolean,showStatus:[String,Boolean],activeStatus:[String,Boolean],searchInput:String},setup(e){H({query:""});const l=H(),r=H([{label:"Сегодня",range:[new Date,new Date]},{label:"В этом месяце",range:[nt(new Date),ot(new Date)]},{label:"В предидущем месяце",range:[nt(at(new Date,1)),ot(at(new Date,1))]},{label:"В этом году",range:[It(new Date),Yt(new Date)]},{label:"По сроку выполнения",range:[new Date,new Date]}]);return(w,m)=>(c(),g("div",null,[t("div",Gt,[t("div",Wt,[t("div",{class:"cursor-pointer relative transition-all",onMouseenter:m[0]||(m[0]=n=>e.moveElem=!0),onMouseleave:m[1]||(m[1]=n=>e.moveElem=!1),onClick:m[2]||(m[2]=n=>e.moveElem=!0)},[Jt,i(J,{name:"slide-down"},{default:a(()=>[e.moveElem?(c(),g("div",Kt,[t("h3",Qt,o(w.$t("Статусы выполнения")),1),i(M,null,{statusColor:a(()=>[Xt]),statusName:a(()=>[p(o(w.$t("Выполняется")),1)]),_:1}),i(M,null,{statusColor:a(()=>[te]),statusName:a(()=>[p(o(w.$t("Выполнено")),1)]),_:1}),i(M,null,{statusColor:a(()=>[ee]),statusName:a(()=>[p(o(w.$t("Отклонено")),1)]),_:1}),i(M,null,{statusColor:a(()=>[ae]),statusName:a(()=>[p(o(w.$t("На расмотрении")),1)]),_:1})])):b("",!0)]),_:1})],32),i(P,{onClick:m[3]||(m[3]=n=>e.showFilter=!e.showFilter),type:"button",class:"tracking-widest rounded-full dark:bg-gray-400 p-3 bg-gray-300 hover:bg-gray-400 transition-all duration-200"},{default:a(()=>[p(o(w.$t("Фильтр")),1)]),_:1})]),i(J,{name:"fade"},{default:a(()=>[e.showFilter?(c(),B(rt,{key:0,onShowModal:m[13]||(m[13]=n=>e.showFilter=!e.showFilter)},{default:a(()=>[t("div",null,[t("div",se,[t("h2",le,o(w.$t("Фильтрация по поиску")),1),t("div",{class:"absolute top-0 right-0 max-md:-right-3 max-md:-top-2",onClick:m[4]||(m[4]=n=>e.showFilter=!1)},ne)]),t("div",ie,[i(lt,{class:v(["p-4",{box:e.showStatus==="status"}]),onShowEvent:m[5]||(m[5]=n=>{e.showStatus=!e.showStatus,e.showStatus="status"})},{filterIcon:a(()=>[re]),filterTitle:a(()=>[p(o(w.$t("По статусу")),1)]),filterChevron:a(()=>[(c(),g("svg",{class:v(["transition-all dark:stroke-white stroke-black",{"rotate-180":e.showStatus==="status"}]),width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce,2))]),_:1},8,["class"]),i(lt,{class:v(["p-4",{box:e.showStatus==="date"}]),onShowEvent:m[6]||(m[6]=n=>{e.showStatus=!e.showStatus,e.showStatus="date"})},{filterIcon:a(()=>[ue]),filterTitle:a(()=>[p(o(w.$t("По дате")),1)]),filterChevron:a(()=>[(c(),g("svg",{class:v(["transition-all dark:stroke-white stroke-black",{"rotate-180":e.showStatus==="date"}]),width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},me,2))]),_:1},8,["class"])]),e.showStatus==="status"?(c(),g("div",fe,[i(M,{class:v({"dark:bg-gray-500 bg-gray-100":e.activeStatus==="performed"}),onActiveStatus:m[7]||(m[7]=n=>{e.activeStatus=!e.activeStatus,e.activeStatus="performed"})},{statusColor:a(()=>[ge]),statusName:a(()=>[p(o(w.$t("Выполняется")),1)]),_:1},8,["class"]),i(M,{class:v({"dark:bg-gray-500 bg-gray-100":e.activeStatus==="completed"}),onActiveStatus:m[8]||(m[8]=n=>{e.activeStatus=!e.activeStatus,e.activeStatus="completed"})},{statusColor:a(()=>[pe]),statusName:a(()=>[p(o(w.$t("Выполнено")),1)]),_:1},8,["class"]),i(M,{class:v({"dark:bg-gray-500 bg-gray-100":e.activeStatus==="rejected"}),onActiveStatus:m[9]||(m[9]=n=>{e.activeStatus=!e.activeStatus,e.activeStatus="rejected"})},{statusColor:a(()=>[we]),statusName:a(()=>[p(o(w.$t("Отклонено")),1)]),_:1},8,["class"]),i(M,{class:v({"dark:bg-gray-500 bg-gray-100":e.activeStatus==="expectation"}),onActiveStatus:m[10]||(m[10]=n=>{e.activeStatus=!e.activeStatus,e.activeStatus="expectation"})},{statusColor:a(()=>[ke]),statusName:a(()=>[p(o(w.$t("На расмотрении")),1)]),_:1},8,["class"])])):e.showStatus==="date"?(c(),g("div",xe,[i(s(dt),{class:"mx-auto max-md:flex-col flex justify-center",modelValue:s(l),"onUpdate:modelValue":m[11]||(m[11]=n=>ht(l)?l.value=n:null),range:"",inline:"","preset-ranges":s(r)},{yearly:a(({label:n,range:u,presetDateRange:$})=>[t("span",{onClick:j=>$(u)},null,8,ve)]),_:1},8,["modelValue","preset-ranges"])])):b("",!0),t("div",be,[i(P,{type:"danger",class:"w-3/12 max-sm:w-5/12 py-2 rounded-lg",onClick:m[12]||(m[12]=n=>e.showFilter=!1)},{default:a(()=>[p(o(w.$t("Отмена")),1)]),_:1}),i(P,{type:"button",class:"w-3/12 max-sm:w-5/12 py-2 rounded-lg bg-semiCyan"},{default:a(()=>[p(o(w.$t("Поиск")),1)]),_:1})])])]),_:1})):b("",!0)]),_:1})])]))}}),$e={},_e={class:"opacity-80 tracking-widest cursor-pointer"},Ce={class:"text-sm tracking-widest"};function Se(e,l){return c(),g("div",null,[t("table",null,[t("tr",null,[t("th",_e,[y(e.$slots,"tableHead")])]),t("tr",null,[t("td",Ce,[y(e.$slots,"tableBody")])])])])}const q=z($e,[["render",Se]]),Le={class:"mt-6"},Te={class:"flex relative justify-between max-[425px]:gap-y-6"},Me={class:"flex w-full max-sm:flex-col max-sm:gap-y-6 max-sm:items-center max-sm:text-center justify-around"},Ve={class:"my-10 font-bold tracking-widest"},it=D({__name:"TasksContentBlock",props:{task:{type:Object,required:!0}},setup(e){const l=I();return(r,w)=>{const m=ct;return c(),g("div",Le,[i(m,{to:`/base/tasks/${e.task.id}`,class:"shadow-xl dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 dark:shadow-none dark:border-none cursor-pointer hover:translate-x-4 transition-all px-6 py-2 rounded-lg w-11/12 max-lg:w-full max-[425px]:flex-wrap flex flex-col justify-between"},{default:a(()=>[t("div",Te,[t("div",Me,[i(q,null,{tableHead:a(()=>[p(o(r.$t("Наименование")),1)]),tableBody:a(()=>[p(o(e.task.title),1)]),_:1}),i(q,null,{tableHead:a(()=>[p(o(r.$t("Дата")),1)]),tableBody:a(()=>[p(o(new Date(e.task.created_at).toLocaleDateString()),1)]),_:1}),i(q,{class:"text-center"},{tableHead:a(()=>[p(o(r.$t("Срок выполнения")),1)]),tableBody:a(()=>[p(o(new Date(e.task.deadline).toLocaleDateString()),1)]),_:1}),s(l).user.role_en==="company_admin"?(c(),B(q,{key:0,class:"text-center"},{tableHead:a(()=>[p(o(r.$t("Ответственный")),1)]),tableBody:a(()=>[p(o(e.task.main_performer.first_name+" "+e.task.main_performer.last_name),1)]),_:1})):b("",!0)]),t("div",{class:v(["absolute z-0 -right-6 -top-2 w-[30px] h-[30px] opacity-80 rounded-bl-2xl rounded-tr-lg",{"bg-orange-500":e.task.status==="performing","bg-red-500":e.task.status==="rejected","bg-green-500":e.task.status==="completed","bg-blue-500":e.task.status==="watching"}])},null,2)]),t("div",Ve,[t("p",null,o(e.task.description),1)])]),_:1},8,["to"])])}}}),He={class:"my-6"},Be={class:"dark:text-white mb-6 tracking-wider"},De={class:"flex max-lg:flex-wrap max-md:justify-center max-md:gap-y-10"},je={key:0,id:"content",class:"mx-auto"},Ne={class:"flex gap-x-10 my-10 ml-10 flex-wrap max-md:mx-auto max-md:justify-center gap-y-5"},Pe={key:1,class:""},ze={key:0,class:"flex mt-10 items-center gap-x-10"},Ae={class:"flex gap-x-4"},Fe={class:"flex mt-10 flex-col gap-y-6"},Ze={key:2,class:"text-center mt-10 flex flex-col items-center gap-y-6 gap-x-10"},Re={class:"text-2xl dark:text-white font-bold tracking-widest"},Ee=pt('<div><svg width="100px" height="100px" viewBox="0 -3.66 65.015 65.015" xmlns="http://www.w3.org/2000/svg"><g id="Group_99" data-name="Group 99" transform="translate(-107.858 -217.309)"><g id="Group_97" data-name="Group 97"><path id="Path_247" data-name="Path 247" d="M158.251,220.766H133.473l-5.725-3.457H114.226a2.911,2.911,0,0,0-2.912,2.912v30.934a2.911,2.911,0,0,0,2.912,2.912h44.025a2.911,2.911,0,0,0,2.911-2.912V223.676A2.911,2.911,0,0,0,158.251,220.766Z" fill="#48CAE4"></path><path id="Path_248" data-name="Path 248" d="M161.162,242.6V227.133a2.914,2.914,0,0,0-2.911-2.914H114.226a2.914,2.914,0,0,0-2.912,2.914V242.6Z" fill="#dce2e9"></path><path id="Path_249" data-name="Path 249" d="M158.251,220.766H133.473l-5.725-3.457H114.226a2.911,2.911,0,0,0-2.912,2.912V221.6a2.911,2.911,0,0,1,2.912-2.912h13.522l5.725,3.455h24.778a2.913,2.913,0,0,1,2.911,2.912v-1.383A2.911,2.911,0,0,0,158.251,220.766Z" fill="#ffc52f" opacity="0.5" style="mix-blend-mode:screen;isolation:isolate;"></path><path id="Path_250" data-name="Path 250" d="M161.707,226.293H110.771a2.913,2.913,0,0,0-2.913,2.913l3.456,30.933a2.911,2.911,0,0,0,2.912,2.912h44.025a2.911,2.911,0,0,0,2.911-2.912l3.455-30.933A2.912,2.912,0,0,0,161.707,226.293Z" fill="#48CAE4"></path><path id="Path_251" data-name="Path 251" d="M110.771,227.676h50.936a2.911,2.911,0,0,1,2.83,2.254l.08-.724a2.912,2.912,0,0,0-2.91-2.913H110.771a2.913,2.913,0,0,0-2.913,2.913l.081.724A2.911,2.911,0,0,1,110.771,227.676Z" fill="#ffc52f" opacity="0.5" style="mix-blend-mode:screen;isolation:isolate;"></path></g><path id="Path_252" data-name="Path 252" d="M161.162,260.139l.592-5.3a14.7,14.7,0,1,0-27.687,8.211h24.184A2.911,2.911,0,0,0,161.162,260.139Z" fill="#8c93a1" opacity="0.6" style="mix-blend-mode:multiply;isolation:isolate;"></path><g class="transition-all duration-200 eye-block" id="Group_98" data-name="Group 98"><rect id="Rectangle_36" data-name="Rectangle 36" width="4.156" height="12.401" transform="translate(157.7 262.706) rotate(-45)" fill="#dce2e9"></rect><path id="Path_253" data-name="Path 253" d="M165.421,252.721a14.7,14.7,0,1,1-14.7-14.7A14.7,14.7,0,0,1,165.421,252.721Z" fill="#dce2e9"></path><path id="Path_254" data-name="Path 254" d="M161.682,252.721a10.964,10.964,0,1,1-10.964-10.965A10.965,10.965,0,0,1,161.682,252.721Z" fill="#8c93a1"></path><path id="Path_255" data-name="Path 255" d="M150.718,262.616a9.895,9.895,0,1,1,9.894-9.9A9.9,9.9,0,0,1,150.718,262.616Z" fill="#5a6271" opacity="0.6"></path><path class="eye" id="Path_256" data-name="Path 256" d="M141.833,253.735a9.895,9.895,0,0,1,16.368-7.484A9.892,9.892,0,1,0,144.247,260.2,9.843,9.843,0,0,1,141.833,253.735Z" fill="#5a6271" opacity="0.6"></path><path class="eye" id="Path_257" data-name="Path 257" d="M150.718,257.606a4.885,4.885,0,1,1,4.885-4.885A4.888,4.888,0,0,1,150.718,257.606Z" fill="#5a6271"></path><path class="eye" id="Path_259" data-name="Path 259" d="M157.45,251.192c-.937.937-2.879.517-4.336-.94s-1.879-3.4-.942-4.335,2.879-.516,4.337.941S158.385,250.256,157.45,251.192Z" fill="#f3f3f3" opacity="0.5"></path><path id="Path_260" data-name="Path 260" d="M160.6,267.028l7.219,7.22a3.055,3.055,0,0,0,4.3-4.3l-7.219-7.219Z" fill="#5a6271"></path></g></g></svg></div>',1),qe={class:"flex justify-center gap-x-4"},Ue=["onClick"],Oe={key:0,class:"w-full max-lg:w-full"},Ye={key:1,class:"w-6/12 max-lg:w-full"},Ie={class:"w-6/12 max-lg:w-full flex flex-col gap-y-2"},Ge={class:"text-md dark:text-white tracking-wider"},We=["value"],Je={class:"w-6/12 max-lg:w-full flex flex-col gap-y-2"},Ke={class:"text-md dark:text-white tracking-wider"},Qe=["value"],Xe={class:"w-6/12 max-lg:w-full flex flex-col gap-y-2 border p-2 rounded-lg"},t1={class:"text-md dark:text-white tracking-wider text-center"},e1=["for"],a1={key:0,class:"cursor-pointer"},s1={class:"ml-10"},l1={class:"w-6/12 max-lg:w-full text-black"},o1={class:"w-6/12 max-lg:w-full flex flex-col gap-y-2 rounded-lg border"},n1={class:"text-center tracking-widest pt-4 pb-10"},i1={class:"dark:text-white"},r1={class:"text-gray-300"},d1={class:"text-center"},c1={class:"text-md dark:text-white tracking-wider mb-2"},u1=D({__name:"TasksContent",props:{showTask:{type:Boolean,default:!1},changeInfo:{type:Boolean,default:!1},showConfirm:{type:Boolean,default:!1},showCreate:{type:Boolean,default:!1},task_info:{type:Object,required:!0,default:()=>{}},taskChecked:{type:String,default:"list"}},setup(e){const l=I(),r=U(),w=ut(),m=H("UTC"),n=H({title:"",description:"",deadline:"",author_file_file:"",performers:[],department:{},participants:[],worth:0,main_performer_id:{},performer_file:""}),u={page:1,limit:5,query:"",task_type:"task-list"},$=H([]);function j(){const f=n.value.department;w.loadDepartment({id:f.id})}function C(){w.loadDepartmentList(),n.value.department=w.get_department,n.value.participants=w.get_department.participants.map(f=>{var d;f.value=((d=n.value.participants)==null?void 0:d.filter(x=>x.id==f.id).length)!=0})}function S(){(n==null?void 0:n.value.deadline)===""&&bt.error("Укажите срок",{theme:"auto",autoClose:1500})}function _(f){var d,x;f==="<"?Number(u.page)>1&&(u.page-=1):f===">"?Number(u.page)<((d=r.task)==null?void 0:d.number_of_pages)&&(u.page=Number(u.page)+1):Number(f)<=((x=r.task)==null?void 0:x.number_of_pages)&&(u.page=Number(f)),window.innerWidth>1e3?window.scrollTo({top:600}):window.innerWidth<1e3?window.scrollTo({top:895}):window.scrollTo()}return mt(()=>{ft({params:{page:u.page}})}),gt(()=>{var x;r.loadTasksLists({page:u.page,limit:u.limit,query:u.query}),r.loadTasksStats({task_filter:u.task_type});const f=w.current_department.participants,d=(x=l.user)==null?void 0:x.id;f&&d&&($.value=f.filter(A=>A.id!==d))}),(f,d)=>{var x,A,G,W;return c(),g(L,null,[t("div",He,[t("form",{onSubmit:d[2]||(d[2]=K(()=>{},["prevent"]))},[t("h3",Be,o(f.$t("Поиск по заданиям")),1),t("div",De,[i(vt,{class:"w-8/12 max-lg:w-6/12 max-md:w-full","model-value":u.query,"onUpdate:modelValue":d[0]||(d[0]=h=>u.query=h),onSearch:d[1]||(d[1]=h=>s(r).loadTasksLists({...u,query:u.query}))},null,8,["model-value"]),i(ye)])],32),s(r).get_tasks.results?(c(),g("div",je,[t("div",Ne,[t("button",{class:v(["p-2 rounded-xl text-black dark:text-white tracking-widest font-bold",{"bg-blueDarkSemiLight text-white":e.taskChecked==="task-list"}]),onClick:d[3]||(d[3]=h=>{e.taskChecked="task-list",s(r).loadTasksLists({page:1,limit:u.limit}),console.log(e.taskChecked),s(r).loadTasksStats({task_filter:`tasks_filter=${e.taskChecked}`})})},o(f.$t("Общее")),3),t("button",{class:v(["p-2 rounded-xl text-black dark:text-white tracking-widest font-bold",{"bg-blueDarkSemiLight text-white":e.taskChecked==="to-me"}]),onClick:d[4]||(d[4]=h=>{e.taskChecked="to-me",s(r).loadTasksLists({page:1,limit:u.limit}),console.log(e.taskChecked),s(r).loadTasksStats({task_filter:`tasks_filter=${e.taskChecked}`})})},o(f.$t("Для Меня")),3),t("button",{class:v(["p-2 rounded-xl text-black dark:text-white tracking-widest font-bold",{"bg-blueDarkSemiLight text-white":e.taskChecked==="from-me"}]),onClick:d[5]||(d[5]=h=>{e.taskChecked="from-me",s(r).loadTasksLists({page:1,limit:u.limit}),console.log(e.taskChecked),s(r).loadTasksStats({task_filter:`tasks_filter=${e.taskChecked}`})})},o(f.$t("От Меня")),3),t("button",{class:"bg-blue-400 px-4 rounded-full text-white font-bold tracking-widest max-md:py-2 active:scale-95 transition-all duration-200",onClick:d[6]||(d[6]=h=>{e.showCreate=!0,C()})},o(f.$t("Создать задание")),1)]),u.query===""?(c(!0),g(L,{key:0},T((x=s(r))==null?void 0:x.get_tasks.results,h=>(c(),B(it,{task:h},null,8,["task"]))),256)):b("",!0),u.query!==""?(c(!0),g(L,{key:1},T((A=s(r))==null?void 0:A.get_search_task.results,h=>(c(),B(it,{task:h},null,8,["task"]))),256)):b("",!0)])):(c(),g("div",Pe,[(G=s(l).user.permissions)!=null&&G.find(h=>h.name_en==="task.create")?(c(),g("div",ze,[t("div",Ae,[(c(),g(L,null,T(3,h=>i(V,{"border-radius":"5px",width:"100px",height:"20px"})),64))]),i(V,{"border-radius":"10px",width:"150px",height:"30px"})])):b("",!0),t("div",Fe,[(c(),g(L,null,T(5,h=>i(V,{class:"opacity-50","border-radius":"5px",width:"92%",height:"120px"})),64))])])),((W=s(r))==null?void 0:W.get_tasks.count)===0?(c(),g("div",Ze,[t("p",Re,o(f.$t("Ничего не найдено")),1),Ee])):b("",!0)]),t("div",qe,[s(r).get_tasks.count>5?(c(!0),g(L,{key:0},T(s(r).get_tasks.links,(h,k)=>(c(),g("div",{key:k,class:v(["px-4 py-2 rounded-full cursor-pointer",{"bg-blue-400 text-white":h.active,"bg-gray-200 text-black hover:bg-blue-400 hover:text-white transition-all":!h.active}]),onClick:F=>{_(h.label),s(r).loadTasksLists({page:u.page,limit:u.limit,query:u.query})}},o(h.label),11,Ue))),128)):b("",!0)]),e.showCreate?(c(),B(rt,{key:0,onShowModal:d[17]||(d[17]=h=>{e.showCreate=!e.showCreate,e.showCreate?s(n):s(n).description=""})},{default:a(()=>[t("div",null,[i(yt,null,{default:a(()=>[p(o(f.$t("Создание задания")),1)]),_:1}),t("form",{onSubmit:d[16]||(d[16]=K(h=>{var k;s(r).create_task({...s(n),performers:(k=s($))==null?void 0:k.filter(F=>F.value).map(F=>F.id)}),e.showCreate=!1},["prevent"]))},[i(N,null,{default:a(()=>[s(l).user.role_en==="department_director"||s(l).user.role_en==="vice_department_director"?(c(),g("div",Oe,[i(R,{type:"text",label:f.$t("Заголовок"),modelValue:s(n).title,"onUpdate:modelValue":d[7]||(d[7]=h=>s(n).title=h)},null,8,["label","modelValue"])])):(c(),g("div",Ye,[i(R,{type:"text",label:f.$t("Заголовок"),modelValue:s(n).title,"onUpdate:modelValue":d[8]||(d[8]=h=>s(n).title=h)},null,8,["label","modelValue"])])),t("div",Ie,[t("p",Ge,o(f.$t("Отдел")),1),Q(t("select",{type:"text","onUpdate:modelValue":d[9]||(d[9]=h=>s(n).department=h),class:"w-full text-black rounded-lg p-2.5 border dark:bg-gray-300 dark:border-none outline-semiCyan outline-1",onChange:j},[(c(!0),g(L,null,T(s(w).get_all_department.results,h=>(c(),g("option",{value:h},o(h.name),9,We))),256))],544),[[X,s(n).department]])])]),_:1}),i(N,null,{default:a(()=>{var h;return[t("div",Je,[t("p",Ke,o(f.$t("Ответственный")),1),Q(t("select",{type:"text","onUpdate:modelValue":d[10]||(d[10]=k=>s(n).main_performer_id=k),class:"w-full text-black rounded-lg p-2.5 border dark:bg-gray-300 dark:border-none outline-semiCyan outline-1"},[(c(!0),g(L,null,T(s($),k=>(c(),g("option",{value:k==null?void 0:k.id,key:k==null?void 0:k.id},o(k.first_name+" "+k.last_name),9,Qe))),128))],512),[[X,s(n).main_performer_id]])]),t("div",Xe,[t("p",t1,o(f.$t("Исполнители")),1),(c(!0),g(L,null,T((h=s(w).current_department)==null?void 0:h.participants,k=>(c(),g("div",{for:"checkbox-"+(k==null?void 0:k.id)},[k.id!==s(l).user.id?(c(),g("label",a1,[i($t,{item:k,id:"checkbox-"+(k==null?void 0:k.id)},null,8,["item","id"]),t("span",s1,o(k.first_name+" "+k.last_name),1)])):b("",!0)],8,e1))),256))])]}),_:1}),i(N,null,{default:a(()=>[t("div",l1,[i(R,{type:"textarea",label:f.$t("Описание задания"),modelValue:s(n).description,"onUpdate:modelValue":d[11]||(d[11]=h=>s(n).description=h)},null,8,["label","modelValue"])]),t("div",o1,[t("div",n1,[t("h2",i1,o(f.$t("Прикрепите файлы к заданию")),1),t("h2",r1,"("+o(f.$t("не обязательно"))+")",1)]),i(R,{class:"",type:"file",id:"upload-file",onInput:d[12]||(d[12]=h=>s(n).author_file_file=h.target.files)})])]),_:1}),i(N,null,{default:a(()=>[t("div",d1,[t("p",c1,o(f.$t("Срок до")),1),i(s(dt),{modelValue:s(n).deadline,"onUpdate:modelValue":d[13]||(d[13]=h=>s(n).deadline=h),"select-text":f.$t("Выбрать"),"min-date":new Date,timezone:s(m),"cancel-text":f.$t("Отменить"),placeholder:"Start Typing ...","text-input":"",class:"w-full rounded-lg p-2 dark:border-none outline-semiCyan outline-1","auto-apply":"",inline:"","multi-calendars-solo":""},null,8,["modelValue","select-text","min-date","timezone","cancel-text"])])]),_:1}),i(N,null,{default:a(()=>[i(P,{class:"py-2 px-6 rounded-full",t:"button",type:"danger",onClick:d[14]||(d[14]=h=>e.showCreate=!1)},{default:a(()=>[p(o(f.$t("Отменить")),1)]),_:1}),i(P,{class:"py-2 px-6 rounded-full",t:"submit",type:"success",onClick:d[15]||(d[15]=h=>S())},{default:a(()=>[p(o(f.$t("Создать")),1)]),_:1})]),_:1})],32)])]),_:1})):b("",!0)],64)}}}),h1={},m1={class:"dark:bg-gray-400 dark:hover:bg-gray-300 border dark:border-none dark:shadow-none shadow-md hover:bg-gray-100 transition-all cursor-pointer w-full p-4 my-4 rounded-lg"},f1=t("p",{class:"text-sm font-bold"},"Наименование",-1),g1={class:"text-center"},p1=t("p",null,"Дата",-1),w1=t("div",{class:"mt-4"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur, id? ",-1);function k1(e,l){const r=ct;return c(),g("div",m1,[i(r,{to:"/",class:"flex justify-between tracking-widest"},{default:a(()=>[f1,t("div",g1,[p1,t("p",null,o(new Date().toLocaleDateString()),1)])]),_:1}),w1])}const x1=z(h1,[["render",k1]]),v1={name:"TasksNotification",components:{TheNotificationContent:x1}},b1={class:"text-center text-xl dark:text-white font-bold tracking-wider"};function y1(e,l,r,w,m,n){const u=wt("TheNotificationContent");return c(),g("div",null,[t("h3",b1,o(e.$t("Уведомления о заданиях")),1),t("div",null,[i(u)])])}const $1=z(v1,[["render",y1]]),_1={class:"flex items-center gap-4 justify-between max-[680px]:flex-col max-[680px]:items-start max-[680px]:gap-5"},C1={class:"dark:text-white text-3xl font-bold"},S1={class:"mt-8 flex max-[1170px]:flex-col max-lg:items-center justify-between"},L1={class:"flex flex-col w-full max-xl:flex-wrap gap-y-10 max-xl:items-center"},T1={class:"w-full mx-auto"},M1={class:"w-full"},V1={class:"flex flex-col w-4/12 max-[1170px]:w-full gap-y-10"},H1={key:1,class:"text-2xl break-words dark:text-white tracking-widest text-center"},B1={class:"dark:border dark:border-gray-500 dark:shadow-md dark:shadow-gray-500 shadow-2xl rounded-lg p-4 w-full"},Q1=D({__name:"index",setup(e){const l=U();st.register(_t,Ct,St),st.defaults.color="#b6b6b6";const r={completed:{label:"Выполненые",color:"#41B883"},performing:{label:"В процессе",color:"#E46651"},watching:{label:"На рассмотрении",color:"#3b82f6"},rejected:{label:"Отмененные",color:"#DD1B16"},returned:{label:"Возвращенные",color:"#FFA500"},expired:{label:"Истёкшие",color:"#808080"}},w=tt(()=>{const C=[],S=[],_=[],f=l==null?void 0:l.stats;return Array.isArray(f)&&f.forEach(d=>{const x=r[d.status];x&&(C.push(x.label),S.push(d.count),_.push(x.color))}),{labels:C,data:S,backgroundColor:_}}),m=tt(()=>({labels:w.value.labels,datasets:[{backgroundColor:w.value.backgroundColor,data:w.value.data}]})),n=H({responsive:!0,maintainAspectRatio:!1}),u=kt(),$=I(),j=ut();return et(()=>$.user,C=>{var S,_;((_=(S=$==null?void 0:$.user)==null?void 0:S.role)==null?void 0:_.name_en)==="admin"&&(window.history.length>1?u.push("/base/profile"):u.push("/"))}),et(()=>j.company,C=>{var _;((_=j.company.modules)==null?void 0:_.find(f=>f.name_en==="tasks"))||(window.history.length>1?u.push("/base/profile"):u.push("/"))}),xt({title:"Задания",description:"Страница с заданиями пользователей платформы"}),(C,S)=>(c(),g("div",null,[t("div",_1,[t("p",C1,o(C.$t("Задания")),1)]),t("div",S1,[t("div",L1,[t("div",T1,[i(At)]),t("div",M1,[i(s(u1))])]),t("div",V1,[s(m).datasets[0].data[0]!=null?(c(),g("div",{key:0,class:v(["dark:border dark:border-gray-500 dark:shadow-md dark:shadow-gray-500 shadow-2xl rounded-lg p-4 w-full bg-blue-5",{"h-[400px]":s(l).get_tasks.count>0}])},[s(l).get_tasks.count>0?(c(),B(s(Lt),{key:0,class:"tracking-wider cursor-pointer",data:s(m),options:s(n)},null,8,["data","options"])):(c(),g("p",H1,o(C.$t("Статистика отсутствует")),1))],2)):b("",!0),t("div",B1,[i($1,{class:""})])])])]))}});export{Q1 as default};
