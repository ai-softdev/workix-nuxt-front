import{_ as B}from"./TheButton.vue.CfQsQbrj.js";import{u as S}from"./index.CPkfy7ml.js";import{u as H}from"./companies.C24PrRp1.js";import{g as N,m as T,l as x,Y as W,A as z,z as F,o as i,c as u,b as d,w as m,a as e,t as n,h as o,F as v,r as k,j as V,i as M,d as p}from"./entry.BZGj2_QE.js";import{_ as j}from"./TheTextContent.vue.AymrMYI2.js";import{_ as $}from"./TheBreadcrumbs.vue.Btpr_46o.js";import{_ as E}from"./TheModal.vue.BmiMYGjH.js";import{T as D}from"./TheCheckbox.6Ykb7QaG.js";import{_ as f}from"./TheInput.vue.CDBIiN4b.js";import"./nuxt-storage.B0R7N1yK.js";import"./nuxt-link.C5n4ipTb.js";import"./chat.DLvRAzeF.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const I={class:"flex items-center gap-x-4"},L=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),R={class:"flex items-start gap-10 w-full max-md:flex-col"},Y={class:"flex flex-col gap-4 mt-10 w-8/12 max-md:w-full"},q={class:"flex flex-col gap-2"},G={class:"flex flex-col gap-2"},J={class:"flex flex-col gap-2"},K={class:"flex flex-col gap-2"},O={class:"bg-bgWhite p-3 rounded-lg flex flex-col gap-3 items-start"},P={class:"bg-bgWhite p-3 w-full border rounded-lg"},Q={class:"flex flex-col gap-2 w-4/12 max-md:w-full"},X={class:"flex flex-col gap-3 bg-bgWhite p-3 rounded-lg max-h-[400px] min-h-[400px] h-full overflow-y-scroll"},Z={class:"bg-bgWhite p-3 w-full border rounded-lg"},ee={class:"flex flex-col gap-2 min-h-[400px] min-w-[400px] max-md:min-w-full"},le={class:"grid grid-cols-2 gap-3 max-md:grid-cols-1"},oe={class:"bg-[#8881] p-3 w-full border rounded-lg"},ae={class:"flex flex-col gap-5"},te=e("p",null," Создание администратора: ",-1),se={class:"flex items-center gap-5 max-md:flex-col"},de={class:"grid grid-cols-2 items-center gap-5 max-md:grid-cols-1"},we=N({__name:"[id]",setup(ne){const g=T(),t=H(),b=x(!1),h=x(!1),_=x([]);let s=x({email:"",password:"",first_name:"",last_name:"",patronymic:"",phone:"",company_id:""});const y=()=>{b.value=!b.value},w=()=>{h.value=!h.value},U=()=>{y();let r=[];_.value.forEach(l=>{l.value&&r.push(l.id)}),t.editModules({id:g.params.id,data:r})},A=()=>{w(),s.value.company_id=g.params.id,t.createAdministrator({data:s.value,company_id:g.params.id})};return W(()=>{t.loadCompany({id:g.params.id}),t.loadModules(),t.loadCompanyAdministrators({company_id:g.params.id})}),z(()=>t.modules,r=>{_.value=[],t.modules.forEach(l=>{const c=t.company.modules.some(a=>a.id===l.id);_.value.push({...l,value:c})})}),F(()=>{S({title:`${t.company.name}`})}),(r,l)=>{const c=B;return i(),u("div",null,[d(j,null,{default:m(()=>[p(n(r.$t("Страница компании "+o(t).company.name)),1)]),_:1}),e("div",null,[e("div",I,[d($,{"breadcrumb-link":"/base/companies"},{default:m(()=>[p(n(r.$t("Список компаний")),1)]),_:1}),L,d($,null,{default:m(()=>[p(n(o(t).company.name),1)]),_:1})]),e("div",R,[e("div",Y,[e("div",q,[e("p",null,n(r.$t("Описание"))+": ",1),e("p",null,n(o(t).company.description),1)]),e("div",G,[e("p",null,n(r.$t("Email"))+": ",1),e("p",null,n(o(t).company.email),1)]),e("div",J,[e("p",null,n(r.$t("Адрес"))+": ",1),e("p",null,n(o(t).company.address),1)]),e("div",K,[e("p",null,n(r.$t("Администраторы компании"))+": ",1),e("div",O,[d(c,{onClick:w,class:"mb-2 border p-3 rounded-lg !text-black dark:!text-white"},{default:m(()=>[p(" Добавить ")]),_:1}),(i(!0),u(v,null,k(o(t).company_administrators,(a,C)=>(i(),u("div",P,n(a.last_name+" "+a.first_name),1))),256))])])]),e("div",Q,[e("p",null,n(r.$t("Модули компании"))+": ",1),e("div",X,[d(c,{onClick:y,class:"mb-2 border p-3 rounded-lg !text-black dark:!text-white"},{default:m(()=>[p(" Изменить ")]),_:1}),(i(!0),u(v,null,k(o(t).company.modules,(a,C)=>(i(),u("div",Z,n(a.name),1))),256))])])])]),o(b)?(i(),V(E,{key:0,type:"resize",onShowModal:l[0]||(l[0]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:y}," x "),e("div",ee,[e("p",null,n(r.$t("Модули"))+": ",1),e("div",le,[(i(!0),u(v,null,k(o(_),(a,C)=>(i(),u("div",oe,[d(D,{item:a},null,8,["item"])]))),256))]),d(c,{class:"mt-2 !text-black dark:!text-white",onClick:U},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):M("",!0),o(h)?(i(),V(E,{key:1,type:"resize",onShowModal:l[7]||(l[7]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:w}," x "),e("div",ae,[te,e("div",se,[d(f,{type:"default",modelValue:o(s).first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>o(s).first_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Имя"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>o(s).last_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Фамилия"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).patronymic,"onUpdate:modelValue":l[3]||(l[3]=a=>o(s).patronymic=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Отчество"},null,8,["modelValue"])]),e("div",de,[d(f,{type:"default",modelValue:o(s).email,"onUpdate:modelValue":l[4]||(l[4]=a=>o(s).email=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Email"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).password,"onUpdate:modelValue":l[5]||(l[5]=a=>o(s).password=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Пароль"},null,8,["modelValue"])]),d(f,{type:"default",modelValue:o(s).phone,"onUpdate:modelValue":l[6]||(l[6]=a=>o(s).phone=a),class:"w-[300px] max-md:w-full mx-auto bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Номер телефона"},null,8,["modelValue"]),d(c,{class:"mt-2 !text-black dark:!text-white",onClick:A},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):M("",!0)])}}});export{we as default};
