import{u as y}from"./index.By-J5lve.js";import{_ as h}from"./TheBreadcrumbs.vue.CBKoY9B2.js";import{u as M}from"./companies.G-4xUp2n.js";import{b as H}from"./entry.Kdv0KleE.js";import{T as B}from"./TheContentBlock.C0O3sXrE.js";import{_ as T}from"./TheSearch.vue.CMnXhBnJ.js";import{_ as j}from"./TheFilter.vue.Cqw2qr7q.js";import{_ as I}from"./nuxt-link.DtXiMpLJ.js";import{u as S}from"./auth.BJv2j0Pe.js";import{j as C,N as i,O as u,L as s,V as r,Z as e,_ as t,u as m,a4 as b,w as N,a8 as V,$ as c,P as k,J as v,a2 as $}from"./swiper-vue.yO-n0JsZ.js";import{_ as g}from"./TheTextContent.vue.DJ99356g.js";import{_ as x}from"./TheButton.vue.CFt3tlIY.js";import{_ as W}from"./TheModal.vue.CfyleZWN.js";import{T as D}from"./TheSceleton.DY-nho8N.js";import"./nuxt-storage.CgJyI38a.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const L={class:"my-6"},U={class:"flex items-center gap-x-4 w-3/12 max-lg:w-full max-lg:x-mx-auto"},E=["src"],O={class:"tracking-widest font-bold max-xl:text-center"},Z={class:"flex flex-col items-center justify-center w-5/12 max-lg:w-full mx-auto"},q={key:0,class:"text-lg font-bold tracking-widest mb-2"},A={key:1,class:"text-lg font-bold tracking-widest mb-2"},F={class:"text-center flex flex-col gap-y-2"},G={key:0,class:"tracking-widest text-sm text-gray-600"},J={class:"tracking-widest text-md"},P={class:"w-2/12 max-[1241px]:w-full max-lg:x-mx-auto text-center"},R={class:"tracking-widest font-bold"},z=C({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(a){const o=S();return(p,n)=>{const l=I;return i(),u("div",L,[s(l,{to:`/base/users/${a.userItem.id}`,class:"transition-all shadow-md hover:shadow-lg border dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-4 rounded-lg flex max-[1241px]:flex-col max-[1241px]:gap-y-4 justify-between items-center cursor-pointer"},{default:r(()=>{var f,_;return[e("div",U,[e("img",{class:"w-14 h-14 rounded-full",src:a.userItem.photo_url,alt:""},null,8,E),e("h2",O,t(a.userItem.first_name+" "+a.userItem.last_name),1)]),e("div",Z,[((f=m(o).user.role)==null?void 0:f.name_en)==="admin"?(i(),u("p",q,t(p.$t("Роль | Должность")),1)):(i(),u("p",A,t(p.$t("Должность")),1)),e("div",F,[((_=m(o).user.role)==null?void 0:_.name_en)==="admin"?(i(),u("h2",G,"("+t(a.userItem.role)+")",1)):b("",!0),e("h2",J,t(a.userItem.position),1)])]),e("div",P,[e("h2",R,t(p.$t("Дата регистрации")),1)])]}),_:1},8,["to"])])}}}),K={class:"mb-10"},Q={class:"text-base text-white bg-blueSemiLight py-2 px-4 rounded-full"},X={class:"flex items-center gap-x-4"},Y=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),ee=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),te={class:"flex items-center gap-x-10"},se={class:"flex items-center w-11/12 gap-x-10"},ae={class:"text-center text-lg mt-2 tracking-widest"},oe={class:"!text-base"},ne={class:"flex justify-center gap-x-10 mt-10"},re={class:"flex gap-x-10 w-full"},ie={key:0,class:"flex w-full gap-y-4 flex-col"},le={key:1,class:"w-full"},de={class:"w-3/12"},ce={class:"flex items-center my-4 gap-x-5 justify-center"},me={class:"flex items-center gap-x-2 w-8/12 max-md:w-9/12"},ue=e("div",null,[e("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-v-inspector":"components/TheHeader.vue:26:11"},[e("g",{id:"User / Users_Group","data-v-inspector":"components/TheHeader.vue:27:13"},[e("path",{id:"Vector",class:"dark:stroke-white stroke-black",d:"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round","data-v-inspector":"components/TheHeader.vue:28:15"})])])],-1),pe={class:"tracking-widest"},fe={class:"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white"},Ie=C({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(a){const o=M(),p=H();return N(()=>{o.loadDepartment({id:p.params.id})}),V(()=>{y({title:`${o.current_department.name}`})}),(n,l)=>{var f,_,w;return i(),u("div",null,[e("div",K,[s(g,{"text-type":"pageTitle"},{default:r(()=>[c(t(n.$t("Департамент"))+" ",1),e("span",Q,t(m(o).get_department.name),1)]),_:1})]),e("div",X,[s(h,{"breadcrumb-link":"/base/companies"},{default:r(()=>[c(t(n.$t("Компания")),1)]),_:1}),Y,s(h,{"breadcrumb-link":"/base/companies/department"},{default:r(()=>[c(t(n.$t("Департаменты")),1)]),_:1}),ee,s(h,null,{default:r(()=>[c(t(m(o).get_department.name),1)]),_:1})]),e("div",te,[e("div",se,[s(T,{class:"w-7/12"}),s(j)]),s(x,{type:"danger",class:"px-10 py-2 rounded-full",onClick:l[0]||(l[0]=d=>a.showWarning=!0)},{default:r(()=>[c(t(n.$t("Удалить")),1)]),_:1}),a.showWarning?(i(),k(W,{key:0,onShowModal:l[3]||(l[3]=d=>a.showWarning=!a.showWarning)},{default:r(()=>[e("div",null,[s(g,null,{default:r(()=>[c(t(n.$t("Предупреждение")),1)]),_:1}),e("div",ae,[e("p",null,t(n.$t("Вы действительно хотите удалить департамент?")),1),e("p",oe,t(n.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",ne,[s(x,{type:"danger",class:"w-3/12 py-2 rounded-full",onClick:l[1]||(l[1]=d=>a.showWarning=!1)},{default:r(()=>[c(t(n.$t("Отмена")),1)]),_:1}),s(x,{type:"success",class:"w-3/12 py-2 rounded-full",onClick:l[2]||(l[2]=d=>m(o).deleteDepartment({id:m(o).get_department.id},n.$router))},{default:r(()=>[c(t(n.$t("Удалить")),1)]),_:1})])]),_:1})):b("",!0)]),e("div",re,[(f=m(o).get_department)!=null&&f.id?(i(),u("div",le,[(i(!0),u(v,null,$((w=(_=m(o))==null?void 0:_.get_department)==null?void 0:w.participants,d=>(i(),k(z,{"user-item":d},null,8,["user-item"]))),256))])):(i(),u("div",ie,[(i(),u(v,null,$(5,d=>s(D,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",de,[s(B,{class:"w-full"},{default:r(()=>{var d;return[s(g,null,{default:r(()=>[c("Информация")]),_:1}),e("div",null,[e("div",ce,[e("div",me,[ue,e("p",pe,t(n.$t("Сотрудников"))+": ",1)]),e("div",null,[e("p",fe,t((d=m(o).get_department.participants)==null?void 0:d.length),1)])])])]}),_:1})])])])}}});export{Ie as default};
