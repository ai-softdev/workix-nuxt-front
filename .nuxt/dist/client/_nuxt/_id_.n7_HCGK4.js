import{_ as A}from"./TheButton.vue.BPqHQAbu.js";import{u as N}from"./index.Bl7cimqR.js";import{u as S}from"./companies.BXY7TDc9.js";import{b as H}from"./entry.CcuKnY4i.js";import{_ as T}from"./TheTextContent.vue.DaILusXJ.js";import{_ as V}from"./TheBreadcrumbs.vue.DyQI9jGR.js";import{_ as M}from"./TheModal.vue.CraCkhhf.js";import{T as W}from"./TheCheckbox.CEEKMQhS.js";import{_ as f}from"./TheInput.vue.serkzXMq.js";import{j as z,a as x,w as F,b as L,a8 as j,N as i,O as u,L as d,V as m,$ as p,_ as n,u as o,Z as e,J as v,a2 as C,P as $,a4 as E}from"./swiper-vue.C62siAhS.js";import"./nuxt-storage.gLjAmBiV.js";import"./nuxt-link.MGq7Nty_.js";import"./chat.DtFqkyjh.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const D={class:"flex items-center gap-x-4"},I=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),J={class:"flex items-start gap-10 w-full max-md:flex-col"},O={class:"flex flex-col gap-4 mt-10 w-8/12 max-md:w-full"},P={class:"flex flex-col gap-2"},R={class:"flex flex-col gap-2"},Z={class:"flex flex-col gap-2"},q={class:"flex flex-col gap-2"},G={class:"bg-bgWhite p-3 rounded-lg flex flex-col gap-3 items-start"},K={class:"bg-bgWhite p-3 w-full border rounded-lg"},Q={class:"flex flex-col gap-2 w-4/12 max-md:w-full"},X={class:"flex flex-col gap-3 bg-bgWhite p-3 rounded-lg max-h-[400px] min-h-[400px] h-full overflow-y-scroll"},Y={class:"bg-bgWhite p-3 w-full border rounded-lg"},ee={class:"flex flex-col gap-2 min-h-[400px] min-w-[400px] max-md:min-w-full"},le={class:"grid grid-cols-2 gap-3 max-md:grid-cols-1"},oe={class:"bg-[#8881] p-3 w-full border rounded-lg"},ae={class:"flex flex-col gap-5"},te=e("p",null," Создание администратора: ",-1),se={class:"flex items-center gap-5 max-md:flex-col"},de={class:"grid grid-cols-2 items-center gap-5 max-md:grid-cols-1"},ve=z({__name:"[id]",setup(ne){const g=H(),t=S(),b=x(!1),h=x(!1),_=x([]);let s=x({email:"",password:"",first_name:"",last_name:"",patronymic:"",phone:"",company_id:""});const y=()=>{b.value=!b.value},w=()=>{h.value=!h.value},U=()=>{y();let r=[];_.value.forEach(l=>{l.value&&r.push(l.id)}),t.editModules({id:g.params.id,data:r})},B=()=>{w(),s.value.company_id=g.params.id,t.createAdministrator({data:s.value,company_id:g.params.id})};return F(()=>{t.loadCompany({id:g.params.id}),t.loadModules(),t.loadCompanyAdministrators({company_id:g.params.id})}),L(()=>t.modules,r=>{_.value=[],t.modules.forEach(l=>{const c=t.company.modules.some(a=>a.id===l.id);_.value.push({...l,value:c})})}),j(()=>{N({title:`${t.company.name}`})}),(r,l)=>{const c=A;return i(),u("div",null,[d(T,null,{default:m(()=>[p(n(r.$t("Страница компании "+o(t).company.name)),1)]),_:1}),e("div",null,[e("div",D,[d(V,{"breadcrumb-link":"/base/companies"},{default:m(()=>[p(n(r.$t("Список компаний")),1)]),_:1}),I,d(V,null,{default:m(()=>[p(n(o(t).company.name),1)]),_:1})]),e("div",J,[e("div",O,[e("div",P,[e("p",null,n(r.$t("Описание"))+": ",1),e("p",null,n(o(t).company.description),1)]),e("div",R,[e("p",null,n(r.$t("Email"))+": ",1),e("p",null,n(o(t).company.email),1)]),e("div",Z,[e("p",null,n(r.$t("Адрес"))+": ",1),e("p",null,n(o(t).company.address),1)]),e("div",q,[e("p",null,n(r.$t("Администраторы компании"))+": ",1),e("div",G,[d(c,{onClick:w,class:"mb-2 border p-3 rounded-lg !text-black dark:!text-white"},{default:m(()=>[p(" Добавить ")]),_:1}),(i(!0),u(v,null,C(o(t).company_administrators,(a,k)=>(i(),u("div",K,n(a.last_name+" "+a.first_name),1))),256))])])]),e("div",Q,[e("p",null,n(r.$t("Модули компании"))+": ",1),e("div",X,[d(c,{onClick:y,class:"mb-2 border p-3 rounded-lg !text-black dark:!text-white"},{default:m(()=>[p(" Изменить ")]),_:1}),(i(!0),u(v,null,C(o(t).company.modules,(a,k)=>(i(),u("div",Y,n(a.name),1))),256))])])])]),o(b)?(i(),$(M,{key:0,type:"resize",onShowModal:l[0]||(l[0]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:y}," x "),e("div",ee,[e("p",null,n(r.$t("Модули"))+": ",1),e("div",le,[(i(!0),u(v,null,C(o(_),(a,k)=>(i(),u("div",oe,[d(W,{item:a},null,8,["item"])]))),256))]),d(c,{class:"mt-2",onClick:U},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):E("",!0),o(h)?(i(),$(M,{key:1,type:"resize",onShowModal:l[7]||(l[7]=()=>{})},{default:m(()=>[e("button",{class:"absolute top-3 right-3",onClick:w}," x "),e("div",ae,[te,e("div",se,[d(f,{type:"default",modelValue:o(s).first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>o(s).first_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Имя"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>o(s).last_name=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Фамилия"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).patronymic,"onUpdate:modelValue":l[3]||(l[3]=a=>o(s).patronymic=a),class:"bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none max-md:w-full",placeholder:"Отчество"},null,8,["modelValue"])]),e("div",de,[d(f,{type:"default",modelValue:o(s).email,"onUpdate:modelValue":l[4]||(l[4]=a=>o(s).email=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Email"},null,8,["modelValue"]),d(f,{type:"default",modelValue:o(s).password,"onUpdate:modelValue":l[5]||(l[5]=a=>o(s).password=a),class:"w-full bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Пароль"},null,8,["modelValue"])]),d(f,{type:"default",modelValue:o(s).phone,"onUpdate:modelValue":l[6]||(l[6]=a=>o(s).phone=a),class:"w-[300px] max-md:w-full mx-auto bg-transparent bg-opacity-0 rounded-lg border-2 border-semiCyan outline-none",placeholder:"Номер телефона"},null,8,["modelValue"]),d(c,{class:"mt-2",onClick:B},{default:m(()=>[p(" Сохранить ")]),_:1})])]),_:1})):E("",!0)])}}});export{ve as default};
