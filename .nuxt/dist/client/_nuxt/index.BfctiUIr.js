import{c as M,e as V}from"./entry.CcBVENWO.js";import{u as j}from"./index.CkS6sOlh.js";import{j as w,N as o,O as i,Z as e,_ as s,u as m,a as B,L as r,V as c,$ as u,P as $,a6 as H,a4 as y,b as T,J as C,a2 as g}from"./swiper-vue.yO-n0JsZ.js";import{_ as h}from"./TheButton.vue.Durdm0Er.js";import{_ as I}from"./TheModal.vue.CfyleZWN.js";import{_ as b}from"./TheTextContent.vue.DJ99356g.js";import{u as L}from"./companies.eNgPn44f.js";import{T as S}from"./TaskContentCreateElems.DXjP9QQP.js";import{_ as D}from"./TheInput.vue.7qlRdbvh.js";import{u as k}from"./auth.rl7qtudn.js";import{_ as Z}from"./TheSearch.vue.CMnXhBnJ.js";import{_ as N}from"./TheFilter.vue.DVrdzqdE.js";import{_ as v}from"./TheBreadcrumbs.vue.CtpZLPGf.js";import{T as E}from"./TheContentBlock.C0O3sXrE.js";import{T as F}from"./TheSceleton.CySnKxtt.js";import{u as O}from"./chat.rJ66r__R.js";import"./nuxt-storage.CgJyI38a.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";import"./nuxt-link.SnOP0Svj.js";const R={class:"p-2 max-sm:w-full flex max-sm:block"},U={class:"items-center gap-x-4 max-lg:w-full max-md:justify-center tracking-widest text-lg max-sm:w-full max-sm:text-center"},J={class:"text-center flex h-full justify-center gap-x-10 mt-4 break-words"},P={class:"flex flex-col items-center max-lg:w-6/12 max-sm:w-full"},q={class:"tracking-widest text-sm dark:text-gray-400"},z={key:0,class:"mt-2"},A={key:1,class:""},G=e("svg",{class:"dark:stroke-white stroke-black",width:"50px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 21V19.5C4 16.4624 6.46243 14 9.5 14H12.5C15.5376 14 18 16.4624 18 19.5V21M7 21V18M15 21V18M16.5 6L16.8367 5.49493C17.1969 4.95461 17.9371 4.82782 18.4566 5.21745C19.0073 5.63047 19.0645 6.43549 18.5778 6.92224L17.8536 7.64645C17.6272 7.87282 17.5 8.17986 17.5 8.5M17.5 10V10.2M13.8281 4.89801C14.6435 3.74945 15.9842 3 17.5 3C19.9853 3 22 5.01472 22 7.5C22 9.98528 19.9853 12 17.5 12C16.2549 12 15.1279 11.4943 14.3131 10.6771M15 8.00001C15 5.79086 13.2091 4 11 4C8.79086 4 7 5.79086 7 8.00001C7 10.2092 8.79086 12 11 12C11.8312 12 12.6032 11.7465 13.2429 11.3125C14.3033 10.5931 15 9.37794 15 8.00001Z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5"})],-1),K=[G],Q=e("div",{class:"h-full w-[1px] dark:bg-gray-500 bg-gray-300"},null,-1),W={class:"text-center flex flex-col items-center max-lg:w-6/12 max-sm:w-full"},X={class:"tracking-widest text-sm dark:text-gray-400"},Y={key:0,class:"mt-2"},e1={key:1,class:""},t1=e("svg",{class:"dark:stroke-white stroke-black",width:"50px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 21V19.5C4 16.4624 6.46243 14 9.5 14H12.5C15.5376 14 18 16.4624 18 19.5V21M7 21V18M15 21V18M16.5 6L16.8367 5.49493C17.1969 4.95461 17.9371 4.82782 18.4566 5.21745C19.0073 5.63047 19.0645 6.43549 18.5778 6.92224L17.8536 7.64645C17.6272 7.87282 17.5 8.17986 17.5 8.5M17.5 10V10.2M13.8281 4.89801C14.6435 3.74945 15.9842 3 17.5 3C19.9853 3 22 5.01472 22 7.5C22 9.98528 19.9853 12 17.5 12C16.2549 12 15.1279 11.4943 14.3131 10.6771M15 8.00001C15 5.79086 13.2091 4 11 4C8.79086 4 7 5.79086 7 8.00001C7 10.2092 8.79086 12 11 12C11.8312 12 12.6032 11.7465 13.2429 11.3125C14.3033 10.5931 15 9.37794 15 8.00001Z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5"})],-1),s1=[t1],a1=w({__name:"DepartmentContentLists",props:{departmentItem:{type:Object,default:()=>{}}},setup(a){const p=M();return(l,d)=>(o(),i("div",R,[e("div",{onClick:d[0]||(d[0]=t=>m(p).push(`/base/companies/department/${a.departmentItem.id}`)),class:"transition-all text-center shadow-md overflow-hidden hover:shadow-lg border dark:shadow-gray-500 dark:border-gray-500 p-4 rounded-lg cursor-pointer"},[e("div",U,s(a.departmentItem.name),1),e("div",J,[e("div",P,[e("p",q,s(l.$t("Руководитель")),1),a.departmentItem.department_director_name?(o(),i("p",z,s(a.departmentItem.department_director_name),1)):(o(),i("div",A,K))]),Q,e("div",W,[e("p",X,s(l.$t("Заместитель")),1),a.departmentItem.vice_department_director_name?(o(),i("p",Y,s(a.departmentItem.vice_department_director_name),1)):(o(),i("div",e1,s1))])])])]))}}),r1={class:"w-full"},o1={class:"flex justify-center gap-x-10"},n1=w({__name:"DepartmentCreate",props:{showCreate:{type:Boolean,default:!1}},setup(a){const p=L(),l=B({name:"",email:"",address:""});return(d,t)=>(o(),i("div",null,[r(h,{class:"w-full mr-auto",type:"signIn",onClick:t[0]||(t[0]=n=>a.showCreate=!0)},{default:c(()=>[u(s(d.$t("Создать департамент")),1)]),_:1}),a.showCreate?(o(),$(I,{key:0,onShowModal:t[5]||(t[5]=n=>a.showCreate=!a.showCreate)},{default:c(()=>[r(b,null,{default:c(()=>[u(s(d.$t("Создать департамент")),1)]),_:1}),e("form",{onSubmit:t[4]||(t[4]=H(n=>{m(p).createDepartment({department:m(l)}),a.showCreate=!1,m(l).name=" "},["prevent"]))},[r(S,null,{default:c(()=>[e("div",r1,[r(D,{type:"text",label:d.$t("Наименование"),modelValue:m(l).name,"onUpdate:modelValue":t[1]||(t[1]=n=>m(l).name=n)},null,8,["label","modelValue"])])]),_:1}),e("div",o1,[r(h,{class:"px-10 rounded-full py-2",t:"button",type:"danger",onClick:t[2]||(t[2]=n=>a.showCreate=!1)},{default:c(()=>[u(s(d.$t("Отменна")),1)]),_:1}),r(h,{class:"px-10 rounded-full py-2 bg-blueSemiLight",t:"submit",onClick:t[3]||(t[3]=n=>m(p).loadDepartmentList())},{default:c(()=>[u(s(d.$t("Создать")),1)]),_:1})])],32)]),_:1})):y("",!0)]))}}),l1={key:0,class:"flex items-center gap-x-4"},i1=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),d1={class:"flex max-md:flex-wrap max-md:justify-center max-md:gap-y-4 relative items-center justify-between w-full gap-x-10"},m1={class:"flex max-lg:flex-col"},c1={key:0,class:"flex w-full gap-y-4 gap-x-4 flex-wrap"},u1={key:1,class:"w-full max-lg:order-2 flex flex-wrap"},p1={class:"w-3/12 max-lg:w-full max-lg:mb-8"},f1={class:"text-center tracking-widest dark:text-white"},_1={class:"mt-6"},h1={class:"flex items-center my-4 gap-x-5 justify-center"},w1={class:"flex items-center gap-x-2 w-8/12 max-md:w-9/12"},x1=e("div",null,[e("svg",{class:"dark:stroke-white stroke-black",fill:"none",width:"35px",height:"35px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M5.04146 3C5.22009 2.6906 5.55022 2.5 5.90748 2.5L9.75278 2.5C10.11 2.5 10.4402 2.6906 10.6188 3L12.5415 6.33013C12.7201 6.63953 12.7201 7.02073 12.5415 7.33013L10.6188 10.6603C10.4402 10.9697 10.11 11.1603 9.75278 11.1603H5.90748C5.55022 11.1603 5.22009 10.9697 5.04146 10.6603L3.11881 7.33013C2.94017 7.02073 2.94017 6.63953 3.11881 6.33013L5.04146 3Z"}),e("path",{d:"M5.1216 13.2272C5.30023 12.9178 5.63036 12.7272 5.98762 12.7272H9.83292C10.1902 12.7272 10.5203 12.9178 10.6989 13.2272L12.6216 16.5574C12.8002 16.8668 12.8002 17.248 12.6216 17.5574L10.6989 20.8875C10.5203 21.1969 10.1902 21.3875 9.83292 21.3875H5.98762C5.63036 21.3875 5.30023 21.1969 5.1216 20.8875L3.19895 17.5574C3.02031 17.248 3.02031 16.8668 3.19895 16.5574L5.1216 13.2272Z"}),e("path",{d:"M14.1216 8.22723C14.3002 7.91783 14.6304 7.72723 14.9876 7.72723L18.8329 7.72723C19.1902 7.72723 19.5203 7.91783 19.6989 8.22723L21.6216 11.5574C21.8002 11.8668 21.8002 12.248 21.6216 12.5574L19.6989 15.8875C19.5203 16.1969 19.1902 16.3875 18.8329 16.3875H14.9876C14.6304 16.3875 14.3002 16.1969 14.1216 15.8875L12.1989 12.5574C12.0203 12.248 12.0203 11.8668 12.1989 11.5574L14.1216 8.22723Z"})])],-1),C1={class:"tracking-widest"},g1={class:"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white"},O1=w({__name:"index",props:{formTitle:String},setup(a){O();const p=k(),l=L();l.loadDepartmentList();const d=V(),t=k();return T(()=>t.user,n=>{var _,f;((f=(_=t==null?void 0:t.user)==null?void 0:_.role)==null?void 0:f.name_en)==="admin"&&(window.history.length>1?d.push("/base/profile"):d.push("/"))}),j({title:"Департаменты",description:"Список департаментов компании"}),(n,_)=>{var f;return o(),i("div",null,[r(b,{"text-type":"pageTitle"},{default:c(()=>[u(s(n.$t("Страница департаментов компании")),1)]),_:1}),m(p).user.role_en!=="admin"?(o(),i("div",l1,[r(v,{"breadcrumb-link":"/base/companies"},{default:c(()=>[u(s(n.$t("Компания")),1)]),_:1}),i1,r(v,null,{default:c(()=>[u(s(n.$t("Департаменты")),1)]),_:1})])):y("",!0),e("div",d1,[r(Z,{class:"w-9/12 max-md:w-full max-md:mx-auto max-md:relative"}),r(N),r(n1,{class:"w-3/12 max-md:w-9/12 max-md:mb-4 text-sm"})]),e("div",m1,[m(l).get_all_department.results?(o(),i("div",u1,[(o(!0),i(C,null,g((f=m(l))==null?void 0:f.get_all_department.results,x=>(o(),$(a1,{"department-item":x},null,8,["department-item"]))),256))])):(o(),i("div",c1,[(o(),i(C,null,g(6,x=>r(F,{"border-radius":"10px",width:"30%",height:"100px"})),64))])),e("div",p1,[r(E,null,{default:c(()=>[e("h2",f1,s(n.$t("Информация о департамента")),1),e("div",_1,[e("div",h1,[e("div",w1,[x1,e("p",C1,s(n.$t("Количество"))+": ",1)]),e("div",null,[e("p",g1,[e("span",null,s(m(l).get_all_department.count),1)])])])])]),_:1})])])])}}});export{O1 as default};
