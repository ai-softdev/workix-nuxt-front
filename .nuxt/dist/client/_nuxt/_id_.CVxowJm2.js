import{g as C,o as r,j as f,w as l,a as e,t,h as i,c as d,i as b,m as B,J as D,Y as E,z as I,d as m,b as c,F as L,r as M}from"./entry.BZGj2_QE.js";import{u as S}from"./index.CPkfy7ml.js";import{_}from"./TheBreadcrumbs.vue.Btpr_46o.js";import{u as H}from"./companies.C24PrRp1.js";import{_ as W}from"./TheSearch.vue.Da8vBAHN.js";import{_ as A}from"./nuxt-link.C5n4ipTb.js";import{u as N}from"./auth.CsVxvdSr.js";import{_ as V}from"./TheTextContent.vue.AymrMYI2.js";import{_ as w}from"./TheButton.vue.CfQsQbrj.js";import{_ as G}from"./TheModal.vue.BmiMYGjH.js";import{T as R}from"./TheSceleton.DW8UOrjw.js";import"./nuxt-storage.B0R7N1yK.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const T=""+globalThis.__publicAssetsURL("icons/delete.svg"),U={class:"flex items-center gap-x-4 border-r max-sm:border-none max-sm:justify-center"},O=["src"],Z={class:"font-bold max-xl:text-center"},F={class:"flex flex-col items-center justify-center border-r max-[900px]:border-none"},q={key:0,class:"text-lg font-medium mb-2"},z={key:1,class:"text-lg font-medium mb-2"},J={class:"text-center flex flex-col gap-y-2"},Y={key:0,class:"text-sm text-mediumGray"},K={class:"text-mediumGray text-sm"},P={class:"flex items-center justify-between gap-5 max-[900px]:justify-start max-[900px]:border-r max-sm:border-none max-sm:justify-center"},Q={class:"text-center pr-6 pl-8 max-[900px]:pr-0"},X={class:"font-medium"},ee={class:"text-mediumGray text-sm"},te=e("div",{class:"max-[900px]:hidden h-full border-l flex items-center justify-center pl-8"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),se=e("div",{class:"hidden h-full max-[900px]:flex items-center justify-center"},[e("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.5 8.5L15.5 8.5M15.5 8.5L8.5 1.5M15.5 8.5L8.5 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),oe=C({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(n){const o=N();function h(u){return new Date(u).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}return(u,g)=>{const s=A;return r(),f(s,{to:`/base/users/${n.userItem.id}`,class:"department__item w-full transition-all grid grid-cols-3 max-[900px]:grid-cols-2 max-sm:grid-cols-1 gap-4 hover:shadow-departmentCard border bg-whiteLilia hover:bg-white hover:border-golden dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-5 rounded-3xl cursor-pointer"},{default:l(()=>{var a,p;return[e("div",U,[e("img",{class:"w-14 h-14 rounded-full shadow",src:n.userItem.photo},null,8,O),e("h2",Z,t(n.userItem.first_name+" "+n.userItem.last_name),1)]),e("div",F,[((a=i(o).user.role)==null?void 0:a.name_en)==="admin"?(r(),d("p",q,t(u.$t("Роль | Должность")),1)):(r(),d("p",z,t(u.$t("Должность")),1)),e("div",J,[((p=i(o).user.role)==null?void 0:p.name_en)==="admin"?(r(),d("h2",Y,"("+t(n.userItem.role)+")",1)):b("",!0),e("h2",K,t(n.userItem.position),1)])]),e("div",P,[e("div",Q,[e("h2",X,t(u.$t("Дата регистрации")),1),e("h2",ee,t(h(n.userItem.created_at)),1)]),te]),se]}),_:1},8,["to"])}}}),ne={class:"flex items-center gap-4 max-sm:flex-col max-sm:items-start"},re=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 8H1M1 8L8 15M1 8L8 1",stroke:"#7D7D7D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ae={class:"flex items-center flex-wrap gap-x-3"},ie=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),le=e("div",null,[e("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.032 0.48H5.24L2.168 12H0.96L4.032 0.48Z",fill:"#1E1E1E"})])],-1),de={class:"mt-8 flex items-center gap-4 justify-between max-[680px]:flex-col max-[680px]:items-start max-[680px]:gap-5"},me={class:"dark:text-white text-3xl font-bold"},ce=e("img",{src:T,alt:"delete-button"},null,-1),ue={class:"flex items-center gap-x-10 mt-8"},xe={class:"flex items-center w-11/12 max-sm:w-full gap-x-10"},pe={class:"text-center font-bold max-sm:w-9/12 max-sm:mx-auto"},fe={class:"text-center text-lg max-sm:text-sm w-7/12 mx-auto my-10 dark:text-white break-words max-sm:w-full"},he={class:"text-redOrange"},ge={class:"!text-base nt-2"},_e={class:"flex justify-center gap-3 max-sm:flex-col"},we={class:"flex gap-x-10 w-full mt-8 max-[1200px]:flex-col max-[1200px]:gap-3"},be={key:0,class:"flex max-[1200px]:order-1 w-full gap-y-4 flex-col"},ve={key:1,class:"w-full max-[1200px]:order-1 flex flex-col items-center justify-center gap-4 p-6 rounded-3xl shadow-departmentInfo bg-white"},ke={key:1,class:"text-gray-500 text-center py-4"},ye={class:"w-3/12 max-[1200px]:w-full bg-white p-6 rounded-3xl h-fit shadow-departmentInfo"},$e=e("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 15.5V11.5M11 7.5H11.01M21 11.5C21 17.0228 16.5228 21.5 11 21.5C5.47715 21.5 1 17.0228 1 11.5C1 5.97715 5.47715 1.5 11 1.5C16.5228 1.5 21 5.97715 21 11.5Z",stroke:"#2A2A2A","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1),je={class:"flex items-center justify-between mt-8"},Ge=C({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(n){const o=H(),h=B(),u=D();function g(){u.back()}return E(()=>{o.loadDepartment({id:h.params.id})}),I(()=>{S({title:`${o.current_department.name}`})}),(s,a)=>{var p,v,k,y,$,j;return r(),d("div",null,[e("div",ne,[e("button",{onClick:g,class:"px-6 py-2 rounded-[30px] border-2 font-bold text-mediumGray bg-white flex items-center gap-2"},[re,m(" "+t(s.$t("Назад")),1)]),e("div",ae,[c(_,{"breadcrumb-link":"/base/companies"},{default:l(()=>[m(t(s.$t("Компания")),1)]),_:1}),ie,c(_,{"breadcrumb-link":"/base/companies/department"},{default:l(()=>[m(t(s.$t("Департаменты")),1)]),_:1}),le,c(_,null,{default:l(()=>[m(t(i(o).get_department.name),1)]),_:1})])]),e("div",de,[e("p",me,t(i(o).get_department.name),1),(v=(p=i(o).get_department)==null?void 0:p.participants)!=null&&v.length?b("",!0):(r(),f(w,{key:0,type:"danger",class:"px-10 py-2 !bg-whiteSmoke !border !border-gainsboro rounded-full flex items-center gap-3 !text-sunset",onClick:a[0]||(a[0]=x=>n.showWarning=!0)},{default:l(()=>[ce,m(" "+t(s.$t("Удалить отдел")),1)]),_:1}))]),e("div",ue,[e("div",xe,[c(W,{class:"w-3/12 max-[900px]:w-full"})]),n.showWarning?(r(),f(G,{key:0,onShowModal:a[3]||(a[3]=x=>n.showWarning=!n.showWarning)},{default:l(()=>[e("div",null,[e("p",pe,t(s.$t("Вы действительно хотите удалить департамент?")),1),e("div",fe,[e("p",he,t(s.$t("Предупреждение!")),1),e("p",ge,t(s.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",_e,[c(w,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-black hover:!bg-gray-200 gap-3 py-2 !bg-porcelain !border transition-all ease-in-out duration-300",t:"button",onClick:a[1]||(a[1]=x=>n.showWarning=!1)},{default:l(()=>[m(t(s.$t("Отменить")),1)]),_:1}),c(w,{class:"w-4/12 max-sm:w-full rounded-full flex items-center justify-center !text-white gap-3 py-2 !bg-redOrange !border transition-all ease-in-out duration-300",t:"submit",onClick:a[2]||(a[2]=x=>i(o).deleteDepartment({id:i(o).get_department.id},s.$router))},{default:l(()=>[m(t(s.$t("Удалить")),1)]),_:1})])]),_:1})):b("",!0)]),e("div",we,[(k=i(o).get_department)!=null&&k.id?(r(),d("div",ve,[($=(y=i(o).get_department)==null?void 0:y.participants)!=null&&$.length?(r(!0),d(L,{key:0},M(i(o).get_department.participants,x=>(r(),f(oe,{key:x.id,"user-item":x},null,8,["user-item"]))),128)):(r(),d("p",ke,t(s.$t("Пользователей пока нет")),1))])):(r(),d("div",be,[(r(),d(L,null,M(5,x=>c(R,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",ye,[c(V,null,{default:l(()=>[$e,m(" "+t(s.$t("Информация")),1)]),_:1}),e("div",je,[e("p",null,t(s.$t("Сотрудников"))+": ",1),e("p",null,t((j=i(o).get_department.participants)==null?void 0:j.length),1)])])])])}}});export{Ge as default};
