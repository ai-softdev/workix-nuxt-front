{"version":3,"file":"index-CibI-48c.js","sources":["../../../../components/Company/admin/adminUI/CompanyContentCreateElems.vue","../../../../components/Company/admin/CompanyCreate.vue","../../../../components/Company/CompanyUI/CurrentCompanyElems.vue","../../../../components/Company/User/CurrentCompanyNews.vue","../../../../components/Company/User/CurrentCompanyFiles.vue","../../../../components/Company/User/CurrentCompanyDepartment.vue","../../../../components/Company/User/CurrentCompanyChart.vue","../../../../components/Company/User/CurrentCompanyInfo.vue","../../../../components/Company/CompanyUI/CompanyStats.vue","../../../../components/Company/User/CurrentCompanyChangeInfo/CurrentCompanyChangeInfoContent.vue","../../../../components/Company/User/CurrentCompanyChangeInfo.vue","../../../../pages/base/companies/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\n\n</script>\n\n<template>\n  <div class=\"flex max-lg:flex-wrap gap-y-4 justify-center gap-x-10 my-10 mx-auto w-full\">\n    <slot/>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheInput from \"~/components/UI/TheInput.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\"\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport CompanyContentCreateElems from \"~/components/Company/admin/adminUI/CompanyContentCreateElems.vue\";\r\n\r\nconst createCompany = useCompanies()\r\n\r\nconst createForm = ref({\r\n  name: '',\r\n  logo_file: ''\r\n})\r\n\r\ndefineProps({\r\n  showCreateCompany: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <TheButton class=\"w-full h-full\" type=\"signIn\" @click=\"showCreateCompany = true\">{{ $t('Создать компанию') }}\r\n    </TheButton>\r\n    <TheModal v-if=\"showCreateCompany\" @showModal=\"showCreateCompany = !showCreateCompany; !showCreateCompany ? createForm = {} : createForm = {}\">\r\n      <form @submit.prevent=\"createCompany.createCompany(createForm);showCreateCompany = false\">\r\n        <TheTextContent>{{ $t('Создание компании') }}</TheTextContent>\r\n        <CompanyContentCreateElems>\r\n          <div class=\"w-6/12\">\r\n            <TheInput type=\"text\" :label=\"$t('Наименование')\" v-model=\"createForm.name\"></TheInput>\r\n          </div>\r\n        </CompanyContentCreateElems>\r\n        <CompanyContentCreateElems>\r\n          <TheButton class=\"py-2 px-6 rounded-full\" t=\"button\" type=\"danger\" @click=\"showCreateCompany = false\">\r\n            {{ $t('Отменить')\r\n            }}\r\n          </TheButton>\r\n          <TheButton class=\"py-2 px-6 rounded-full\" t=\"submit\" type=\"success\">{{ $t('Создать') }}</TheButton>\r\n        </CompanyContentCreateElems>\r\n      </form>\r\n    </TheModal>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\n\n</script>\n\n<template>\n  <div class=\" dark:shadow-md dark:shadow-gray-500 dark:border-t-gray-500 border-t border-t-gray-100 shadow-lg dark:text-white text-black bg-opacity-80 p-4 rounded-lg\">\n    <p class=\"font-bold text-md tracking-widest text-center text-md mb-2\"><slot name=\"blockTitle\"/></p>\n    <div>\n      <slot name=\"blockContent\"></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped >\n\n</style>","<script setup lang=\"ts\">\nimport {useCompanies} from \"~/stores/companies\";\nimport {useAuthStore} from \"~/stores/auth\";\nimport CurrentCompanyElems from \"~/components/Company/CompanyUI/CurrentCompanyElems.vue\";\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\nimport CurrentCompanyNewsList from \"~/components/Company/User/News/CurrentCompanyNewsList.vue\";\n\nconst currentUser = useAuthStore()\nconst companyNews = useCompanies()\n\nwatchEffect(() => {\n  companyNews.loadNewsList()\n})\n</script>\n\n<template>\n  <div class=\"w-11/12 mx-auto\">\n    <CurrentCompanyElems>\n      <template v-slot:blockTitle>\n        {{ $t('Новости компании') }}\n      </template>\n      <template v-slot:blockContent>\n        <div>\n          <CurrentCompanyNewsList v-for=\"companyItem in companyNews.get_all_news\" :news-item=\"companyItem\"></CurrentCompanyNewsList>\n        </div>\n      </template>\n    </CurrentCompanyElems>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport CurrentCompanyElems from \"~/components/Company/CompanyUI/CurrentCompanyElems.vue\";\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\nimport {useCompanies} from \"~/stores/companies\";\nimport {useAuthStore} from \"~/stores/auth\";\n\nconst authStore = useAuthStore()\nconst companies = useCompanies()\n</script>\n\n<template>\n  <div class=\"flex max-[900px]:flex-wrap gap-y-10 w-full justify-center mx-auto container gap-x-10\">\n    <CurrentCompanyElems class=\"w-9/12 max-[900px]:w-full\">\n      <template v-slot:blockTitle>\n        <TheTextContent>{{ $t('Галерея') }}</TheTextContent>\n      </template>\n      <template v-slot:blockContent>\n        <Swiper\n          :modules=\"[SwiperAutoplay, SwiperEffectCreative]\"\n          :slides-per-view=\"1\"\n          :loop=\"true\"\n          :effect=\"'creative'\"\n          :autoplay=\"{\n        delay: 4000,\n        disableOnInteraction: true\n      }\"\n          :creative-effect=\"{\n        prev: {\n          shadow: true,\n          translate: ['-100%', 0, -1]\n        },\n        next: {\n          shadow: true,\n          translate: ['100%', 0, 0]\n        }\n      }\"\n        >\n          <SwiperSlide class=\" rounded-lg\" v-for=\"item in companies.company?.pictures\">\n            <img class=\"w-full h-[500px]\" :src=\"authStore.get_server_domain + item.photo_url\" alt=\"\">\n          </SwiperSlide>\n        </Swiper>\n      </template>\n    </CurrentCompanyElems>\n    <CurrentCompanyElems class=\"w-4/12 max-[900px]:w-full ml-auto\">\n      <template v-slot:blockTitle>\n        <TheTextContent>{{ $t('Файлы') }}</TheTextContent>\n      </template>\n      <template v-slot:blockContent>\n\n      </template>\n    </CurrentCompanyElems>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.swiper-slide {\n}\n.swiper-wrapper {\n}\n</style>","<script setup lang=\"ts\">\nimport CurrentCompanyElems from \"~/components/Company/CompanyUI/CurrentCompanyElems.vue\";\nimport {useCompanies} from \"~/stores/companies\";\nconst departments = useCompanies()\ndepartments.loadDepartmentList()\ndefineProps({\n  more: {\n    type: Number,\n    default: null\n  }\n})\n</script>\n\n<template>\n  <div>\n    <CurrentCompanyElems >\n      <template v-slot:blockTitle>\n        {{$t('Отделы компании')}}\n      </template>\n      <template v-slot:blockContent>\n      <div class=\"grid grid-cols-4 max-[1750px]:grid-cols-3 max-lg:grid-cols-2 max-md:grid-cols-1 mt-10 items-center gap-x-4 gap-y-4\">\n        <div v-for=\"department in departments.get_all_department.results\" class=\"relative border p-2 h-full rounded-lg dark:border-gray-400\" @mouseenter=\"more = department.id\" @mouseleave=\"more = null\">\n          <div :class=\"{'blur-[1px]' : more === department.id}\">\n            <div class=\"text-center text-base tracking-widest\">\n              <h2>{{department.name}}</h2>\n            </div>\n            <div class=\"p-2\">\n              <div class=\"flex h-[50px] flex-col gap-y-2 my-4 \">\n                <div class=\"\">\n                  <p class=\"tracking-widest\">{{$t('Руководитель')}}</p>\n                </div>\n                <div>\n                  <p class=\"break-words tracking-wider text-sm\">{{department.department_director_name ? department.department_director_name : 'Отсутсвует'}}</p>\n                </div>\n              </div>\n              <div class=\"flex h-[50px] flex-col gap-y-2 my-4 \">\n                <div class=\"\">\n                  <p class=\"tracking-widest\">{{$t('Заместитель')}}</p>\n                </div>\n                <div>\n                  <p class=\"break-words tracking-wider text-sm\">{{department.vice_department_director_name ? department.vice_department_director_name : 'Отсутсвует'}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <Transition name=\"fade\">\n            <NuxtLink :to=\"`/base/companies/department/${department.id}`\" v-if=\"more === department.id\" class=\"cursor-pointer absolute top-0 left-0 w-full h-full bg-black bg-opacity-40 rounded-lg\" >\n              <p class=\"text-center mt-20 mx-auto uppercase text-sm rounded-full dark:bg-gray-400 bg-white w-4/12\">{{$t('Подробнее')}}</p>\n            </NuxtLink>\n          </Transition>\n        </div>\n      </div>\n      </template>\n    </CurrentCompanyElems>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport {Chart as ChartJS, ArcElement, Tooltip, Legend, RadialLinearScale, Chart} from 'chart.js'\nimport {Doughnut, Pie, PolarArea} from 'vue-chartjs'\nimport { useColorMode } from '@vueuse/core'\n\nChartJS.register(ArcElement, Tooltip, Legend, RadialLinearScale,)\nChart.defaults.color = '#b6b6b6'\n\nconst chartData = ref({\n  labels: ['Выполненные задания', 'Выполненные IQ тесты', 'Активность', 'Посещаемость'],\n  datasets: [\n    {\n      backgroundColor: ['rgba(109,252,118,0.4)', \"rgba(252,155,0,0.91)\" , \"rgba(0,121,255,0.4)\", \"rgba(255,9,0,0.68)\"],\n      data: [70, 70, 90, 100]\n    }\n  ]\n});\n\nconst chartOptions = ref({\n  responsive: true,\n  maintainAspectRatio: false\n});\n</script>\n\n<template>\n  <div>\n    <PolarArea class=\"text-white\" style=\"{color: white;}\" :data=\"chartData\" :options=\"chartOptions\"></PolarArea>\n\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport {useCompanies} from \"~/stores/companies\";\nimport CurrentCompanyElems from \"~/components/Company/CompanyUI/CurrentCompanyElems.vue\";\n\nimport FullCalendar from '@fullcalendar/vue3'\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport CurrentCompanyNews from \"~/components/Company/User/CurrentCompanyNews.vue\";\nimport CurrentCompanyFiles from \"~/components/Company/User/CurrentCompanyFiles.vue\";\nimport CurrentCompanyDepartment from \"~/components/Company/User/CurrentCompanyDepartment.vue\";\nimport CurrentCompanyChart from \"~/components/Company/User/CurrentCompanyChart.vue\";\n\nconst currentCompany = useCompanies()\nconst calendarOptions = {\n  plugins: [dayGridPlugin, interactionPlugin],\n  theme: 'darkly',\n  events: [\n    {title: \"event 1\", date: \"2022-12-26\"},\n    {title: \"event 2\", date: \"2022-12-27\"},\n  ],\n}\n</script>\n\n<template>\n  <div class=\"flex flex-col overflow-hidden gap-y-10 \">\n    <div class=\"flex w-11/12 max-[1400px]:flex-wrap gap-x-6 max-[1400px]:gap-y-10 mx-auto\">\n      <CurrentCompanyElems\n          class=\"w-4/12 ml-auto max-[1400px]:mx-auto max-[1400px]:w-6/12 max-md:w-full max-[1400px]:order-3\">\n        <template v-slot:blockTitle>\n          {{ $t('График') }}\n        </template>\n        <template v-slot:blockContent>\n          <div>\n            <CurrentCompanyChart/>\n          </div>\n        </template>\n      </CurrentCompanyElems>\n      <CurrentCompanyElems class=\"w-full mx-auto max-[1400px]:mx-auto max-[1400px]:w-full\">\n        <template v-slot:blockTitle>\n          {{ $t('О компании') }}\n        </template>\n        <template v-slot:blockContent>\n          <div>{{ currentCompany.company.description }}\n          </div>\n        </template>\n      </CurrentCompanyElems>\n      <CurrentCompanyElems class=\"w-5/12 mr-auto max-[1400px]:mx-auto max-[1400px]:w-5/12 max-md:w-full\">\n        <template v-slot:blockTitle>\n          {{ $t('Статистика компании') }}\n        </template>\n        <template v-slot:blockContent>\n          <div class=\"flex items-center my-4 gap-x-5 justify-center\">\n            <div class=\"flex items-center gap-x-2 w-8/12 max-md:w-9/12 \">\n              <div>\n                <svg width=\"35px\" height=\"35px\" class=\"stroke-black dark:stroke-white\" viewBox=\"0 0 24 24\" fill=\"none\"\n                     xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M20.3873 7.1575L11.9999 12L3.60913 7.14978\" stroke-width=\"1\" stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"></path>\n                  <path d=\"M12 12V21\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                  <path\n                      d=\"M11 2.57735C11.6188 2.22008 12.3812 2.22008 13 2.57735L19.6603 6.42265C20.2791 6.77992 20.6603 7.44017 20.6603 8.1547V15.8453C20.6603 16.5598 20.2791 17.2201 19.6603 17.5774L13 21.4226C12.3812 21.7799 11.6188 21.7799 11 21.4226L4.33975 17.5774C3.72094 17.2201 3.33975 16.5598 3.33975 15.8453V8.1547C3.33975 7.44017 3.72094 6.77992 4.33975 6.42265L11 2.57735Z\"\n                      stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n                </svg>\n              </div>\n              <p class=\"tracking-widest\">{{ $t('Объекты') }}: {{}}</p>\n            </div>\n            <div>\n              <p class=\"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white\">{{currentCompany.company.objects_count}}</p>\n            </div>\n          </div>\n          <div class=\"flex items-center my-4 gap-x-5 justify-center\">\n            <div class=\"flex items-center gap-x-2 w-8/12 max-md:w-9/12 \">\n              <div>\n                <svg width=\"35px\" height=\"35px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g id=\"User / Users_Group\">\n                    <path id=\"Vector\" class=\"dark:stroke-white stroke-black\"\n                          d=\"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z\"\n                          stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    ></path>\n                  </g>\n                </svg>\n              </div>\n              <p class=\"tracking-widest\">{{ $t('Сотрудники') }}:</p>\n            </div>\n            <div>\n              <p class=\"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white\">{{currentCompany.company.users_count}}</p>\n            </div>\n          </div>\n          <div class=\"flex items-center my-4 gap-x-5 justify-center\">\n            <div class=\"flex items-center gap-x-2 w-8/12 max-md:w-9/12 \">\n              <div>\n                <svg class=\"dark:stroke-white stroke-black\" fill=\"none\" width=\"35px\" height=\"35px\" viewBox=\"0 0 24 24\"\n                     xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                      d=\"M5.04146 3C5.22009 2.6906 5.55022 2.5 5.90748 2.5L9.75278 2.5C10.11 2.5 10.4402 2.6906 10.6188 3L12.5415 6.33013C12.7201 6.63953 12.7201 7.02073 12.5415 7.33013L10.6188 10.6603C10.4402 10.9697 10.11 11.1603 9.75278 11.1603H5.90748C5.55022 11.1603 5.22009 10.9697 5.04146 10.6603L3.11881 7.33013C2.94017 7.02073 2.94017 6.63953 3.11881 6.33013L5.04146 3Z\"/>\n                  <path\n                      d=\"M5.1216 13.2272C5.30023 12.9178 5.63036 12.7272 5.98762 12.7272H9.83292C10.1902 12.7272 10.5203 12.9178 10.6989 13.2272L12.6216 16.5574C12.8002 16.8668 12.8002 17.248 12.6216 17.5574L10.6989 20.8875C10.5203 21.1969 10.1902 21.3875 9.83292 21.3875H5.98762C5.63036 21.3875 5.30023 21.1969 5.1216 20.8875L3.19895 17.5574C3.02031 17.248 3.02031 16.8668 3.19895 16.5574L5.1216 13.2272Z\"/>\n                  <path\n                      d=\"M14.1216 8.22723C14.3002 7.91783 14.6304 7.72723 14.9876 7.72723L18.8329 7.72723C19.1902 7.72723 19.5203 7.91783 19.6989 8.22723L21.6216 11.5574C21.8002 11.8668 21.8002 12.248 21.6216 12.5574L19.6989 15.8875C19.5203 16.1969 19.1902 16.3875 18.8329 16.3875H14.9876C14.6304 16.3875 14.3002 16.1969 14.1216 15.8875L12.1989 12.5574C12.0203 12.248 12.0203 11.8668 12.1989 11.5574L14.1216 8.22723Z\"/>\n                </svg>\n              </div>\n              <p class=\"tracking-widest\">{{ $t('Департаменты') }}: {{}}</p>\n            </div>\n            <div>\n              <p class=\"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white\">{{currentCompany.company.departments_count}}</p>\n            </div>\n          </div>\n        </template>\n      </CurrentCompanyElems>\n    </div>\n    <div class=\"w-11/12 mx-auto\">\n      <CurrentCompanyFiles/>\n    </div>\n    <div class=\"w-11/12 mx-auto\">\n      <CurrentCompanyDepartment/>\n    </div>\n    <div>\n      <CurrentCompanyNews/>\n    </div>\n    <div class=\"w-11/12 mx-auto\">\n      <CurrentCompanyElems class=\"w-10/12 mx-auto \">\n        <template v-slot:blockTitle>\n          {{ $t('Календарь событий') }}\n        </template>\n        <template v-slot:blockContent>\n          <div>\n            <FullCalendar :options=\"calendarOptions\"></FullCalendar>\n          </div>\n        </template>\n      </CurrentCompanyElems>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\n\n</script>\n\n<template>\n<div class=\"my-10 dark:text-white tracking-wider flex flex-col gap-y-4\">\n  <p class=\"flex items-center w-11/12 justify-between gap-x-10\"><slot name=\"statsName\"/> <span class=\"bg-gray-300 py-2 px-4 rounded-full font-bold\"><slot name=\"statsValue\"/></span></p>\n</div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\n\nimport TheInput from \"~/components/UI/TheInput.vue\";\nimport {useCompanies} from \"~/stores/companies\";\n\nconst companies = useCompanies()\nconst form = reactive({\n  title: '',\n  description: '',\n  email: '',\n  address: '',\n  file: null as File | null,\n  phones: [''] // массив номеров\n})\n\nconst handleFileChange = (e: Event) => {\n  const target = e.target as HTMLInputElement\n  if (target.files && target.files.length > 0) {\n    form.file = target.files[0]\n  }\n}\n\nconst addPhone = () => {\n  form.phones.push('')\n}\n\nconst removePhone = (index: number) => {\n  if (form.phones.length > 1) {\n    form.phones.splice(index, 1)\n  }\n}\n\nonMounted(() => {\n  const company = companies.company\n\n  if (company) {\n    form.title = company.name || ''\n    form.description = company.description || ''\n    form.email = company.email || ''\n    form.address = company.address || ''\n    form.phones = Array.isArray(company.phones) && company.phones.length > 0\n        ? [...company.phones]\n        : ['']\n  }\n})\n\nconst handleSubmit = async () => {\n  const fd = new FormData()\n  fd.append('title', form.title)\n  fd.append('description', form.description)\n  fd.append('email', form.email)\n  fd.append('address', form.address)\n\n  // Добавим телефоны как массив\n  form.phones.forEach((phone, index) => {\n    fd.append(`phones[${index}]`, phone)\n  })\n\n  // Файл, если выбран\n  if (form.file) {\n    fd.append('file', form.file)\n  }\n\n  try {\n    await companies.editCompany({ form: fd })\n    // alert('Компания успешно обновлена!')\n  } catch (e) {\n    console.error('Ошибка при сохранении компании:', e)\n  }\n}\n</script>\n\n<template>\n  <div class=\"mt-10 flex flex-col gap-4\">\n    <TheInput label=\"Название\" v-model=\"form.title\" />\n    <TheInput label=\"Описание\" v-model=\"form.description\" />\n    <TheInput label=\"Email\" v-model=\"form.email\" />\n    <TheInput label=\"Адрес\" v-model=\"form.address\" />\n\n    <div>\n      <label class=\"font-medium mb-2 block\">Мобильный телефон(ы)</label>\n      <div v-for=\"(phone, index) in form.phones\" :key=\"index\" class=\"flex items-center gap-2 mb-2\">\n        <TheInput\n            :label=\"`Телефон #${index + 1}`\"\n            v-model=\"form.phones[index]\"\n        />\n        <button @click=\"removePhone(index)\" v-if=\"form.phones.length > 1\" class=\"text-red-500 text-sm\">Удалить</button>\n      </div>\n      <button @click=\"addPhone\" class=\"text-blue-500 text-sm\">+ Добавить номер</button>\n    </div>\n\n    <TheInput\n        type=\"file\"\n        id=\"upload-file\"\n        @input=\"handleFileChange\"\n    />\n\n    <button @click=\"handleSubmit\" class=\"bg-blue-600 text-white px-4 py-2 rounded w-fit mt-4\">\n      Сохранить компанию\n    </button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport TheModal from \"~/components/UI/TheModal.vue\";\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\nimport CurrentCompanyChangeInfoContent\n  from \"~/components/Company/User/CurrentCompanyChangeInfo/CurrentCompanyChangeInfoContent.vue\";\n\nconst changeShow = ref(false)\n</script>\n\n<template>\n  <div>\n   <button class=\"fill-white fixed bottom-6 right-20 bg-blueSemiLight p-2 rounded-full z-20 hover:bg-semiCyan\" @click=\"changeShow = true\">\n     <svg  width=\"30px\" height=\"30px\" viewBox=\"-0.5 0 16 16\" id=\"settings-16px\" xmlns=\"http://www.w3.org/2000/svg\">\n       <path id=\"Path_39\"  d=\"M-493.35-320H-494.7a1.865,1.865,0,0,1-1.863-1.862v-.626a.186.186,0,0,0-.091-.159l-.676-.394a.184.184,0,0,0-.183,0l-.539.311a1.845,1.845,0,0,1-1.414.186,1.855,1.855,0,0,1-1.133-.869l-.679-1.18a1.867,1.867,0,0,1,.68-2.541l.548-.316a.186.186,0,0,0,.092-.16v-.78a.186.186,0,0,0-.092-.16l-.547-.316a1.866,1.866,0,0,1-.681-2.541l.679-1.18a1.855,1.855,0,0,1,1.133-.869,1.837,1.837,0,0,1,1.414.187l.538.31a.181.181,0,0,0,.184,0l.676-.394a.186.186,0,0,0,.091-.159v-.626A1.865,1.865,0,0,1-494.7-336h1.353a1.865,1.865,0,0,1,1.864,1.862v.626a.187.187,0,0,0,.09.159l.677.394a.179.179,0,0,0,.183,0l.538-.311a1.841,1.841,0,0,1,1.415-.186,1.85,1.85,0,0,1,1.132.869l.679,1.18a1.866,1.866,0,0,1-.68,2.541l-.548.316a.186.186,0,0,0-.092.16v.78a.186.186,0,0,0,.092.16l.547.316a1.865,1.865,0,0,1,.681,2.541l-.679,1.18a1.85,1.85,0,0,1-1.132.869,1.842,1.842,0,0,1-1.415-.187l-.537-.31a.186.186,0,0,0-.184,0l-.677.394a.187.187,0,0,0-.09.159v.626A1.865,1.865,0,0,1-493.35-320Zm-4.076-4.063a1.185,1.185,0,0,1,.6.161l.676.4a1.181,1.181,0,0,1,.586,1.019v.626a.866.866,0,0,0,.866.865h1.353a.867.867,0,0,0,.867-.865v-.626a1.183,1.183,0,0,1,.585-1.019l.676-.4a1.185,1.185,0,0,1,1.186,0l.537.31a.849.849,0,0,0,.658.087.854.854,0,0,0,.525-.4l.68-1.179a.868.868,0,0,0-.317-1.181l-.546-.317a1.183,1.183,0,0,1-.59-1.022v-.78a1.183,1.183,0,0,1,.59-1.022h0l.547-.317a.868.868,0,0,0,.316-1.181l-.68-1.179a.854.854,0,0,0-.525-.4.871.871,0,0,0-.658.086l-.538.311a1.176,1.176,0,0,1-1.185,0l-.676-.4a1.183,1.183,0,0,1-.585-1.019v-.626a.867.867,0,0,0-.867-.865H-494.7a.866.866,0,0,0-.866.865v.626a1.181,1.181,0,0,1-.586,1.019l-.676.4a1.181,1.181,0,0,1-1.186,0l-.536-.31a.862.862,0,0,0-.658-.087.856.856,0,0,0-.526.4l-.68,1.179a.868.868,0,0,0,.317,1.181l.546.317a1.183,1.183,0,0,1,.59,1.022v.78a1.183,1.183,0,0,1-.59,1.022l-.547.317a.868.868,0,0,0-.316,1.181l.68,1.179a.856.856,0,0,0,.526.4.853.853,0,0,0,.658-.086l.537-.311A1.172,1.172,0,0,1-497.426-324.063Zm3.417-.711A3.23,3.23,0,0,1-497.235-328a3.23,3.23,0,0,1,3.226-3.226A3.23,3.23,0,0,1-490.782-328,3.23,3.23,0,0,1-494.009-324.774Zm0-5.455A2.232,2.232,0,0,0-496.238-328a2.232,2.232,0,0,0,2.229,2.229A2.233,2.233,0,0,0-491.778-328,2.233,2.233,0,0,0-494.009-330.229Z\" transform=\"translate(501.528 336)\"/>\n     </svg>\n   </button>\n  <Transition name=\"fade\">\n    <TheModal v-if=\"changeShow\"  @showModal=\"changeShow = false\">\n      <TheTextContent>{{$t('Изменение информации компании')}}</TheTextContent>\n      <div>\n        <CurrentCompanyChangeInfoContent/>\n      </div>\n    </TheModal>\n  </Transition>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\nimport CompanyCreate from \"~/components/Company/admin/CompanyCreate.vue\";\n\nimport {useCompanies} from \"~/stores/companies\";\nimport {useAuthStore} from \"~/stores/auth\";\n\nimport CurrentCompanyInfo from \"~/components/Company/User/CurrentCompanyInfo.vue\";\nimport CompanyList from \"~/components/Company/admin/CompanyList.vue\";\nimport CompanyStats from \"~/components/Company/CompanyUI/CompanyStats.vue\";\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\nimport CurrentCompanyChangeInfo from \"~/components/Company/User/CurrentCompanyChangeInfo.vue\";\n\nconst currentUser = useAuthStore()\nconst companies = useCompanies()\nconst params = {\n  page: 1,\n  limit: 5,\n  query: '',\n}\nfunction loadPage(page) {\n  if (page === '<') {\n    if (Number(params.page) > 1) {\n      params.page -= 1;\n    }\n  } else if (page === '>') {\n    if (Number(params.page) < companies.company.number_of_pages) {\n      params.page = Number(params.page) + 1\n    }\n  } else {\n    if (Number(page) <= companies.company.number_of_pages) {\n      params.page = Number(page)\n    }\n  }\n  // console.log(page)\n  if (window.innerWidth > 1000) {\n    window.scrollTo({top: 600})\n  } else if (window.innerWidth < 1000) {\n    window.scrollTo({top: 895})\n  } else {\n    window.scrollTo()\n  }\n}\nwatchEffect(() => {\n  if (currentUser.user.role?.name_en !== 'admin') {\n    companies.loadCurrentCompany()\n  } else {\n    companies.loadCompanyList({page: params.page, limit: params.limit, query: params.query})\n  }\n})\nuseSeoMeta({\n  title: 'О компании',\n  description: 'Страница с информацией о компании'\n})\n</script>\n\n<template>\n  <div>\n    <div v-if=\"currentUser.user.role?.name_en !== 'admin'\">\n      <div class=\"\">\n        <div class=\"flex items-center tracking-widest  gap-x-2 justify-center max-sm:flex-col mb-10\">\n          <p class=\"text-lg\">{{ $t('Страница информации о ') }}</p>\n          <p class=\"font-bold text-white bg-blueSemiLight p-2 px-4 rounded-full\">{{ companies.company.name}}</p>\n        </div>\n        <CurrentCompanyChangeInfo v-if=\"['company_admin', 'director', 'vice_director'].includes(currentUser.user.role?.name_en)\"/>\n      </div>\n      <div class=\"\">\n        <CurrentCompanyInfo/>\n      </div>\n    </div>\n    <div v-else-if=\"currentUser.user.role?.name_en === 'admin'\">\n      <TheTextContent :text-type=\"'pageTitle'\">\n        {{ $t('Страница списка Компаний') }}\n      </TheTextContent>\n      <div class=\"flex justify-between items-center max-md:flex-col\">\n        <TheSearch class=\"my-10 w-6/12 max-md:w-full\"/>\n        <CompanyCreate class=\"w-2/12 max-md:w-full\"></CompanyCreate>\n      </div>\n      <div class=\"flex gap-x-10 max-md:flex-col max-md:mt-5\">\n        <div class=\"w-full gap-y-10 flex flex-col max-md:order-2\">\n          <CompanyList v-for=\"item in companies?.get_all_company.results\" :company-block=\"item\"></CompanyList>\n        </div>\n        <TheContentBlock\n          class=\"w-3/12 h-full transition-all rounded-md p-4 max-md:w-full\">\n          <h2 class=\"text-center text-lg tracking-widest font-bold dark:text-white\">{{ $t('Информация Компаний') }}</h2>\n          <CompanyStats>\n            <template v-slot:statsName>\n              {{ $t('Количество компаний') }}\n            </template>\n            <template v-slot:statsValue>\n              <p v-if=\"companies.get_all_company.count > 0\">{{ companies.get_all_company.count }}</p>\n              <p v-else>{{ '0' }}</p>\n            </template>\n          </CompanyStats>\n        </TheContentBlock>\n      </div>\n      <div class=\"flex justify-center gap-x-4 mt-10\">\n        <div v-if=\"companies?.get_all_company.count > 5\" v-for=\"(page, id) in companies?.get_all_company.links\" :key=\"id\"\n             class=\"px-4 py-2  rounded-full cursor-pointer\"\n             :class=\"{'bg-blue-400 text-white' : page.active, 'bg-gray-200 text-black hover:bg-blue-400 hover:text-white transition-all' : !page.active}\"\n             @click=\"loadPage(page.label); companies.loadCompanyList({page: params.page, limit: params.limit, query: params.query})\">\n          {{ page.label }}\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>"],"names":["_sfc_ssrRender","_ssrRenderAttrs","_mergeProps","_ssrRenderSlot","ChartJS"],"mappings":"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"}