{"version":3,"file":"storage-CzuWDy1E.js","sources":["../../../../components/Storage/StorageNav/StorageNavElemGoods.vue","../../../../components/Storage/StorageNav/StorageNavElem.vue","../../../../components/Storage/UI/StorageButton.vue","../../../../components/Storage/UI/StorageCreateCategory.vue","../../../../components/Storage/StorageNav.vue","../../../../components/Storage/StorageHeader.vue","../../../../components/Storage/StorageContent.vue","../../../../pages/base/storage.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport {useStorageStore} from \"~/stores/storage\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport type {ICurrentCategory, TGoods} from \"~/types/storage\";\r\n\r\nconst isActive = ref(false)\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst storageStore = useStorageStore()\r\ndefineProps({\r\n  item: {\r\n    type: Object as ()=> ICurrentCategory,\r\n    default: {} as ICurrentCategory\r\n  },\r\n  moveEffectSubCategory: {\r\n    type: Boolean\r\n  },\r\n  moveEffectSubCategoryWarn: {\r\n    type: Boolean,\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div @mouseenter=\"moveEffectSubCategory = true\" @mouseleave=\"moveEffectSubCategory = false\"\r\n       class=\"relative rounded-l-md dark:hover:bg-semiCyan hover:!bg-opacity-30 hover:bg-cyan transition-all\">\r\n    <NuxtLink :to=\"`/base/storage/${item.slug}`\"\r\n              :class=\"{'dark:bg-semiCyan': route.path === `/base/storage/${item.slug}/${route.params.id}`}\"\r\n              class=\"flex items-center w-full rounded-l-md p-1\"\r\n              @click=\"storageStore.currentCategory = {...item} as any\">\r\n      <div class=\"flex items-center gap-x-3 \">\r\n        <div class=\"text-semiCyan\">\r\n          •\r\n        </div>\r\n        <span class=\"tracking-wider\">{{ item.name }}</span>\r\n      </div>\r\n      <div>\r\n\r\n      </div>\r\n    </NuxtLink>\r\n    <Transition name=\"slide-right\">\r\n      <button v-if=\"moveEffectSubCategory\" class=\"absolute right-2 rounded-lg top-1\"\r\n              @click.stop=\"moveEffectSubCategoryWarn = true; moveEffectSubCategory = false\">\r\n        <svg width=\"25px\" height=\"25px\" viewBox=\"0 -5 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\r\n          <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\r\n            <g id=\"Icon-Set\" sketch:type=\"MSLayerGroup\" transform=\"translate(-516.000000, -1144.000000)\" class=\"dark:fill-white fill-black\">\r\n              <path d=\"M538.708,1151.28 C538.314,1150.89 537.676,1150.89 537.281,1151.28 L534.981,1153.58 L532.742,1151.34 C532.352,1150.95 531.718,1150.95 531.327,1151.34 C530.936,1151.73 530.936,1152.37 531.327,1152.76 L533.566,1154.99 L531.298,1157.26 C530.904,1157.65 530.904,1158.29 531.298,1158.69 C531.692,1159.08 532.331,1159.08 532.725,1158.69 L534.993,1156.42 L537.232,1158.66 C537.623,1159.05 538.257,1159.05 538.647,1158.66 C539.039,1158.27 539.039,1157.63 538.647,1157.24 L536.408,1155.01 L538.708,1152.71 C539.103,1152.31 539.103,1151.68 538.708,1151.28 L538.708,1151.28 Z M545.998,1162 C545.998,1163.1 545.102,1164 543.996,1164 L526.467,1164 L518.316,1154.98 L526.438,1146 L543.996,1146 C545.102,1146 545.998,1146.9 545.998,1148 L545.998,1162 L545.998,1162 Z M543.996,1144 L526.051,1144 C525.771,1143.98 525.485,1144.07 525.271,1144.28 L516.285,1154.22 C516.074,1154.43 515.983,1154.71 515.998,1154.98 C515.983,1155.26 516.074,1155.54 516.285,1155.75 L525.271,1165.69 C525.467,1165.88 525.723,1165.98 525.979,1165.98 L525.979,1166 L543.996,1166 C546.207,1166 548,1164.21 548,1162 L548,1148 C548,1145.79 546.207,1144 543.996,1144 L543.996,1144 Z\"\r\n                    id=\"delete\" sketch:type=\"MSShapeGroup\">\r\n              </path>\r\n            </g>\r\n          </g>\r\n        </svg>\r\n      </button>\r\n    </Transition>\r\n    <Transition name=\"slide-down\" class=\"text-center\">\r\n      <TheModal type=\"resize\" v-if=\"moveEffectSubCategoryWarn\" @showModal=\"moveEffectSubCategoryWarn = false\">\r\n        <TheTextContent>{{ $t('Удалить категорию?') }}</TheTextContent>\r\n        <div class=\"break-words tracking-wider my-4 text-sm\">\r\n          <p>{{ $t('Если вы удалите категорию то всё содержимое данной категории удалиться без возврата') }}</p>\r\n          <p class=\"mt-4\">{{ $t('Убедитесь что категория пустая, переместите нужные товары в другие категории') }}</p>\r\n        </div>\r\n        <div class=\"flex flex-wrap gap-x-10 justify-center\">\r\n          <TheButton type=\"chat\" @click=\"moveEffectSubCategoryWarn = false\">{{ $t('Отмена') }}</TheButton>\r\n          <TheButton type=\"chat\" @click=\"storageStore.deleteStorageElem({deleteType: 'subcategory', id: item.id}).then(res => {\r\n           if( storageStore.currentCategory.slug === item.slug) {\r\n             router.push('/base/storage')\r\n             storageStore.currentCategory = {} as any\r\n           } else storageStore.currentCategory\r\n          })\">\r\n            {{ $t('Удалить') }}\r\n          </TheButton>\r\n        </div>\r\n      </TheModal>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport StorageNavElemGoods from \"~/components/Storage/StorageNav/StorageNavElemGoods.vue\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport { useStorageStore } from \"~/stores/storage\";\r\n\r\nconst storageStore = useStorageStore();\r\nconst virtualElement = ref({ getBoundingClientRect: () => ({}) });\r\nconst isOpen = ref(false);\r\ndefineProps({\r\n  item: {\r\n    type: Object,\r\n    default: () => {},\r\n  },\r\n  isActiveCategory: {\r\n    type: Boolean,\r\n  },\r\n  moveEffectCategory: {\r\n    type: Boolean,\r\n  },\r\n  moveEffectCategoryWarn: {\r\n    type: Boolean,\r\n  },\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <button\r\n      @contextmenu.prevent\r\n      @mouseenter=\"moveEffectCategory = true\"\r\n      @mouseleave=\"moveEffectCategory = false\"\r\n      class=\"flex items-center justify-between w-full relative\"\r\n      @click=\"isActiveCategory = !isActiveCategory\"\r\n    >\r\n      <div class=\"flex items-center gap-x-3\">\r\n        <div>\r\n          <svg\r\n            class=\"dark:stroke-white stroke-black\"\r\n            width=\"30px\"\r\n            height=\"30px\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"M3.17004 7.43994L12 12.5499L20.77 7.46991\"\r\n              stroke-width=\"1.2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M12 21.6099V12.5399\"\r\n              stroke-width=\"1.2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M9.92999 2.48L4.59 5.45003C3.38 6.12003 2.39001 7.80001 2.39001 9.18001V14.83C2.39001 16.21 3.38 17.89 4.59 18.56L9.92999 21.53C11.07 22.16 12.94 22.16 14.08 21.53L19.42 18.56C20.63 17.89 21.62 16.21 21.62 14.83V9.18001C21.62 7.80001 20.63 6.12003 19.42 5.45003L14.08 2.48C12.93 1.84 11.07 1.84 9.92999 2.48Z\"\r\n              stroke-width=\"1.2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M17 13.24V9.58002L7.51001 4.09998\"\r\n              stroke-width=\"1.2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </div>\r\n        <span class=\"tracking-wider text-sm break-words\">{{ item.name }}</span>\r\n      </div>\r\n      <Transition name=\"fade\">\r\n        <button\r\n          v-if=\"moveEffectCategory\"\r\n          class=\"absolute right-5 rounded-lg\"\r\n          @click.stop=\"moveEffectCategoryWarn = true\"\r\n        >\r\n          <svg\r\n            class=\"dark:stroke-white stroke-black\"\r\n            width=\"25px\"\r\n            height=\"25px\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"M10 12V17\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              d=\"M14 12V17\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              d=\"M4 7H20\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              d=\"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              d=\"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n          </svg>\r\n        </button>\r\n      </Transition>\r\n\r\n      <div :class=\"{ 'rotate-180': isActiveCategory }\" class=\"transition-all\">\r\n        <svg\r\n          class=\"dark:fill-white fill-black\"\r\n          :class=\"{ '!fill-semiCyan': isActiveCategory }\"\r\n          width=\"20px\"\r\n          height=\"20px\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            d=\"M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z\"\r\n          ></path>\r\n        </svg>\r\n      </div>\r\n    </button>\r\n    <Transition name=\"slide-down\" class=\"text-center\">\r\n      <TheModal\r\n        type=\"resize\"\r\n        v-if=\"moveEffectCategoryWarn\"\r\n        @showModal=\"moveEffectCategoryWarn = false\"\r\n      >\r\n        <TheTextContent>{{ $t(\"Удалить коробку?\") }}</TheTextContent>\r\n        <div class=\"break-words tracking-wider my-4 text-sm\">\r\n          <p>\r\n            {{\r\n              $t(\r\n                \"Если вы удалите коробку то всё содержимое данной коробки удалиться без возврата\"\r\n              )\r\n            }}\r\n          </p>\r\n          <p class=\"mt-4\">\r\n            {{\r\n              $t(\r\n                \"Убедитесь что коробка пустая, переместите нужные товары в другие категории\"\r\n              )\r\n            }}\r\n          </p>\r\n        </div>\r\n        <div class=\"flex flex-wrap gap-x-10 justify-center\">\r\n          <TheButton type=\"chat\" @click=\"moveEffectCategoryWarn = false\">{{\r\n            $t(\"Отмена\")\r\n          }}</TheButton>\r\n          <TheButton\r\n            type=\"chat\"\r\n            @click=\"\r\n              storageStore.deleteStorageElem({ deleteType: 'category', id: item.id })\r\n            \"\r\n          >\r\n            {{ $t(\"Удалить\") }}</TheButton\r\n          >\r\n        </div>\r\n      </TheModal>\r\n    </Transition>\r\n    <Transition name=\"slide-down\">\r\n      <div v-if=\"item.sub_categories && isActiveCategory\">\r\n        <StorageNavElemGoods\r\n          class=\"mt-2\"\r\n          v-for=\"child in item.sub_categories\"\r\n          :item=\"child\"\r\n          :key=\"child.id\"\r\n        />\r\n      </div>\r\n    </Transition>\r\n    <UContextMenu @contextmenu.prevent v-model=\"isOpen\" :virtual-element=\"virtualElement\">\r\n      <StorageNavContextMenu>\r\n        <template v-slot:ContextMenuSvg>\r\n          <svg\r\n            class=\"dark:stroke-white stroke-black\"\r\n            width=\"23px\"\r\n            height=\"23px\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              data-v-a06cf116=\"\"\r\n              d=\"M10 12V17\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              data-v-a06cf116=\"\"\r\n              d=\"M14 12V17\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              data-v-a06cf116=\"\"\r\n              d=\"M4 7H20\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              data-v-a06cf116=\"\"\r\n              d=\"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n            <path\r\n              data-v-a06cf116=\"\"\r\n              d=\"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z\"\r\n              stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            ></path>\r\n          </svg>\r\n        </template>\r\n\r\n        <template v-slot:ContextMenuText>\r\n          {{ $t(\"Удалить\") }}\r\n        </template>\r\n      </StorageNavContextMenu>\r\n    </UContextMenu>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\"></style>\r\n","<script setup lang=\"ts\">\r\n</script>\r\n\r\n<template>\r\n  <button class=\"py-2 px-4 dark:bg-gray-600 bg-gray-200 rounded-lg tracking-wider transition-all\">\r\n    <slot/>\r\n  </button>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\n\r\nimport TheInput from \"~/components/UI/TheInput.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport {useStorageStore} from \"~/stores/storage\";\r\nimport StorageButton from \"~/components/Storage/UI/StorageButton.vue\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\n\r\nconst storageStore = useStorageStore()\r\nconst createType = ref('')\r\nconst selected = ref(storageStore.storageCategoryList)\r\nconst categoryTitle = ref('')\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"flex \">\r\n      <div class=\"w-full\">\r\n        <TheTextContent>{{ $t('Создание') }}</TheTextContent>\r\n      </div>\r\n      <button @click=\"storageStore.createCategory = false\">\r\n        <svg class=\"dark:stroke-white stroke-black\" width=\"20px\" height=\"20px\" viewBox=\"-0.5 0 25 25\" fill=\"none\"\r\n             xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M3 21.32L21 3.32001\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n          <path d=\"M3 3.32001L21 21.32\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <div>\r\n      <p class=\"my-2 text-sm tracking-wider text-center\">{{ $t('Выберите тип который хотите создать') }}</p>\r\n      <div class=\"flex gap-x-10 justify-center mt-4\">\r\n        <StorageButton :class=\"{'!bg-blueSemiLight text-white' : createType === 'category'}\" @click=\"createType = 'category'\">\r\n          {{ $t('Коробка') }}\r\n        </StorageButton>\r\n        <StorageButton :class=\"{'!bg-blueSemiLight text-white' : createType === 'subcategory'}\"\r\n                       @click=\"createType = 'subcategory'\">\r\n          {{ $t('Категория') }}\r\n        </StorageButton>\r\n      </div>\r\n    </div>\r\n    <form class=\"mt-10\" @submit.prevent>\r\n      <TheInput label=\"Наименование\" required v-model=\"categoryTitle\" type=\"text\"/>\r\n      <Transition name=\"slide-up\">\r\n        <div v-if=\"createType === 'subcategory'\" class=\"mt-4\">\r\n          <p>{{ $t('Выберите коробку') }}</p>\r\n          <div>\r\n            <USelectMenu searchable\r\n                         required\r\n                         :searchable-placeholder=\"$t('Поиск...')\"\r\n                         class=\"w-full\"\r\n                         select-class=\"dark:bg-gray-300 h-10 bg-white border dark:border-none\"\r\n                         placeholder=\"Выберите\"\r\n                         variant=\"none\"\r\n                         v-model=\"selected\"\r\n                         :options=\"storageStore.storageCategoryList\"\r\n                         option-attribute=\"name\"\r\n            >\r\n              <template #label>\r\n                <span class=\"dark:text-black\">{{selected.name}}</span>\r\n              </template>\r\n              <template #option-empty=\"{ query }\">\r\n                <q>{{ query }}</q> {{ $t('Не найдено') }}\r\n              </template>\r\n              <template #empty>\r\n                {{ $t('Ничего нет') }}\r\n              </template>\r\n            </USelectMenu>\r\n          </div>\r\n        </div>\r\n      </Transition>\r\n      <div class=\"flex justify-center gap-x-10 mt-6\">\r\n        <TheButton t=\"button\" type=\"chat\" @click=\"storageStore.createCategory = false\">{{ $t('Отмена') }}</TheButton>\r\n        <TheButton t=\"button\" type=\"chat\" @click=\"storageStore.createStorageCategoryOrSubcategory({createType: createType === 'category' ? 'category' : 'subcategory', category_id: createType === 'subcategory' ? selected.id : null, name: categoryTitle})\">{{ $t('Создать') }}</TheButton>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\r\nimport StorageNavElem from \"~/components/Storage/StorageNav/StorageNavElem.vue\";\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\nimport {useStorageStore} from \"~/stores/storage\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport StorageCreateCategory from \"~/components/Storage/UI/StorageCreateCategory.vue\";\r\nimport { handleSearch } from \"~/hooks/ElemUI\";\r\nconst router = useRouter()\r\nconst storageStore = useStorageStore()\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <TheContentBlock class=\"!p-0 h-screen max-[800px]:h-full \">\r\n      <div class=\"flex px-10 py-4 gap-x-4 items-center justify-between\">\r\n        <TheSearch v-model=\"storageStore.searchCategory\" class=\"w-11/12\" @search=\"handleSearch(storageStore.searchCategory, storageStore.searchCategory.trim() !== '' ? storageStore.loadStorageCategorySearch({query: storageStore.searchCategory}) : storageStore.loadStorageCategoryList())\"/>\r\n        <button @click=\"storageStore.createCategory = true\">\r\n          <svg class=\"dark:stroke-white stroke-black dark:hover:stroke-green-300 hover:stroke-green-500 transition-all\" width=\"40px\" height=\"40px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M23 18C23 18.75 22.79 19.46 22.42 20.06C22.21 20.42 21.94 20.74 21.63 21C20.93 21.63 20.01 22 19 22C17.78 22 16.69 21.45 15.97 20.59C15.95 20.56 15.92 20.54 15.9 20.51C15.78 20.37 15.67 20.22 15.58 20.06C15.21 19.46 15 18.75 15 18C15 16.74 15.58 15.61 16.5 14.88C17.19 14.33 18.06 14 19 14C20 14 20.9 14.36 21.6 14.97C21.72 15.06 21.83 15.17 21.93 15.28C22.59 16 23 16.95 23 18Z\"\r\n               stroke-width=\"1\" stroke-miterlimit=\"10\" stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"/>\r\n            <path d=\"M20.49 17.98H17.51\"  stroke-width=\"1\" stroke-miterlimit=\"10\"\r\n                  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M19 16.52V19.51\"  stroke-width=\"1\" stroke-miterlimit=\"10\" stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"/>\r\n            <path d=\"M3.17004 7.43994L12 12.5499L20.7701 7.46991\"  stroke-width=\"1\"\r\n                  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M12 21.6099V12.5399\"  stroke-width=\"1\" stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"/>\r\n            <path\r\n              d=\"M21.61 9.17V14.83C21.61 14.88 21.61 14.92 21.6 14.97C20.9 14.36 20 14 19 14C18.06 14 17.19 14.33 16.5 14.88C15.58 15.61 15 16.74 15 18C15 18.75 15.21 19.46 15.58 20.06C15.67 20.22 15.78 20.37 15.9 20.51L14.07 21.52C12.93 22.16 11.07 22.16 9.93001 21.52L4.59001 18.56C3.38001 17.89 2.39001 16.21 2.39001 14.83V9.17C2.39001 7.79 3.38001 6.11002 4.59001 5.44002L9.93001 2.48C11.07 1.84 12.93 1.84 14.07 2.48L19.41 5.44002C20.62 6.11002 21.61 7.79 21.61 9.17Z\"\r\n               stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <div class=\"max-[800px]:max-h-[400px] overflow-auto\">\r\n        <StorageNavElem class=\"mt-2 border-b pb-4 mx-4 dark:border-[#666D76] max-[800px]:last:border-none\" v-for=\"item in storageStore.storageCategoryList\" :isActive=\"storageStore.isActive\"\r\n                        :item=\"item\"/>\r\n      </div>\r\n    </TheContentBlock>\r\n   <Transition name=\"slide-down\">\r\n     <TheModal type=\"resize\" v-if=\"storageStore.createCategory\" @showModal=\"storageStore.createCategory = false\">\r\n        <StorageCreateCategory/>\r\n     </TheModal>\r\n   </Transition>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\nimport ScanAnimation from \"~/components/Storage/UI/ScanAnimation.vue\";\r\nimport {useStorageStore} from \"~/stores/storage\";\r\nimport { handleSearch } from \"~/hooks/ElemUI\";\r\nimport { useRoute } from \"vue-router\";\r\nconst storageStore = useStorageStore()\r\nconst modeInput = ref('')\r\nconst route = useRoute()\r\n  </script>\r\n\r\n<template>\r\n  <div class=\"flex justify-center gap-x-4 w-full mx-auto items-center\">\r\n     <form @submit.prevent class=\"w-full flex items-center justify-center gap-x-4\">\r\n      <TheSearch :mode=\"modeInput\" @focusout=\"modeInput = ''\" @search=\"storageStore.searchGoods.trim() !== '' && route.path === '/base/storage' ? storageStore.loadAllListSearch({search: storageStore.searchGoods}) : storageStore.loadStorageSubCategory({slug: route.params.slug, search: storageStore.searchGoods})\" v-model=\"storageStore.searchGoods\" class=\"!w-6/12\" type=\"text\" ref=\"scan\"/>\r\n      <div class=\"max-[800px]:hidden\">\r\n      <ScanAnimation @onScan=\"modeInput = 'scan'\" :mode=\"modeInput\"/>\r\n    </div>\r\n     </form>\r\n    <button class=\"max-[800px]:block hidden\" @click=\"$emit('openStreamSearch')\">\r\n      <svg class=\"dark:fill-white fill-black\" width=\"40px\" height=\"40px\" viewBox=\"0 0 24 24\" id=\"qr-code-scan-2\"\r\n           data-name=\"Flat Color\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path\r\n          d=\"M10,15v2a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V15a1,1,0,0,1,1-1H9A1,1,0,0,1,10,15Zm7-9H15a1,1,0,0,0-1,1V9a1,1,0,0,0,1,1h2a1,1,0,0,0,1-1V7A1,1,0,0,0,17,6Zm0,6H13a1,1,0,0,0-1,1v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V13A1,1,0,0,0,17,12ZM12,7a1,1,0,0,0-1-1H7A1,1,0,0,0,6,7v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1Z\"\r\n          style=\"fill: rgb(44, 169, 188); stroke-width: 1.2;\"></path>\r\n        <path\r\n          d=\"M3,9A1,1,0,0,1,2,8V4A2,2,0,0,1,4,2H8A1,1,0,0,1,8,4H4V8A1,1,0,0,1,3,9ZM22,8V4a2,2,0,0,0-2-2H16a1,1,0,0,0,0,2h4V8a1,1,0,0,0,2,0ZM9,21a1,1,0,0,0-1-1H4V16a1,1,0,0,0-2,0v4a2,2,0,0,0,2,2H8A1,1,0,0,0,9,21Zm13-1V16a1,1,0,0,0-2,0v4H16a1,1,0,0,0,0,2h4A2,2,0,0,0,22,20Z\"></path>\r\n      </svg>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport StorageCard from \"~/components/Storage/UI/StorageCard.vue\";\r\nimport {useStorageStore} from \"~/stores/storage\";\r\n\r\nconst storageStore = useStorageStore()\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex gap-4 flex-wrap\">\r\n    <StorageCard class=\"flex gap-2 flex-col max-[800px]:justify-center\" v-for=\"item in storageStore.storageHomeAllList\"\r\n                 :from=\"true\" :item=\"item\"/>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\r\nimport {useRoute} from \"vue-router\";\r\nimport {viewSelect} from \"~/hooks/ElemUI\";\r\nimport {QrcodeStream} from \"vue-qrcode-reader\";\r\nimport {useStorageStore} from \"~/stores/storage\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheBreadcrumbs from \"~/components/UI/TheBreadcrumbs.vue\";\r\nimport type {IScannedBarcode} from \"~/types/storage\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\n\r\nconst route = useRoute()\r\nconst storageStore = useStorageStore()\r\nconst scanning = ref('')\r\nconst selected = ref(viewSelect[0])\r\nconst inWidth = ref()\r\nconst scannedBarcode = ref<IScannedBarcode | null>(null)\r\nconst onDecode = (value: any) => {\r\n  scannedBarcode.value = value\r\n  storageStore.searchGoods = value\r\n  storageStore.loadAllListSearch({search: JSON.stringify(storageStore.searchGoods[0].rawValue)})\r\n  console.log(storageStore.searchGoods);\r\n  \r\n  storageStore.streaming = false\r\n}\r\n\r\nconst router = useRouter()\r\nconst loadAuthStore = useAuthStore()\r\nconst company = useCompanies()\r\n\r\nwatch(() => loadAuthStore.user, (newValue) => {\r\n  if(loadAuthStore?.user?.role?.name_en === 'admin'){\r\n    if (window.history.length > 1) {\r\n      router.push('/base/profile');\r\n    } else {\r\n      router.push('/');\r\n    }\r\n  }\r\n})\r\nwatch(() => company.company, (newValue) => {\r\n  let permission = company.company.modules?.find(item => item.name_en === 'task.create')\r\n  if(!permission){\r\n    if (window.history.length > 1) {\r\n      router.push('/base/profile');\r\n    } else {\r\n      router.push('/');\r\n    }\r\n  }\r\n})\r\n\r\nonMounted(() => {\r\n  inWidth.value = window.innerWidth\r\n  storageStore.loadStorageCategoryList()\r\n});\r\n\r\nonUpdated(() => {\r\n  if(route.path === `/base/storage`) {\r\n    storageStore.loadAllList()\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex max-[800px]:flex-wrap justify-between max-[800px]:h-full gap-y-10 gap-x-6\">\r\n    <div v-if=\"inWidth <= 800\">\r\n    </div>\r\n    <div class=\"w-4/12 max-lg:w-5/12 max-[800px]:w-full\">\r\n      <StorageNav/>\r\n    </div>\r\n    <div class=\"w-full flex flex-col gap-y-2\">\r\n      <TheContentBlock @scroll.prevent @wheel.prevent @touch.prevent>\r\n        <StorageHeader :ref=\"storageStore.scan\" @openStreamSearch=\"storageStore.streaming = true\"/>\r\n        <TheModal type=\"resize\" v-if=\"storageStore.streaming\"\r\n                  @showModal=\"storageStore.streaming = false; scannedBarcode = null\">\r\n          <p>{{ scannedBarcode ? JSON.stringify(scannedBarcode[0].rawValue) : 'not working' }}</p>\r\n          <QrcodeStream @detect=\"onDecode\"\r\n                        :formats=\"['qr_code', 'aztec', 'code_128', 'code_39', 'code_93', 'databar', 'codabar', 'linear_codes', 'micro_qr_code', 'databar_expanded', 'ean_13', 'ean_8','itf']\"/>\r\n        </TheModal>\r\n      </TheContentBlock>\r\n      <TheContentBlock class=\"w-full\">\r\n        <div class=\"flex justify-between items-center\">\r\n          <div class=\"flex items-center gap-x-4 mb-4\">\r\n            <TheBreadcrumbs\r\n              :breadcrumb-link=\"route.path === `/base/storage/${route.params.slug}` || route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}` ?`/base/storage` : ''\">\r\n              {{ $t('Главная') }}\r\n            </TheBreadcrumbs>\r\n            <div\r\n              v-if=\"route.path === `/base/storage/${route.params.slug}` || route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}`\">\r\n              <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                <path class=\"dark:stroke-white stroke-black\"\r\n                      d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                      stroke-width=\"2\" stroke-linecap=\"round\"></path>\r\n              </svg>\r\n            </div>\r\n            <TheBreadcrumbs v-if=\"route.path === `/base/storage/${route.params.slug}` || route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}`\"\r\n              :breadcrumb-link=\"route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}`?`/base/storage/${route.params.slug}`: ''\">\r\n              {{ storageStore.currentCategory.name ? storageStore.currentCategory.name : storageStore.storageItem.name }}\r\n            </TheBreadcrumbs>\r\n            <div v-if=\"route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}`\">\r\n              <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                <path class=\"dark:stroke-white stroke-black\"\r\n                      d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                      stroke-width=\"2\" stroke-linecap=\"round\"></path>\r\n              </svg>\r\n            </div>\r\n            <TheBreadcrumbs v-if=\"route.path === `/base/storage/${route.params.slug}/${route.params.nestedSlug}`\">\r\n              {{ route.params.nestedSlug }}\r\n            </TheBreadcrumbs>\r\n          </div>\r\n          <div>\r\n            <USelectMenu v-model=\"selected\" :options=\"viewSelect\">\r\n              <template #label>\r\n                <UIcon :name=\"selected.icon\" class=\"w-4 h-4\">\r\n                </UIcon>\r\n                {{ selected.label }}\r\n              </template>\r\n            </USelectMenu>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"!route.params.slug\" >\r\n          <StorageContent/>\r\n        </div>\r\n        <div v-else>\r\n          <NuxtPage/>\r\n        </div>\r\n      </TheContentBlock>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderSlot","useRouter"],"mappings":"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"}