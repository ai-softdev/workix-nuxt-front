{"version":3,"file":"sales-6VtDClO8.js","sources":["../../../../stores/sales.ts"],"sourcesContent":["import {defineStore} from \"pinia\";\r\nimport axios from \"~/composables/axios\";\r\nimport {toast} from \"vue3-toastify\";\r\nimport nuxtStorage from \"nuxt-storage/nuxt-storage\";\r\nexport const useSales = defineStore('sales', {\r\n    state:() => ({\r\n        sales: {}\r\n    }),\r\n    getters: {\r\n        get_objects(object) {\r\n            return this.objects\r\n        }\r\n    },\r\n    actions: {\r\n        async loadSalesList(params: any) {\r\n            axios.get(`sales/list?page=${params.page}&limit=${params.limit}${params.name ? `&name=${params.name}` : ''}${params.min_price ? `&min_price=${params.min_price}` : ''}${params.max_price ? `&max_price=${params.max_price}` : ''}${params.min_count ? `&min_count=${params.min_count}` : ''}${params.max_count ? `&max_count=${params.max_count}` : ''}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${nuxtStorage.localStorage.getData('token')}`\r\n                }\r\n            }).then(response => {\r\n                this.sales = response.data\r\n            })\r\n        },\r\n\r\n        async createItem(params: any) {\r\n\r\n            axios.post(`sales/create`, params.form, {\r\n                headers: {\r\n                    Authorization: `Bearer ${nuxtStorage.localStorage.getData('token')}`\r\n                }\r\n            }).then(response => {\r\n                toast.success('Товар успешно создан!', {autoClose: 1500, theme: 'auto'})\r\n            }).catch(e => {\r\n                toast.error(e, {autoClose: 1500, theme: 'auto'})\r\n                throw e;\r\n            })\r\n        },\r\n\r\n        // async loadObject(params: {id: number}) {\r\n        //     axios.get(`object/${params.id}`, {\r\n        //         headers: {\r\n        //             Authorization: `Bearer ${nuxtStorage.localStorage.getData('token')}`\r\n        //         }\r\n        //     }).then(response => {\r\n        //         this.objects = response.data\r\n        //     })\r\n        // },\r\n    }\r\n})"],"names":[],"mappings":";;;;AAIa,MAAA,WAAW,YAAY,SAAS;AAAA,EACzC,OAAM,OAAO;AAAA,IACT,OAAO,CAAC;AAAA,EAAA;AAAA,EAEZ,SAAS;AAAA,IACL,YAAY,QAAQ;AAChB,aAAO,KAAK;AAAA,IAChB;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL,MAAM,cAAc,QAAa;AACvB,YAAA,IAAI,mBAAmB,OAAO,IAAI,UAAU,OAAO,KAAK,GAAG,OAAO,OAAO,SAAS,OAAO,IAAI,KAAK,EAAE,GAAG,OAAO,YAAY,cAAc,OAAO,SAAS,KAAK,EAAE,GAAG,OAAO,YAAY,cAAc,OAAO,SAAS,KAAK,EAAE,GAAG,OAAO,YAAY,cAAc,OAAO,SAAS,KAAK,EAAE,GAAG,OAAO,YAAY,cAAc,OAAO,SAAS,KAAK,EAAE,IAAI;AAAA,QACtV,SAAS;AAAA,UACL,eAAe,UAAU,YAAY,aAAa,QAAQ,OAAO,CAAC;AAAA,QACtE;AAAA,MAAA,CACH,EAAE,KAAK,CAAY,aAAA;AAChB,aAAK,QAAQ,SAAS;AAAA,MAAA,CACzB;AAAA,IACL;AAAA,IAEA,MAAM,WAAW,QAAa;AAEpB,YAAA,KAAK,gBAAgB,OAAO,MAAM;AAAA,QACpC,SAAS;AAAA,UACL,eAAe,UAAU,YAAY,aAAa,QAAQ,OAAO,CAAC;AAAA,QACtE;AAAA,MAAA,CACH,EAAE,KAAK,CAAY,aAAA;AAChB,cAAM,QAAQ,yBAAyB,EAAC,WAAW,MAAM,OAAO,QAAO;AAAA,MAAA,CAC1E,EAAE,MAAM,CAAK,MAAA;AACV,cAAM,MAAM,GAAG,EAAC,WAAW,MAAM,OAAO,QAAO;AACzC,cAAA;AAAA,MAAA,CACT;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWJ;AACJ,CAAC;"}