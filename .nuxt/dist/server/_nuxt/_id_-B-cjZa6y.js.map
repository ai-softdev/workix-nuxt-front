{"version":3,"file":"_id_-B-cjZa6y.js","sources":["../../../../components/UI/TheFilter.vue","../../../../components/Company/department/DepartmentUserList.vue","../../../../pages/base/companies/department/[id].vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\nconst params = ref({\r\n  query: ''\r\n})\r\ndefineProps({\r\n  showFilter: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"max-md:absolute max-md:bottom-11 max-md:right-0\">\r\n    <form @submit.prevent class=\"flex items-center gap-x-10 my-10\">\r\n      <TheButton\r\n        @click=\"showFilter = !showFilter\"\r\n        class=\"tracking-widest rounded-full max-md:!bg-transparent dark:bg-gray-400 p-3 bg-gray-300 hover:bg-gray-400 transition-all duration-200\">\r\n        <p class=\"max-md:hidden\">{{ $t('Фильтры') }}</p>\r\n        <div class=\"max-md:block hidden\">\r\n          <svg class=\"!stroke-gray-700\" :class=\"{'!stroke-gray-300' : showFilter}\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M21 6H19M21 12H16M21 18H16M7 20V13.5612C7 13.3532 7 13.2492 6.97958 13.1497C6.96147 13.0615 6.93151 12.9761 6.89052 12.8958C6.84431 12.8054 6.77934 12.7242 6.64939 12.5617L3.35061 8.43826C3.22066 8.27583 3.15569 8.19461 3.10948 8.10417C3.06849 8.02393 3.03853 7.93852 3.02042 7.85026C3 7.75078 3 7.64677 3 7.43875V5.6C3 5.03995 3 4.75992 3.10899 4.54601C3.20487 4.35785 3.35785 4.20487 3.54601 4.10899C3.75992 4 4.03995 4 4.6 4H13.4C13.9601 4 14.2401 4 14.454 4.10899C14.6422 4.20487 14.7951 4.35785 14.891 4.54601C15 4.75992 15 5.03995 15 5.6V7.43875C15 7.64677 15 7.75078 14.9796 7.85026C14.9615 7.93852 14.9315 8.02393 14.8905 8.10417C14.8443 8.19461 14.7793 8.27583 14.6494 8.43826L11.3506 12.5617C11.2207 12.7242 11.1557 12.8054 11.1095 12.8958C11.0685 12.9761 11.0385 13.0615 11.0204 13.1497C11 13.2492 11 13.3532 11 13.5612V17L7 20Z\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </div>\r\n      </TheButton>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nconst loadCurrentUser = useAuthStore()\r\ndefineProps({\r\n  userItem: {\r\n    type: Object,\r\n    required: true,\r\n  },\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"my-6\">\r\n    <NuxtLink :to=\"`/base/users/${userItem.id}`\" class=\"transition-all shadow-md hover:shadow-lg border dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-4 rounded-lg flex max-[1241px]:flex-col max-[1241px]:gap-y-4 justify-between items-center cursor-pointer \">\r\n      <div class=\"flex items-center gap-x-4 w-3/12 max-lg:w-full max-lg:x-mx-auto\">\r\n        <img class=\"w-14 h-14 rounded-full\" :src=\"userItem.photo_url\" alt=\"\">\r\n        <h2 class=\"tracking-widest font-bold max-xl:text-center\">{{ userItem.first_name + ' ' + userItem.last_name }}</h2>\r\n      </div>\r\n      <div class=\"flex flex-col items-center justify-center w-5/12 max-lg:w-full  mx-auto\">\r\n        <p class=\"text-lg font-bold tracking-widest mb-2\" v-if=\"loadCurrentUser.user.role?.name_en === 'admin'\">{{$t('Роль | Должность')}}</p>\r\n        <p class=\"text-lg font-bold tracking-widest mb-2\" v-else>{{$t('Должность')}}</p>\r\n        <div class=\"text-center flex flex-col gap-y-2\">\r\n          <h2 class=\"tracking-widest text-sm text-gray-600\" v-if=\"loadCurrentUser.user.role?.name_en === 'admin'\">({{ userItem.role }})</h2>\r\n          <h2 class=\"tracking-widest text-md \">{{ userItem.position }}</h2>\r\n        </div>\r\n      </div>\r\n      <div class=\"w-2/12 max-[1241px]:w-full max-lg:x-mx-auto text-center\">\r\n        <h2 class=\"tracking-widest font-bold\">{{$t('Дата регистрации')}}</h2>\r\n      </div>\r\n    </NuxtLink>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport TheTitle from \"~/components/UI/TheTitle.vue\"\r\nimport TheBreadcrumbs from \"~/components/UI/TheBreadcrumbs.vue\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport {useRoute} from \"vue-router\";\r\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\nimport TheFilter from \"~/components/UI/TheFilter.vue\";\r\nimport DepartmentUserList from \"~/components/Company/department/DepartmentUserList.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport router from \"#app/plugins/router\";\r\nimport TheSceleton from \"~/components/UI/TheSceleton.vue\";\r\n\r\nconst currentDepartment = useCompanies()\r\nconst route = useRoute()\r\n\r\n\r\ndefineProps({\r\n  showWarning: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\nwatchEffect(() => {\r\n  currentDepartment.loadDepartment({id: route.params.id})\r\n})\r\nwatchSyncEffect(()=>{\r\n  useSeoMeta({\r\n    title: `${currentDepartment.current_department.name}`\r\n  })\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"mb-10\">\r\n      <TheTextContent :text-type=\"'pageTitle'\">{{ $t('Департамент') }} <span\r\n        class=\"text-base text-white bg-blueSemiLight py-2 px-4 rounded-full\">{{ currentDepartment.get_department.name}}</span>\r\n      </TheTextContent>\r\n    </div>\r\n    <div class=\"flex items-center gap-x-4\">\r\n      <TheBreadcrumbs :breadcrumb-link=\"`/base/companies`\">\r\n        {{ $t('Компания') }}\r\n      </TheBreadcrumbs>\r\n      <div>\r\n        <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <path class=\"dark:stroke-white stroke-black\"\r\n                d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                stroke-width=\"2\" stroke-linecap=\"round\"></path>\r\n        </svg>\r\n      </div>\r\n      <TheBreadcrumbs :breadcrumb-link=\"`/base/companies/department`\">\r\n        {{ $t('Департаменты') }}\r\n      </TheBreadcrumbs>\r\n      <div>\r\n        <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <path class=\"dark:stroke-white stroke-black\"\r\n                d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                stroke-width=\"2\" stroke-linecap=\"round\"></path>\r\n        </svg>\r\n      </div>\r\n      <TheBreadcrumbs>\r\n        {{ currentDepartment.get_department.name }}\r\n      </TheBreadcrumbs>\r\n    </div>\r\n    <div class=\"flex items-center gap-x-10\">\r\n      <div class=\"flex items-center w-11/12 gap-x-10\">\r\n        <TheSearch class=\"w-7/12\"></TheSearch>\r\n        <TheFilter/>\r\n      </div>\r\n      <TheButton type=\"danger\" class=\"px-10 py-2 rounded-full\" @click=\"showWarning = true\">{{ $t('Удалить') }}\r\n      </TheButton>\r\n      <TheModal v-if=\"showWarning\" @showModal=\"showWarning = !showWarning\">\r\n        <div>\r\n          <TheTextContent>{{ $t('Предупреждение') }}</TheTextContent>\r\n          <div class=\"text-center text-lg mt-2 tracking-widest\">\r\n            <p>{{ $t('Вы действительно хотите удалить департамент?') }}</p>\r\n            <p class=\"!text-base\">{{ $t('Удалённые департаменты восстановке не подлежат') }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex justify-center gap-x-10 mt-10\">\r\n          <TheButton type=\"danger\" class=\"w-3/12 py-2 rounded-full\" @click=\"showWarning = false\">{{ $t('Отмена') }}\r\n          </TheButton>\r\n          <TheButton type=\"success\" class=\"w-3/12 py-2 rounded-full\" @click=\"currentDepartment.deleteDepartment({id: currentDepartment.get_department.id}, $router)\">{{ $t('Удалить') }}</TheButton>\r\n        </div>\r\n      </TheModal>\r\n    </div>\r\n    <div class=\"flex gap-x-10 w-full\">\r\n      <div v-if=\"!currentDepartment.get_department?.id\" class=\"flex w-full gap-y-4 flex-col\">\r\n        <TheSceleton v-for=\"i in 5\" border-radius=\"10px\" width=\"90%\" height=\"80px\"></TheSceleton>\r\n      </div>\r\n      <div v-else class=\"w-full\">\r\n        <DepartmentUserList v-for=\"userItem in currentDepartment?.get_department?.participants\"\r\n                            :user-item=\"userItem\"></DepartmentUserList>\r\n      </div>\r\n      <div class=\"w-3/12\">\r\n        <TheContentBlock class=\"w-full\">\r\n          <TheTextContent>Информация</TheTextContent>\r\n          <div>\r\n            <div class=\"flex items-center my-4 gap-x-5 justify-center\">\r\n              <div class=\"flex items-center gap-x-2 w-8/12 max-md:w-9/12\">\r\n                <div>\r\n                  <svg width=\"25px\" height=\"25px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                       data-v-inspector=\"components/TheHeader.vue:26:11\">\r\n                    <g id=\"User / Users_Group\" data-v-inspector=\"components/TheHeader.vue:27:13\">\r\n                      <path id=\"Vector\" class=\"dark:stroke-white stroke-black\"\r\n                            d=\"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z\"\r\n                            stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                            data-v-inspector=\"components/TheHeader.vue:28:15\"></path>\r\n                    </g>\r\n                  </svg>\r\n                </div>\r\n                <p class=\"tracking-widest\">{{ $t('Сотрудников') }}: </p></div>\r\n              <div>\r\n                <p\r\n                  class=\"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white\" >{{currentDepartment.get_department.participants?.length}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </TheContentBlock>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGe,QAAI;AAAA,MACjB,OAAO;AAAA,IAAA,CACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHD,UAAM,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaxB,UAAM,oBAAoB;AAC1B,UAAM,QAAQ;AASd,gBAAY,MAAM;AAChB,wBAAkB,eAAe,EAAC,IAAI,MAAM,OAAO,IAAG;AAAA,IAAA,CACvD;AACD,oBAAgB,MAAI;AACP,iBAAA;AAAA,QACT,OAAO,GAAG,kBAAkB,mBAAmB,IAAI;AAAA,MAAA,CACpD;AAAA,IAAA,CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}