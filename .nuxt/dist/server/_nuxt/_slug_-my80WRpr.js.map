{"version":3,"file":"_slug_-my80WRpr.js","sources":["../../../../node_modules/@nuxt/ui/dist/runtime/ui.config/elements/meter.mjs","../../../../node_modules/@nuxt/ui/dist/runtime/components/elements/Meter.vue","../../../../hooks/Node.ts","../../../../components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainScheduleItem.vue","../../../../components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainSchedule.vue","../../../../components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainFileBtn.vue","../../../../components/documents/DocumentItemInfo/DocumentItemInfoChain.vue","../../../../components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainContentElems.vue","../../../../components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainContent.vue","../../../../components/documents/DocumentItemInfo/DocumentItemInfoContent.vue","../../../../pages/base/documents/[slug].vue"],"sourcesContent":["export default {\n  wrapper: \"w-full flex flex-col gap-2\",\n  indicator: {\n    container: \"min-w-fit transition-all\",\n    text: \"text-gray-400 dark:text-gray-500 text-end\",\n    size: {\n      \"2xs\": \"text-xs\",\n      xs: \"text-xs\",\n      sm: \"text-sm\",\n      md: \"text-sm\",\n      lg: \"text-sm\",\n      xl: \"text-base\",\n      \"2xl\": \"text-base\"\n    }\n  },\n  meter: {\n    base: \"appearance-none block w-full bg-none overflow-y-hidden\",\n    background: \"bg-gray-200 dark:bg-gray-700\",\n    color: \"text-{color}-500 dark:text-{color}-400\",\n    ring: \"\",\n    rounded: \"rounded-full\",\n    shadow: \"\",\n    size: {\n      \"2xs\": \"h-px\",\n      xs: \"h-0.5\",\n      sm: \"h-1\",\n      md: \"h-2\",\n      lg: \"h-3\",\n      xl: \"h-4\",\n      \"2xl\": \"h-5\"\n    },\n    appearance: {\n      inner: \"[&::-webkit-meter-inner-element]:block [&::-webkit-meter-inner-element]:relative [&::-webkit-meter-inner-element]:border-none [&::-webkit-meter-inner-element]:bg-none [&::-webkit-meter-inner-element]:bg-transparent\",\n      meter: \"[&::-webkit-meter-bar]:border-none [&::-webkit-meter-bar]:bg-none [&::-webkit-meter-bar]:bg-transparent\",\n      bar: \"[&::-webkit-meter-optimum-value]:border-none [&::-webkit-meter-optimum-value]:bg-none [&::-webkit-meter-optimum-value]:bg-current\",\n      value: \"[&::-moz-meter-bar]:border-none [&::-moz-meter-bar]:bg-none [&::-moz-meter-bar]:bg-current\"\n    },\n    bar: {\n      transition: \"[&::-webkit-meter-optimum-value]:transition-all [&::-moz-meter-bar]:transition-all\",\n      ring: \"\",\n      rounded: \"[&::-webkit-meter-optimum-value]:rounded-full [&::-moz-meter-bar]:rounded-full\",\n      size: {\n        \"2xs\": \"[&::-webkit-meter-optimum-value]:h-px [&::-moz-meter-bar]:h-px\",\n        xs: \"[&::-webkit-meter-optimum-value]:h-0.5 [&::-moz-meter-bar]:h-0.5\",\n        sm: \"[&::-webkit-meter-optimum-value]:h-1 [&::-moz-meter-bar]:h-1\",\n        md: \"[&::-webkit-meter-optimum-value]:h-2 [&::-moz-meter-bar]:h-2\",\n        lg: \"[&::-webkit-meter-optimum-value]:h-3 [&::-moz-meter-bar]:h-3\",\n        xl: \"[&::-webkit-meter-optimum-value]:h-4 [&::-moz-meter-bar]:h-4\",\n        \"2xl\": \"[&::-webkit-meter-optimum-value]:h-5 [&::-moz-meter-bar]:h-5\"\n      }\n    }\n  },\n  label: {\n    base: \"flex gap-2 items-center\",\n    text: \"truncate\",\n    color: \"text-{color}-500 dark:text-{color}-400\",\n    size: {\n      \"2xs\": \"text-xs\",\n      xs: \"text-xs\",\n      sm: \"text-sm\",\n      md: \"text-sm\",\n      lg: \"text-sm\",\n      xl: \"text-base\",\n      \"2xl\": \"text-base\"\n    }\n  },\n  color: {\n    white: \"text-white dark:text-black\",\n    black: \"text-black dark:text-white\",\n    gray: \"text-gray-500 dark:text-gray-400\"\n  },\n  default: {\n    size: \"md\",\n    color: \"primary\"\n  }\n};\n","<template>\n  <div :class=\"ui.wrapper\" v-bind=\"attrs\">\n    <template v-if=\"indicator || $slots.indicator\">\n      <slot name=\"indicator\" v-bind=\"{ percent, value }\">\n        <div :class=\"indicatorContainerClass\" :style=\"{ width: `${percent}%` }\">\n          <div :class=\"indicatorClass\">\n            {{ Math.round(percent) }}%\n          </div>\n        </div>\n      </slot>\n    </template>\n\n    <meter\n      :value=\"value\"\n      :min=\"normalizedMin\"\n      :max=\"normalizedMax\"\n      :class=\"[meterClass, meterAppearanceClass, meterBarClass]\"\n    />\n\n    <template v-if=\"label || $slots.label\">\n      <slot name=\"label\" v-bind=\"{ percent, value }\">\n        <div :class=\"labelClass\">\n          <UIcon v-if=\"icon\" :name=\"icon\" /> {{ label }}\n        </div>\n      </slot>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, toRef } from \"vue\";\nimport { twJoin } from \"tailwind-merge\";\nimport UIcon from \"./Icon.vue\";\nimport { useUI } from \"../../composables/useUI\";\nimport { mergeConfig } from \"../../utils\";\nimport appConfig from \"#build/app.config\";\nimport { meter } from \"#ui/ui.config\";\nconst config = mergeConfig(appConfig.ui.strategy, appConfig.ui.meter, meter);\nexport default defineComponent({\n  components: {\n    UIcon\n  },\n  inheritAttrs: false,\n  slots: Object,\n  props: {\n    value: {\n      type: Number,\n      default: 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    indicator: {\n      type: Boolean,\n      default: false\n    },\n    label: {\n      type: String,\n      default: null\n    },\n    size: {\n      type: String,\n      default: () => config.default.size,\n      validator(value) {\n        return Object.keys(config.meter.size).includes(value);\n      }\n    },\n    color: {\n      type: String,\n      default: () => config.default.color,\n      validator(value) {\n        return [...appConfig.ui.colors, ...Object.keys(config.color)].includes(value);\n      }\n    },\n    icon: {\n      type: String,\n      default: null\n    },\n    class: {\n      type: [String, Object, Array],\n      default: () => \"\"\n    },\n    ui: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const { ui, attrs } = useUI(\"meter\", toRef(props, \"ui\"), config, toRef(props, \"class\"));\n    function clampPercent(value, min, max) {\n      if (min == max) {\n        return value < min ? 0 : 100;\n      }\n      if (min > max) {\n        max = [min, min = max][0];\n      }\n      const percent2 = (value - min) / (max - min) * 100;\n      return Math.max(0, Math.min(100, percent2));\n    }\n    const indicatorContainerClass = computed(() => {\n      return twJoin(\n        ui.value.indicator.container\n      );\n    });\n    const indicatorClass = computed(() => {\n      return twJoin(\n        ui.value.indicator.text,\n        ui.value.indicator.size[props.size]\n      );\n    });\n    const meterClass = computed(() => {\n      return twJoin(\n        ui.value.meter.base,\n        ui.value.meter.background,\n        ui.value.meter.ring,\n        ui.value.meter.rounded,\n        ui.value.meter.shadow,\n        ui.value.color[props.color] ?? ui.value.meter.color.replaceAll(\"{color}\", props.color),\n        ui.value.meter.size[props.size]\n      );\n    });\n    const meterAppearanceClass = computed(() => {\n      return twJoin(\n        ui.value.meter.appearance.inner,\n        ui.value.meter.appearance.meter,\n        ui.value.meter.appearance.bar,\n        ui.value.meter.appearance.value\n      );\n    });\n    const meterBarClass = computed(() => {\n      return twJoin(\n        ui.value.meter.bar.transition,\n        ui.value.meter.bar.ring,\n        ui.value.meter.bar.rounded,\n        ui.value.meter.bar.size[props.size]\n      );\n    });\n    const labelClass = computed(() => {\n      return twJoin(\n        ui.value.label.base,\n        ui.value.label.text,\n        ui.value.color[props.color] ?? ui.value.label.color.replaceAll(\"{color}\", props.color),\n        ui.value.label.size[props.size]\n      );\n    });\n    const normalizedMin = computed(() => props.min > props.max ? props.max : props.min);\n    const normalizedMax = computed(() => props.max < props.min ? props.min : props.max);\n    const percent = computed(() => clampPercent(Number(props.value), normalizedMin.value, normalizedMax.value));\n    return {\n      // eslint-disable-next-line vue/no-dupe-keys\n      ui,\n      attrs,\n      indicatorContainerClass,\n      indicatorClass,\n      meterClass,\n      meterAppearanceClass,\n      meterBarClass,\n      labelClass,\n      normalizedMin,\n      normalizedMax,\n      percent\n    };\n  }\n});\n</script>\n","import isEqual from 'lodash/isEqual'\r\nimport {toast} from \"vue3-toastify\";\r\n\r\nclass Node {\r\n    self: any\r\n    parent: unknown\r\n    previous: any\r\n    constructor(self: any, parent = null, previous = null) {\r\n        this.self = self\r\n        this.parent = parent\r\n        this.previous = previous\r\n    }\r\n}\r\n\r\nexport class LinkedList {\r\n    head: any\r\n    tail: any\r\n    constructor() {\r\n        this.head = null\r\n        this.tail = null\r\n    }\r\n\r\n    append(self: any): void {\r\n        const node = new Node(self)\r\n        if (this.tail) {\r\n            this.tail.parent = node\r\n        }\r\n        if (!this.head) {\r\n            this.head = node\r\n        }\r\n        this.tail = node\r\n    }\r\n\r\n    delete(value: any) {\r\n        if (!this.head) {\r\n            return null\r\n        }\r\n        let deletedNode = null\r\n        while (this.head && isEqual(this.head.self, value)) {\r\n            deletedNode = this.head\r\n            this.head = this.head.parent\r\n        }\r\n        let currentNode = this.head\r\n        if (currentNode !== null) {\r\n            while (currentNode.parent) {\r\n                if (isEqual(currentNode.parent.self, value)) {\r\n                    deletedNode = currentNode.parent;\r\n                    currentNode.parent = currentNode.parent.parent\r\n                } else {\r\n                    currentNode = currentNode.parent\r\n                }\r\n            }\r\n        }\r\n        if (isEqual(this.tail?.self, value)) {\r\n            this.tail = currentNode;\r\n        }\r\n        return deletedNode\r\n    }\r\n\r\n    deleteNodeValue(targetValue: any, removeObject: any): void {\r\n        let current = this.head\r\n        while (current) {\r\n            if (isEqual(current.self, targetValue) && Array.isArray(current.self)) {\r\n                const indexToRemove = current.self.findIndex((obj: object) => isEqual(obj, removeObject))\r\n                if (indexToRemove !== -1) {\r\n                    current.self.splice(indexToRemove, 1)\r\n                    return\r\n                }\r\n            }\r\n            current = current.parent\r\n        }\r\n    }\r\n\r\n    replaceNodeValue(targetValue: any, newValue: any): void {\r\n        let current = this.head\r\n        while (current) {\r\n            if (isEqual(current.self, targetValue)) {\r\n                current.self = newValue\r\n                return\r\n            }\r\n            current = current.parent\r\n        }\r\n    }\r\n\r\n    addContentToNode(targetValue: any, content: any): void {\r\n        let current = this.head\r\n        while (current) {\r\n            if (isEqual(current.self, targetValue)) {\r\n                current.self.push(content);\r\n                return\r\n            }\r\n            current = current.parent\r\n        }\r\n\r\n    }\r\n\r\n    find(value: any) {\r\n        if (!this.head) {\r\n            return null\r\n        }\r\n        let currentNode = this.head\r\n        while (currentNode) {\r\n            if (isEqual(currentNode.self, value)) {\r\n                return currentNode\r\n            }\r\n            currentNode = currentNode.parent\r\n        }\r\n        return null\r\n    }\r\n\r\n    insertAfter(after: any, data: any) {\r\n        const found = this.find(after)\r\n        if (!found) {\r\n            return this\r\n        }\r\n        found.next = new Node(data, found.next)\r\n    }\r\n\r\n    swipeIfCondition() {\r\n        let current = this.head\r\n\r\n        while(current && current.parent){\r\n          if(current.self[0].priority < current.parent.self[0].priority){\r\n              const tempSelf = current.self;\r\n              current.self = current.parent.self;\r\n              current.parent.self = tempSelf;\r\n\r\n              const tempParent = current.self.parent;\r\n              current.self.parent = current.parent.self.parent;\r\n              current.parent.self.parent = tempParent;\r\n            toast.info('Пользователь был перемещен', {theme: 'auto', autoClose: 1500})\r\n          }\r\n          console.log(current)\r\n          current = current.parent\r\n        }\r\n\r\n    }\r\n\r\n    toArray(): any[] {\r\n        const nodes: any[] = []\r\n        let currentNode = this.head\r\n        while (currentNode) {\r\n            nodes.push(currentNode)\r\n            currentNode = currentNode.parent\r\n        }\r\n        return nodes\r\n    }\r\n}\r\n","<script setup lang=\"ts\">\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport {LinkedList} from \"~/hooks/Node\";\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport isEqual from \"lodash/isEqual\";\r\nimport {toast} from \"vue3-toastify\";\r\n\r\nconst props = defineProps({\r\n  item: {\r\n    type: Object,\r\n    default: () => {\r\n    }\r\n  },\r\n  currentUser: {\r\n    type: Object,\r\n    default: () => {\r\n    }\r\n  },\r\n})\r\n\r\n\r\nconst company = useCompanies()\r\nconst authStore = useAuthStore()\r\n\r\nconst draggedNode = ref(false)\r\nconst list = ref(new LinkedList())\r\nconst documentStore = useDocumentStore()\r\nconst appendData = (data: any) => {\r\n  list.value.append(data)\r\n}\r\nconst deleteData = (data: any) => {\r\n  list.value.delete(data)\r\n}\r\n\r\nconst deleteNodeValue = (targetValue: any, removeObject: any) => {\r\n  list.value.deleteNodeValue(targetValue, removeObject)\r\n}\r\n\r\nconst addContentNode = (targetValue: any, content: any) => {\r\n  list.value.addContentToNode(targetValue, content)\r\n  console.log(documentStore.userList)\r\n}\r\n\r\nconst swipeData = () => {\r\n  list.value.swipeIfCondition()\r\n}\r\n\r\nfunction dragEnterNode(event: any) {\r\n  draggedNode.value = true\r\n  event.target.classList.add('draggedToNode')\r\n  event.preventDefault()\r\n}\r\n\r\nfunction dragLeaveNode(event: any) {\r\n  draggedNode.value = false\r\n  event.target.classList.remove('draggedToNode')\r\n  event.preventDefault()\r\n}\r\n\r\nfunction dragEnterNodeValue(event: any) {\r\n  event.target.classList.add('draggedUser')\r\n  event.preventDefault()\r\n}\r\n\r\nfunction dragLeaveNodeValue(event: any) {\r\n  event.target.classList.remove('draggedUser')\r\n  event.preventDefault()\r\n}\r\n\r\nonMounted(() => {\r\n  if (documentStore.documentItem.documentusers?.length) {\r\n    list.value = new LinkedList()\r\n    console.log('mounted document yes')\r\n    documentStore.documentItem.documentusers.forEach(item => {\r\n      // if (!list.value.toArray().some(node => node.self.id === item.user?.id)) {\r\n        appendData([{\r\n          first_name: item.user?.first_name,\r\n          last_name: item.user?.last_name,\r\n          photo_url: item.user?.photo,\r\n          id: item.user?.id\r\n        }])\r\n      // }\r\n    })\r\n    watchSyncEffect(() => {\r\n      documentStore.userList = list.value.toArray().map(node => node.self)\r\n    })\r\n  } else {\r\n    console.log('mounted document no')\r\n    list.value = new LinkedList()\r\n    if (list.value.toArray().length === 0 && authStore.user?.first_name) {\r\n      appendData([{\r\n        first_name: authStore.user?.first_name,\r\n        last_name: authStore.user?.last_name,\r\n        photo_url: authStore.user?.photo,\r\n        id: authStore.user?.id\r\n      }])\r\n    }\r\n    watchSyncEffect(() => {\r\n      documentStore.userList = list.value.toArray().map(node => node.self)\r\n    })\r\n  }\r\n})\r\n\r\nwatch(() => documentStore.documentItem, () => {\r\n  if (documentStore.documentItem.documentusers?.length) {\r\n    list.value = new LinkedList()\r\n    console.log('watch document yes')\r\n    documentStore.documentItem.documentusers.forEach(item => {\r\n      appendData([{\r\n        first_name: item.user?.first_name,\r\n        last_name: item.user?.last_name,\r\n        photo_url: item.user?.photo,\r\n        id: item.user?.id\r\n      }]);\r\n    });\r\n    watchSyncEffect(() => {\r\n      documentStore.userList = list.value.toArray().map(node => node.self)\r\n    })\r\n  } else {\r\n    console.log('watch document no')\r\n    list.value = new LinkedList()\r\n    if (list.value.toArray().length === 0 && authStore.user?.first_name) {\r\n      appendData([{\r\n        first_name: authStore.user?.first_name,\r\n        last_name: authStore.user?.last_name,\r\n        photo_url: authStore.user?.photo,\r\n        id: authStore.user?.id\r\n      }])\r\n    }\r\n    watchSyncEffect(() => {\r\n      documentStore.userList = list.value.toArray().map(node => node.self)\r\n    })\r\n  }\r\n})\r\n\r\n// watch(() => authStore.user, (newValue) => {\r\n//   if (list.value.toArray().length === 0 && newValue?.first_name) {\r\n//     console.log('has user')\r\n//     appendData([{\r\n//       first_name: newValue?.first_name,\r\n//       last_name: newValue?.last_name,\r\n//       photo_url: newValue?.photo,\r\n//       id: newValue?.id\r\n//     }])\r\n//   }\r\n// })\r\n\r\n\r\nonUnmounted(() => {\r\n  documentStore.showUsersNode = []\r\n  documentStore.showDepartment = []\r\n})\r\n</script>\r\n\r\n<template>\r\n  <TransitionGroup name=\"list\" tag=\"div\" class=\"flex items-center \">\r\n    <div v-for=\"(userGroup, groupIndex) in documentStore.userList\" :key=\"groupIndex\"\r\n         class=\"px-2 h-full  z-20 relative flex items-center transition-all\"\r\n    >\r\n      <div class=\" transition-all\" @drop.prevent=\"console.log(123)\"\r\n           @dragenter.stop=\"groupIndex === 0 || userGroup.length == 0? '' :  dragEnterNode($event)\"\r\n           @dragleave.stop=\"dragLeaveNode\" ></div>\r\n      <div @dragleave.stop @dragenter.stop @drop.prevent=\"console.log(123)\" class=\"w-[220px] gap-y-6 flex items-center flex-col justify-center relative\"\r\n           :class=\"{'border border-dashed border-blueSemiLight h-20 rounded-lg' : userGroup.length === 0 || userGroup === null}\">\r\n        <p @click=\"console.log(userGroup)\" v-if=\"userGroup.length === 0\"\r\n           class=\"absolute text-blueSemiLight tracking-widest text-sm w-full h-full flex items-center justify-center rounded-lg transition-all duration-200\"\r\n           @dragenter.prevent=\"dragEnterNodeValue\" @dragleave.prevent=\"dragLeaveNodeValue\" >\r\n          {{ $t('Область для добавления') }}</p>\r\n        <div\r\n            v-if=\"groupIndex !== 0 && !userGroup[0]?.id\"\r\n            class=\"absolute top-0\"\r\n        >\r\n          <button\r\n              @click.stop=\"documentStore.showContext = groupIndex\"\r\n              class=\"rounded-lg border border-gray-500 dark:border-white absolute px-2.5 pt-1 -top-10 right-10 text-green-400 font-bold\"\r\n          >\r\n            +\r\n          </button>\r\n          <button @click.stop=\"deleteData(userGroup); documentStore.showContext = null; documentStore.showUsersNode = documentStore.showUsersNode.filter(user=> !userGroup.some(groupUser => groupUser.id === user.id))\"\r\n                  class=\"rounded-lg border border-gray-500 dark:border-white absolute px-2.5 pt-1 -top-10 left-10 text-red-400 font-bold\">\r\n            x\r\n          </button>\r\n        </div>\r\n        <Transition name=\"slide-down\" class=\"\" @click.stop>\r\n          <div v-if=\"documentStore.showContext === groupIndex\"\r\n               class=\"absolute rounded-lg dark:bg-gray-700 bg-gray-200 w-[220px] top-10 z-[5] p-2 \">\r\n            <input @click.stop type=\"text\" class=\"pl-2 dark:bg-gray-600 rounded-lg outline-none w-full mb-4\"\r\n                   :placeholder=\"$t('Поиск...')\">\r\n            <div class=\"overflow-auto max-h-[150px]\">\r\n              <div v-for=\"department in company.get_all_department.results\">\r\n                <button class=\"flex items-center justify-between gap-x-2 w-full break-words break-all\"\r\n                        @click=\"documentStore.showContextDepartment === department.id ? documentStore.showContextDepartment = null : documentStore.showContextDepartment = department.id\">\r\n                    <span>\r\n                      {{ department.name }}\r\n                    </span>\r\n                  <div :class=\"{'rotate-180' : documentStore.showContextDepartment === department.id}\">\r\n                    <svg class=\"dark:fill-white fill-black\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\"\r\n                         fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                            d=\"M6.46967 8.96967C6.76256 8.67678 7.23744 8.67678 7.53033 8.96967L12 13.4393L16.4697 8.96967C16.7626 8.67678 17.2374 8.67678 17.5303 8.96967C17.8232 9.26256 17.8232 9.73744 17.5303 10.0303L12.5303 15.0303C12.3897 15.171 12.1989 15.25 12 15.25C11.8011 15.25 11.6103 15.171 11.4697 15.0303L6.46967 10.0303C6.17678 9.73744 6.17678 9.26256 6.46967 8.96967Z\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n                <Transition name=\"slide-down\">\r\n                  <div v-if=\"documentStore.showContextDepartment === department.id\">\r\n                    <div v-for=\"user in department.participants\">\r\n                      <button\r\n                        v-if=\"department.participants && documentStore.showUsersNode.every(e=>e.id !== user.id) && user.id !== authStore.user.id && userGroup.every(e=>e.priority === user.priority) \"\r\n                        class=\"px-2 py-1 w-full flex items-center text-start hover:bg-semiCyan rounded-lg transition-all\"\r\n                        @click=\"addContentNode(userGroup, {...user}); documentStore.showUsersNode.push({id: user.id}); swipeData();documentStore.showContextDepartment = null; documentStore.showContext = null; console.log(userGroup.map(e=>e.priority))\"\r\n                      >\r\n                        <span class=\"\">{{ user.first_name + ' ' + user.last_name }}</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Transition>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Transition>\r\n        <TransitionGroup name=\"list\" tag=\"list\" class=\"flex flex-col gap-y-6 transition-all\">\r\n          <div\r\n              @click=\"console.log(documentStore.showUsersNode.filter(el=>el.id !== userGroup.filter(e=>e.id)))\"\r\n               class=\"h-24 w-[220px] border border-gray-500 dark:border-white px-2 rounded-lg text-center flex items-center justify-center mx-auto relative \"\r\n               v-for=\"(user, userIndex) in userGroup\" :key=\"userIndex\"\r\n          >\r\n            <div class=\"flex items-center gap-x-2\">\r\n              <div v-if=\"user.photo\" class=\"max-w-[50px]\">\r\n                <img class=\"w-full rounded-full\" :src=\"user.photo\" alt=\"\">\r\n              </div>\r\n              <div class=\"break-words\">\r\n                <p class=\"text-sm w-full\">\r\n                 {{user.first_name + ' ' + user.last_name}}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              class=\"absolute px-2.5 pt-1 top-0 right-0 border-l border-b border-gray-500 dark:border-white rounded rounded-tl-none rounded-br-none text-red-400 font-bold\"\r\n              v-if=\"documentStore.documentItem.status === 'created' && user.id !== authStore.user.id && groupIndex !== 0\"\r\n              @click=\"deleteNodeValue(userGroup, {...user}); documentStore.showUsersNode.splice(documentStore.showUsersNode.findIndex(e=>e.id === user?.id), 1)\">\r\n              X\r\n            </button>\r\n          </div>\r\n        </TransitionGroup>\r\n      </div>\r\n    </div>\r\n    <button\r\n        v-if=\"documentStore.documentItem.status === 'created'\"\r\n      class=\" text-2xl px-4 py-2 ml-4 rounded-lg border border-blueSemiLight text-blueDarkSemiLight cursor-pointer hover:scale-95 transition-all\"\r\n      @click=\"appendData([])\">\r\n      +\r\n    </button>\r\n  </TransitionGroup>\r\n</template>\r\n\r\n<style scoped lang=\"postcss\">\r\n.draggedUser {\r\n  background: rgba(14, 165, 233, 0.3);\r\n  @apply dark:text-white\r\n}\r\n\r\n.draggedToNode {\r\n  background: rgba(14, 165, 233, 0.1);\r\n}\r\n\r\n.list-enter-active,\r\n.list-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n\r\n.list-enter-from,\r\n.list-leave-to {\r\n  opacity: 0;\r\n  transform: translateX(30px);\r\n}\r\n</style>","<script setup lang=\"ts\">\r\nimport {useUserStore} from \"~/stores/users\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport DocumentItemInfoChainScheduleItem\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainScheduleItem.vue\";\r\nimport {LinkedList} from \"~/hooks/Node\";\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nconst authStore = useAuthStore()\r\nconst documentStore = useDocumentStore()\r\n</script>\r\n\r\n<template>\r\n  <div class=\"h-full \" @click=\"documentStore.showContext = null\">\r\n    <div class=\"h-[500px] grid overflow-auto border grid-cols-1\">\r\n      <DocumentItemInfoChainScheduleItem/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\n\r\n</script>\r\n\r\n<template>\r\n  <button class=\"rounded-lg transition-all duration-200\">\r\n    <slot/>\r\n  </button>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\n\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport DocumentItemInfoChainSchedule\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainSchedule.vue\";\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport DocumentItemInfoChainFile\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainFile.vue\";\r\nimport {LinkedList} from \"~/hooks/Node\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport { onMounted } from 'vue';\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst documentStore = useDocumentStore()\r\nconst authStore = useAuthStore()\r\n\r\nconst isSigning = ref(false);\r\n\r\nfunction loadScript(src: string): Promise<void> {\r\n  return new Promise((resolve, reject) => {\r\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\r\n      resolve();\r\n      return;\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.src = src;\r\n    script.async = true;\r\n    script.onload = () => resolve();\r\n    script.onerror = () => reject(new Error(`Ошибка загрузки скрипта ${src}`));\r\n\r\n    document.head.appendChild(script);\r\n  });\r\n}\r\n\r\nasync function loadEImzoScripts() {\r\n  try {\r\n    await loadScript('/e-imzo/e-imzo.js');\r\n    await loadScript('/e-imzo/e-imzo-client.js');\r\n    await loadScript('/e-imzo/micro-ajax.js');\r\n    await loadScript('/e-imzo/e-imzo-init.js');\r\n    console.log('✅ Все скрипты загружены');\r\n  } catch (error) {\r\n    console.error('❌ Ошибка загрузки скриптов E-IMZO', error);\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  await loadEImzoScripts();\r\n});\r\n\r\n\r\nasync function startAppLoad() {\r\n  try {\r\n    await loadScript(\"/e-imzo/e-imzo.js\");\r\n    await loadScript(\"/e-imzo/e-imzo-client.js\");\r\n    await loadScript(\"/e-imzo/micro-ajax.js\");\r\n    await loadScript(\"/e-imzo/e-imzo-init.js\");\r\n\r\n    if (window.EIMZOClient) {\r\n      console.log(\"✅ EIMZOClient загружен:\", window.EIMZOClient);\r\n      console.log(\"📜 Доступные методы EIMZOClient:\", Object.keys(window.EIMZOClient));\r\n\r\n      installKeys();\r\n    } else {\r\n      console.error(\"❌ EIMZOClient не найден после загрузки\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"❌ Ошибка при загрузке скриптов:\", error);\r\n  }\r\n}\r\n\r\nasync function installKeys() {\r\n  if (!window.EIMZOClient) {\r\n    console.error(\"EIMZOClient не загружен\");\r\n    return;\r\n  }\r\n\r\n  isSigning.value = true;\r\n  try {\r\n    EIMZOClient.checkVersion(function (major, minor) {\r\n      var newVersion = EIMZO_MAJOR * 100 + EIMZO_MINOR;\r\n      var installedVersion = parseInt(major) * 100 + parseInt(minor);\r\n      if (installedVersion < newVersion) {\r\n        console.log('installedVersion < newVersion');\r\n      } else {\r\n        EIMZOClient.installApiKeys(function () {\r\n          responseUsers()\r\n        }, function (e, r) {\r\n          if (r) {\r\n            console.log('da');\r\n          } else {\r\n            console.log('net');\r\n          }\r\n        });\r\n      }\r\n    }, function (e, r) {\r\n      if (r) {\r\n        console.log('da2');\r\n      } else {\r\n        console.log('net2');\r\n      }\r\n    });\r\n\r\n    // console.log(\"✅ Подписанные данные:\", signedData);\r\n\r\n    // await documentStore.updateDocument({ id: route.params.id, signedData });\r\n    console.log(\"📄 Документ успешно подписан и обновлён\");\r\n  } catch (error) {\r\n    console.error(\"❌ Ошибка при подписании документа:\", error);\r\n  } finally {\r\n    isSigning.value = false;\r\n  }\r\n}\r\n\r\nfunction responseUsers(){\r\n  EIMZOClient.listAllUserKeys(function(o, i){\r\n    var itemId = \"itm-\" + o.serialNumber + \"-\" + i;\r\n    return itemId;\r\n  },function(itemId, v){\r\n    return uiCreateItem(itemId, v);\r\n  },function(items, firstId){\r\n    console.log(items, 'ne putat');\r\n    //создать селект отобразить items\r\n    console.log(firstId);\r\n  },function(e, r){\r\n    if(e){\r\n      uiShowMessage(errorCAPIWS + \" : \" + e);\r\n    } else {\r\n      console.log(r);\r\n    }\r\n  });\r\n}\r\n\r\nvar uiCreateItem = function (itmkey, vo) {\r\n  var now = new Date();\r\n  vo.expired = dates.compare(now, vo.validTo) > 0;\r\n  var itm = document.createElement(\"option\");\r\n  itm.value = itmkey;\r\n  itm.text = vo.CN;\r\n  if (!vo.expired) {\r\n\r\n  } else {\r\n    itm.style.color = 'gray';\r\n    itm.text = itm.text + ' (срок истек)';\r\n  }\r\n  itm.setAttribute('vo',JSON.stringify(vo));\r\n  itm.setAttribute('id',itmkey);\r\n  return itm;\r\n}\r\n\r\nconst extractIds = (data: any[]): string[] => {\r\n  return data.flat().map(item => item.id).filter(id => id);\r\n};\r\n\r\nfunction startChain(){\r\n  let array = extractIds(documentStore.userList)\r\n  documentStore.setUsers({slug: route.params.slug, form: array}, router)\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"overflow-x-hidden \">\r\n    <TheTextContent class=\"my-4\">{{ $t('Выстраивание цепочки для подписания документа') }}</TheTextContent>\r\n    <div class=\"\">\r\n      <DocumentItemInfoChainSchedule :item=\"documentStore.documentItem\"/>\r\n    </div>\r\n    <div class=\" justify-center gap-x-10 border-b border-l border-r p-4 rounded-b-xl rounded-t-sm \">\r\n      <div class=\"flex gap-x-6 justify-center items-center\">\r\n        <DocumentItemInfoChainFile :item=\"documentStore.documentItem\"></DocumentItemInfoChainFile>\r\n      </div>\r\n      <div class=\"flex justify-center gap-x-10 mt-4\">\r\n        <TheButton\r\n            v-if=\"documentStore.documentItem.status === 'created' && documentStore.documentItem.author_id === authStore.user.id\"\r\n            :type=\"'documentBtn'\"\r\n            @click=\"documentStore.showWarn = true\"\r\n        >\r\n          {{ $t('Удалить документ') }}\r\n        </TheButton>\r\n        <TheButton\r\n            v-if=\"documentStore.documentItem.status === 'created'\"\r\n            :type=\"'documentBtn'\"\r\n             @click=\"startChain\"\r\n         >\r\n<!--          @click=\"documentStore.docUpdate({users: documentStore.userList.map((innerArray: any) => innerArray.filter((item : any)=> item.id !== authStore.user.id).map(item => item.id)).filter(innerArray => innerArray.length > 0), id: route.params.id}).then(res=>documentStore.loadDocument({id: route.params.id}))\"-->\r\n          {{ $t('Запустить цепь') }}\r\n        </TheButton>\r\n        <TheButton\r\n            v-if=\"documentStore.documentItem.status === 'processing' && documentStore.documentItem.current_documentuser?.user_id === authStore.user.id\"\r\n            :type=\"'documentBtn'\"\r\n            @click=\"router.push(`/base/documents/signification/${route.params.slug}`)\"\r\n        >\r\n          <!--          @click=\"documentStore.docUpdate({users: documentStore.userList.map((innerArray: any) => innerArray.filter((item : any)=> item.id !== authStore.user.id).map(item => item.id)).filter(innerArray => innerArray.length > 0), id: route.params.id}).then(res=>documentStore.loadDocument({id: route.params.id}))\"-->\r\n          {{ $t('Перейти к подписанию') }}\r\n        </TheButton>\r\n      </div>\r\n    </div>\r\n    <div class=\"my-6\">\r\n      <p class=\"text-center tracking-widest text-lg\">{{$t('Описание:')}}</p>\r\n      <p>{{documentStore.documentItem.description}}</p>\r\n    </div>\r\n    <TheModal :type=\"'resize'\" v-if=\"documentStore.showWarn\" @showModal=\"documentStore.showWarn = false\">\r\n      <TheTextContent>{{ $t('Удалить данный документ?') }}</TheTextContent>\r\n      <p class=\"text-sm tracking-widest text-gray-300 my-6 \">\r\n        {{ $t('Содержимое данного документа пропадёт и черновик не будет сохранён') }}</p>\r\n      <div class=\"flex justify-center gap-x-10 \">\r\n        <TheButton :type=\"'chat'\" @click=\"documentStore.showWarn = false\">\r\n          {{ $t('Отмена') }}\r\n        </TheButton>\r\n        <TheButton :type=\"'chat'\"\r\n                   @click=\"documentStore.docDelete({slug: route.params.slug}).then(res=> {router.push('/base/documents'); documentStore.showWarn = false})\">\r\n          {{ $t('Удалить') }}\r\n        </TheButton>\r\n      </div>\r\n    </TheModal>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\n\r\nimport {useAuthStore} from \"~/stores/auth\";\r\n\r\ndefineProps(['item'])\r\n\r\n\r\nconst authStore = useAuthStore()\r\n</script>\r\n\r\n<template>\r\n    <div v-if=\"item.self\" class=\"transition-all \">\r\n      <div class=\"flex items-center gap-x-6\">\r\n        <TransitionGroup name=\"list\" tag=\"list\" class=\"flex flex-col gap-y-6 transition-all\">\r\n          <div\r\n            class=\"h-24 border border-gray-500 dark:border-white w-[220px] px-2 rounded-lg text-center flex items-center justify-center mx-auto relative \"\r\n            v-for=\"(user, userIndex) in item.self\" :key=\"userIndex\">\r\n            <div class=\"flex gap-x-4 items-center\">\r\n              <div class=\"max-w-[50px]\">\r\n                <img class=\"w-full rounded-full\" :src=\"authStore.get_server_domain + user.photo\" alt=\"\">\r\n              </div>\r\n              <p class=\"text-[15px] w-full\">\r\n                {{ user.first_name + ' ' + user.last_name }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </TransitionGroup>\r\n        <DocumentItemInfoChainContentElems :item=\"item.parent\"/>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nimport DocumentItemInfoChainContentElems\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainContentElems.vue\";\r\n\r\ndefineProps({\r\n  item: {\r\n    type: Object,\r\n    default: () => {\r\n    }\r\n  }\r\n})\r\nconst documentStore = useDocumentStore()\r\n\r\nconst authStore = useAuthStore()\r\n</script>\r\n\r\n<template>\r\n  <TransitionGroup name=\"list\" tag=\"div\" class=\"flex overflow-x-auto w-full items-center gap-x-6 \">\r\n    <div\r\n      class=\"h-24 border border-gray-500 dark:border-white px-2 rounded-lg text-center flex items-center relative \">\r\n      <div class=\"flex gap-x-4 items-center w-[220px] \">\r\n        <div class=\"max-w-[50px]\">\r\n          <img class=\"w-full rounded-full\" :src=\"authStore.get_server_domain + item.author.photo\" alt=\"\">\r\n        </div>\r\n        <p class=\"text-[15px] w-full\">\r\n          {{ item.author?.first_name + ' ' + item.author?.last_name }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <DocumentItemInfoChainContentElems :item=\"documentStore.documentItem.chain\"/>\r\n  </TransitionGroup>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport DocumentItemInfoChainContent\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainContent.vue\";\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport DocumentItemInfoChainFile\r\n  from \"~/components/documents/DocumentItemInfo/DocumentIemInfoChain/DocumentItemInfoChainFile.vue\";\r\n\r\nconst documentStore = useDocumentStore()\r\n</script>\r\n\r\n<template>\r\n  <div class=\"\">\r\n    <div class=\"border rounded-t-lg rounded-b-sm h-[500px] grid gap-x-10 px-2 mt-10 overflow-auto \">\r\n      <DocumentItemInfoChainContent :item=\"documentStore.documentItem\"/>\r\n    </div>\r\n    <div class=\"border-b border-l border-r p-4 rounded-b-xl rounded-t-sm \">\r\n      <div class=\"flex gap-x-6 justify-center items-center\">\r\n        <DocumentItemInfoChainFile :item=\"documentStore.documentItem\"/>\r\n      </div>\r\n      <div class=\"flex justify-center gap-x-10 mt-6\">\r\n        <TheButton class=\"px-2 py-1 rounded-full\" :type=\"'danger'\">{{$t('Отклонить')}}</TheButton>\r\n        <TheButton class=\"px-2 py-1 rounded-full\" :type=\"'success'\">{{$t('Подтвердить')}}</TheButton>\r\n      </div>\r\n    </div>\r\n    <div class=\"my-6\">\r\n      <p class=\"text-center tracking-widest text-lg\">{{ $t('Описание:') }}</p>\r\n      <p class=\"text-sm\">{{documentStore.documentItem.description}}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport {useDocumentStore} from \"~/stores/documents\";\r\nimport {useRoute} from \"vue-router\";\r\nimport TheBreadcrumbs from \"~/components/UI/TheBreadcrumbs.vue\";\r\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport DocumentItemInfo from \"~/components/documents/DocumentItemInfo.vue\";\r\nimport DocumentItemInfoUserList from \"~/components/documents/DocumentItemInfo/DocumentItemInfoUserList.vue\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport {useUserStore} from \"~/stores/users\";\r\n\r\nconst documentStore = useDocumentStore()\r\nconst route = useRoute()\r\nconst company = useCompanies()\r\nconst user = useUserStore()\r\nonBeforeMount(() => {\r\n  documentStore.loadDocument({slug: route.params.slug})\r\n  if (documentStore.documentItem.receiver_id) {\r\n    user.loadUserList({page: 1, limit: 1000})\r\n  } else {\r\n    company.loadDepartmentList()\r\n  }\r\n})\r\n\r\nwatchSyncEffect(()=>{\r\n  useSeoMeta({\r\n    title: `${documentStore.documentItem.title}`\r\n  })\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex justify-center gap-x-6 h-full \">\r\n    <TheContentBlock class=\"w-full h-max\">\r\n      <TheTextContent class=\"mx-auto text-center\">{{ documentStore.documentItem.title }}</TheTextContent>\r\n      <div class=\"flex items-center gap-x-4\">\r\n        <TheBreadcrumbs :breadcrumb-link=\"'/base/documents'\">\r\n          {{ $t('Документы') }}\r\n        </TheBreadcrumbs>\r\n        <div>\r\n          <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path class=\"dark:stroke-white stroke-black\"\r\n                  d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                  stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n          </svg>\r\n        </div>\r\n        <TheBreadcrumbs>\r\n          {{ documentStore.documentItem.title }}\r\n        </TheBreadcrumbs>\r\n      </div>\r\n      <div class=\"mt-4\">\r\n        <UMeter min=\"0\" max=\"100\" indicator></UMeter>\r\n      </div>\r\n      <DocumentItemInfo :item=\"documentStore.documentItem\"/>\r\n    </TheContentBlock>\r\n<!--    <TheContentBlock class=\"w-3/12\">-->\r\n<!--      <DocumentItemInfoUserList/>-->\r\n<!--    </TheContentBlock>-->\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":["_sfc_main","UIcon","_ssrRenderAttrs","_mergeProps","_ssrRenderSlot","_ssrRenderClass","_ssrRenderStyle","_ssrInterpolate","_ssrRenderAttr","_ssrRenderComponent","_a","_b","_c","_d"],"mappings":"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","x_google_ignoreList":[0,1]}