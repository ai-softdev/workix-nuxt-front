{"version":3,"file":"index-dBIrrp3t.js","sources":["../../../../components/Company/department/DepartmentContentLists.vue","../../../../components/Company/department/DepartmentCreate.vue","../../../../pages/base/companies/department/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {useRouter} from \"vue-router\";\n\nconst router = useRouter()\ndefineProps({\n  departmentItem: {\n    type: Object,\n    default: () => {\n    }\n  }\n})\n</script>\n\n<template>\n  <div class=\"p-2 max-sm:w-full flex max-sm:block \">\n    <div @click=\"router.push(`/base/companies/department/${departmentItem.id}`)\"\n         class=\"transition-all text-center shadow-md overflow-hidden hover:shadow-lg border dark:shadow-gray-500 dark:border-gray-500 p-4 rounded-lg cursor-pointer \">\n      <div\n        class=\"items-center gap-x-4 max-lg:w-full max-md:justify-center tracking-widest text-lg max-sm:w-full max-sm:text-center\">\n        {{ departmentItem.name }}\n      </div>\n      <div class=\"text-center flex h-full justify-center gap-x-10 mt-4 break-words\">\n        <div class=\"flex flex-col items-center max-lg:w-6/12 max-sm:w-full \">\n          <p class=\"tracking-widest text-sm dark:text-gray-400\">{{ $t('Руководитель') }}</p>\n          <p class=\"mt-2\" v-if=\"departmentItem.department_director_name\">\n            {{departmentItem.department_director_name}}</p>\n          <div v-else class=\"\">\n            <svg class=\"dark:stroke-white stroke-black\" width=\"50px\" height=\"50px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 21V19.5C4 16.4624 6.46243 14 9.5 14H12.5C15.5376 14 18 16.4624 18 19.5V21M7 21V18M15 21V18M16.5 6L16.8367 5.49493C17.1969 4.95461 17.9371 4.82782 18.4566 5.21745C19.0073 5.63047 19.0645 6.43549 18.5778 6.92224L17.8536 7.64645C17.6272 7.87282 17.5 8.17986 17.5 8.5M17.5 10V10.2M13.8281 4.89801C14.6435 3.74945 15.9842 3 17.5 3C19.9853 3 22 5.01472 22 7.5C22 9.98528 19.9853 12 17.5 12C16.2549 12 15.1279 11.4943 14.3131 10.6771M15 8.00001C15 5.79086 13.2091 4 11 4C8.79086 4 7 5.79086 7 8.00001C7 10.2092 8.79086 12 11 12C11.8312 12 12.6032 11.7465 13.2429 11.3125C14.3033 10.5931 15 9.37794 15 8.00001Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"0.5\"/></svg>\n          </div>\n        </div>\n        <div class=\"h-full w-[1px] dark:bg-gray-500 bg-gray-300\"></div>\n        <div class=\"text-center flex flex-col  items-center max-lg:w-6/12 max-sm:w-full \">\n          <p class=\"tracking-widest text-sm dark:text-gray-400\">{{ $t('Заместитель') }}</p>\n          <p class=\"mt-2\" v-if=\"departmentItem.vice_department_director_name\">\n            {{departmentItem.vice_department_director_name}}</p>\n          <div v-else class=\"\">\n            <svg class=\"dark:stroke-white stroke-black\" width=\"50px\" height=\"50px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 21V19.5C4 16.4624 6.46243 14 9.5 14H12.5C15.5376 14 18 16.4624 18 19.5V21M7 21V18M15 21V18M16.5 6L16.8367 5.49493C17.1969 4.95461 17.9371 4.82782 18.4566 5.21745C19.0073 5.63047 19.0645 6.43549 18.5778 6.92224L17.8536 7.64645C17.6272 7.87282 17.5 8.17986 17.5 8.5M17.5 10V10.2M13.8281 4.89801C14.6435 3.74945 15.9842 3 17.5 3C19.9853 3 22 5.01472 22 7.5C22 9.98528 19.9853 12 17.5 12C16.2549 12 15.1279 11.4943 14.3131 10.6771M15 8.00001C15 5.79086 13.2091 4 11 4C8.79086 4 7 5.79086 7 8.00001C7 10.2092 8.79086 12 11 12C11.8312 12 12.6032 11.7465 13.2429 11.3125C14.3033 10.5931 15 9.37794 15 8.00001Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"0.5\"/></svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\nimport TheButton from \"~/components/UI/TheButton.vue\";\nimport TheModal from \"~/components/UI/TheModal.vue\";\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\nimport {useCompanies} from \"~/stores/companies\";\nimport TaskContentCreateElems from \"~/components/Tasks/TaskUI/TaskContentCreateElems.vue\";\nimport TheInput from \"~/components/UI/TheInput.vue\";\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\n\nconst department = useCompanies()\nconst props = defineProps({\n  showCreate: {\n    type: Boolean,\n    default: false\n  },\n\n})\nconst createForm = ref({\n  name: '',\n  email: '',\n  address: '',\n})\n</script>\n\n<template>\n  <div>\n    <TheButton class=\"w-full mr-auto\" type=\"signIn\" @click=\"showCreate = true\">{{ $t('Создать департамент') }}</TheButton>\n    <TheModal v-if=\"showCreate\" @showModal=\"showCreate = !showCreate\">\n      <TheTextContent>{{ $t('Создать департамент') }}</TheTextContent>\n      <form @submit.prevent=\"department.createDepartment({department: createForm}); showCreate = false; createForm.name = ' ' \">\n        <TaskContentCreateElems>\n            <div class=\"w-full \">\n              <TheInput type=\"text\" :label=\"$t('Наименование')\" v-model=\"createForm.name\"/>\n            </div>\n        </TaskContentCreateElems>\n        <div class=\"flex justify-center gap-x-10\">\n          <TheButton class=\"px-10 rounded-full py-2\" t=\"button\" type=\"danger\" @click=\"showCreate = false\">{{$t('Отменна')}}</TheButton>\n          <TheButton class=\"px-10 rounded-full py-2 bg-blueSemiLight\" t=\"submit\" @click=\"department.loadDepartmentList()\">{{$t('Создать')}}</TheButton>\n        </div>\n      </form>\n    </TheModal>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>","<script setup lang=\"ts\">\r\nimport DepartmentContentLists from \"~/components/Company/department/DepartmentContentLists.vue\";\r\nimport DepartmentCreate from \"~/components/Company/department/DepartmentCreate.vue\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\nimport TheFilter from \"~/components/UI/TheFilter.vue\";\r\nimport TheBreadcrumbs from \"~/components/UI/TheBreadcrumbs.vue\";\r\nimport TheContentBlock from \"~/components/UI/TheContentBlock.vue\";\r\nimport TheSceleton from \"~/components/UI/TheSceleton.vue\";\r\nimport TheTextarea from \"~/components/UI/TheTextareaAutosize.vue\";\r\nimport {useChat} from \"~/stores/chat\";\r\n\r\nconst chat = useChat()\r\nconst currentUser = useAuthStore()\r\nconst departmentList = useCompanies()\r\ndepartmentList.loadDepartmentList()\r\ndefineProps({\r\n  formTitle: String\r\n})\r\n\r\nconst router = useRouter()\r\nconst loadAuthStore = useAuthStore()\r\n\r\nwatch(() => loadAuthStore.user, (newValue) => {\r\n  if(loadAuthStore?.user?.role?.name_en === 'admin'){\r\n    if (window.history.length > 1) {\r\n      router.push('/base/profile');\r\n    } else {\r\n      router.push('/');\r\n    }\r\n  }\r\n})\r\n\r\nuseSeoMeta({\r\n  title: 'Департаменты',\r\n  description: 'Список департаментов компании'\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <TheTextContent :text-type=\"'pageTitle'\">{{ $t('Страница департаментов компании') }}</TheTextContent>\r\n    <div class=\"flex items-center gap-x-4\" v-if=\"currentUser.user.role_en !== 'admin'\">\r\n      <TheBreadcrumbs :breadcrumb-link=\"`/base/companies`\">\r\n        {{ $t('Компания') }}\r\n      </TheBreadcrumbs>\r\n      <div>\r\n        <svg width=\"15px\" height=\"15px\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <path class=\"dark:stroke-white stroke-black\"\r\n                d=\"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5\"\r\n                stroke-width=\"2\" stroke-linecap=\"round\"></path>\r\n        </svg>\r\n      </div>\r\n      <TheBreadcrumbs>\r\n        {{ $t('Департаменты') }}\r\n      </TheBreadcrumbs>\r\n    </div>\r\n    <div class=\"flex max-md:flex-wrap max-md:justify-center max-md:gap-y-4 relative items-center justify-between w-full gap-x-10 \">\r\n      <TheSearch class=\"w-9/12 max-md:w-full max-md:mx-auto max-md:relative\"/>\r\n      <TheFilter />\r\n      <DepartmentCreate class=\"w-3/12 max-md:w-9/12 max-md:mb-4 text-sm\"></DepartmentCreate>\r\n    </div>\r\n    <div class=\"flex max-lg:flex-col \">\r\n      <div v-if=\"!departmentList.get_all_department.results\" class=\"flex w-full gap-y-4 gap-x-4 flex-wrap\">\r\n        <TheSceleton v-for=\"item in 6\" border-radius=\"10px\" width=\"30%\" height=\"100px\" ></TheSceleton>\r\n      </div>\r\n      <div v-else class=\"w-full max-lg:order-2 flex flex-wrap\">\r\n        <DepartmentContentLists v-for=\"department in departmentList?.get_all_department.results\"\r\n                                :department-item=\"department\"></DepartmentContentLists>\r\n      </div>\r\n      <div class=\"w-3/12 max-lg:w-full max-lg:mb-8\">\r\n        <TheContentBlock>\r\n          <h2 class=\"text-center tracking-widest dark:text-white\">{{ $t('Информация о департамента') }}</h2>\r\n          <div class=\"mt-6\">\r\n            <div class=\"flex items-center my-4 gap-x-5 justify-center\">\r\n              <div class=\"flex items-center gap-x-2 w-8/12 max-md:w-9/12\">\r\n                <div>\r\n                  <svg class=\"dark:stroke-white stroke-black\" fill=\"none\" width=\"35px\" height=\"35px\" viewBox=\"0 0 24 24\"\r\n                       xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      d=\"M5.04146 3C5.22009 2.6906 5.55022 2.5 5.90748 2.5L9.75278 2.5C10.11 2.5 10.4402 2.6906 10.6188 3L12.5415 6.33013C12.7201 6.63953 12.7201 7.02073 12.5415 7.33013L10.6188 10.6603C10.4402 10.9697 10.11 11.1603 9.75278 11.1603H5.90748C5.55022 11.1603 5.22009 10.9697 5.04146 10.6603L3.11881 7.33013C2.94017 7.02073 2.94017 6.63953 3.11881 6.33013L5.04146 3Z\"></path>\r\n                    <path\r\n                      d=\"M5.1216 13.2272C5.30023 12.9178 5.63036 12.7272 5.98762 12.7272H9.83292C10.1902 12.7272 10.5203 12.9178 10.6989 13.2272L12.6216 16.5574C12.8002 16.8668 12.8002 17.248 12.6216 17.5574L10.6989 20.8875C10.5203 21.1969 10.1902 21.3875 9.83292 21.3875H5.98762C5.63036 21.3875 5.30023 21.1969 5.1216 20.8875L3.19895 17.5574C3.02031 17.248 3.02031 16.8668 3.19895 16.5574L5.1216 13.2272Z\"></path>\r\n                    <path\r\n                      d=\"M14.1216 8.22723C14.3002 7.91783 14.6304 7.72723 14.9876 7.72723L18.8329 7.72723C19.1902 7.72723 19.5203 7.91783 19.6989 8.22723L21.6216 11.5574C21.8002 11.8668 21.8002 12.248 21.6216 12.5574L19.6989 15.8875C19.5203 16.1969 19.1902 16.3875 18.8329 16.3875H14.9876C14.6304 16.3875 14.3002 16.1969 14.1216 15.8875L12.1989 12.5574C12.0203 12.248 12.0203 11.8668 12.1989 11.5574L14.1216 8.22723Z\"></path>\r\n                  </svg>\r\n                </div>\r\n                <p class=\"tracking-widest\">{{ $t('Количество') }}: </p></div>\r\n              <div>\r\n                <p\r\n                  class=\"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white\">\r\n                  <span>{{ departmentList.get_all_department.count }}</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </TheContentBlock>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":["useRouter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGe,cAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMzB,UAAM,aAAa;AAQnB,UAAM,aAAa,IAAI;AAAA,MACrB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,IAAA,CACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPY,YAAQ;AACrB,UAAM,cAAc;AACpB,UAAM,iBAAiB;AACvB,mBAAe,mBAAmB;AAKlC,UAAM,SAASA;AACf,UAAM,gBAAgB;AAEtB,UAAM,MAAM,cAAc,MAAM,CAAC,aAAa;;AAC5C,YAAG,0DAAe,SAAf,mBAAqB,SAArB,mBAA2B,aAAY,SAAQ;AAC5C,YAAA,SAAO,QAAQ,SAAS,GAAG;AAC7B,iBAAO,KAAK,eAAe;AAAA,QAAA,OACtB;AACL,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AAAA,IAAA,CACD;AAEU,eAAA;AAAA,MACT,OAAO;AAAA,MACP,aAAa;AAAA,IAAA,CACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}