{"version":3,"file":"index-DsLiM5os.js","sources":["../../../../components/User/UserUI/UserContentCreateElems.vue","../../../../components/User/UserCreate.vue","../../../../components/User/UserContentList.vue","../../../../components/User/UserContent.vue","../../../../pages/base/users/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\n\r\n</script>\r\n\r\n<template>\r\n<div class=\"flex max-lg:flex-wrap justify-center gap-x-10 my-10 mx-auto w-full\">\r\n  <slot/>\r\n</div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup>\r\nimport TheButton from \"~/components/UI/TheButton.vue\";\r\nimport TheInput from \"~/components/UI/TheInput.vue\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\"\r\nimport UserContentCreateElems from \"~/components/User/UserUI/UserContentCreateElems.vue\";\r\n\r\nimport {useUserStore} from \"~/stores/users\";\r\nimport {useCompanies} from \"~/stores/companies\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\n\r\n\r\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\r\n\r\nconst loadCurrentUser = useAuthStore()\r\nconst company = useCompanies()\r\nconst userList = useUserStore()\r\nconst previewUrl = ref(null)\r\nconst createForm = ref({\r\n  email: '',\r\n  first_name: '',\r\n  last_name: '',\r\n  patronymic: '',\r\n  password: '',\r\n  phone: '',\r\n  photo: '',\r\n  position: '',\r\n  head_user_id: '',\r\n  date_of_birth: new Date().toDateString(),\r\n  company_id: Number(),\r\n  department_id: Number(),\r\n  department: {},\r\n  role_id: Number(),\r\n  permissions: {}\r\n})\r\n\r\nfunction loads() {\r\n  userList.loadPositionList()\r\n  userList.loadUserList()\r\n  company.loadDepartmentList();\r\n}\r\n\r\ndefineProps({\r\n  showCreateUser: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n})\r\n\r\nfunction createAdmin() {\r\n  if (createForm.value.department?.id) {\r\n    createForm.value.department_id = createForm.value.department.id;\r\n  }\r\n  userList.createAdmin(createForm.value);\r\n  createForm.value = {\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    patronymic: '',\r\n    password: '',\r\n    phone: '',\r\n    photo: '',\r\n    position: '',\r\n    head_user_id: '',\r\n    date_of_birth: new Date().toDateString(),\r\n    company_id: Number(),\r\n    department_id: Number(),\r\n    department: {},\r\n    role_id: Number(),\r\n    permissions: {}\r\n  };\r\n}\r\n\r\nfunction createUser() {\r\n  if (createForm.value.department?.id) {\r\n    createForm.value.department_id = createForm.value.department.id;\r\n  }\r\n  userList.createUser(createForm.value);\r\n  createForm.value = {\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    patronymic: '',\r\n    password: '',\r\n    phone: '',\r\n    photo: '',\r\n    position: '',\r\n    head_user_id: '',\r\n    date_of_birth: new Date().toDateString(),\r\n    company_id: Number(),\r\n    department_id: Number(),\r\n    department: {},\r\n    role_id: Number(),\r\n    permissions: {}\r\n  };\r\n}\r\n\r\nconst showDropdown = ref(false);\r\nconst filteredPositions = ref([]);\r\nconst filterPositions = () => {\r\n  if (!createForm.value.position) {\r\n    filteredPositions.value = userList.get_position_list;\r\n  } else {\r\n    filteredPositions.value = userList.get_position_list.filter(position =>\r\n        position.name.toLowerCase().includes(createForm.value.position.toLowerCase())\r\n    );\r\n  }\r\n  showDropdown.value = true;\r\n};\r\n\r\nconst selectPosition = (name) => {\r\n  createForm.value.position = name;\r\n  showDropdown.value = false;\r\n};\r\n\r\nfunction handleImageUpload(event) {\r\n  const file = event.target.files[0]\r\n  if (file && file.type.startsWith('image/')) {\r\n    createForm.value.photo = file\r\n    previewUrl.value = URL.createObjectURL(file)\r\n  } else {\r\n    createForm.value.photo = null\r\n    previewUrl.value = null\r\n  }\r\n}\r\n\r\nconst hideDropdown = () => {\r\n  setTimeout(() => {\r\n    showDropdown.value = false;\r\n  }, 200);\r\n};\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <TheButton\r\n        class=\"max-md:w-full w-full text-sm\"\r\n        type=\"golden\"\r\n        v-if=\"loadCurrentUser.current_user.permissions\"\r\n        @click=\"showCreateUser = true; loads(); loadCurrentUser.user.role?.name_en === 'admin' ? company.loadCompanyList({page: 1, limit: 1000, query: ''}) : ''\"\r\n    >\r\n      + {{ $t('Создать пользователя') }}\r\n    </TheButton>\r\n    <TheModal\r\n        v-if=\"showCreateUser\"\r\n        @showModal=\"showCreateUser = !showCreateUser; !showCreateUser ? createForm = {} : createForm = {} \"\r\n        :show-create-user=\"showCreateUser\"\r\n    >\r\n      <div class=\"p-6 !pb-0\">\r\n        <TheTextContent class=\"!text-start font-bold !text-3xl\">{{ $t('Создание пользователя') }}</TheTextContent>\r\n        <form\r\n            enctype=\"multipart/form-data\"\r\n            @submit.prevent=\"loadCurrentUser.user.role?.name_en === 'admin' ? createAdmin() : createUser()\"\r\n        >\r\n          <div class=\"grid grid-cols-2 gap-4 mt-8 pb-6 border-b mb-6\">\r\n            <div class=\"w-full max-lg:w-full\">\r\n              <TheInput type=\"text\" :label=\"$t('Имя')\" v-model=\"createForm.first_name\"/>\r\n            </div>\r\n            <div class=\"w-full max-lg:w-full\">\r\n              <TheInput type=\"text\" :label=\"$t('Фамилия')\" v-model=\"createForm.last_name\"/>\r\n            </div>\r\n            <div class=\"w-full max-lg:w-full\">\r\n              <TheInput type=\"text\" :label=\"$t('Отчество')\" v-model=\"createForm.patronymic\"/>\r\n            </div>\r\n            <div class=\"w-full max-lg:w-full flex flex-col\">\r\n              <p class=\"text-md font-medium dark:text-white\">{{ $t('Дата рождения') }}</p>\r\n              <TheInput type=\"date\" class=\"w-full rounded-lg outline-1\"\r\n                        id=\"date\"\r\n                        placeholder=\"Выбрать\"\r\n                        v-model=\"createForm.date_of_birth\"\r\n              />\r\n              <!--            <VueDatePicker v-model=\"createForm.date_of_birth\" :select-text=\"$t('Выбрать')\"-->\r\n              <!--                           :cancel-text=\"$t('Отменить')\" placeholder=\"Start Typing ...\" text-input-->\r\n              <!--                           class=\"w-full max-lg:hidden rounded-lg p-2 dark:border-none mx-auto outline-semiCyan outline-1\"-->\r\n              <!--                           auto-apply-->\r\n              <!--                           multi-calendars-solo/>-->\r\n<!--              <input type=\"date\" v-model=\"createForm.date_of_birth\"-->\r\n<!--                     class=\"max-lg:block border outline-semiCyan dark:outline-none outline-1 dark:border-none hidden p-4 dark:bg-gray-300 dark:text-black mb-4 rounded-lg\">-->\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-2 gap-4\">\r\n            <div class=\"w-full\">\r\n              <div class=\"text-md font-medium dark:text-white flex items-center gap-2\">\r\n                <img src=\"/icons/email.svg\" alt=\"email\">\r\n                <p>\r\n                  {{ $t('Почта') }}\r\n                </p>\r\n              </div>\r\n              <TheInput type=\"text\" v-model=\"createForm.email\"/>\r\n            </div>\r\n            <div class=\"w-full flex flex-col\">\r\n              <div class=\"text-md font-medium dark:text-white flex items-center gap-2\">\r\n                <img src=\"/icons/phone.svg\" alt=\"phone\">\r\n                <p>\r\n                  {{ $t('Номер телефона') }}\r\n                </p>\r\n              </div>\r\n              <TheInput type=\"tel\" class=\"w-full\"\r\n                        id=\"phone\"\r\n                        placeholder=\"+998 (__) ___-__-__\"\r\n                        v-model=\"createForm.phone\"\r\n              />\r\n            </div>\r\n            <div class=\"w-full\">\r\n              <div class=\"text-md font-medium dark:text-white flex items-center gap-2\">\r\n                <img src=\"/icons/password.svg\" alt=\"password\">\r\n                <p>\r\n                  {{ $t('Пароль') }}\r\n                </p>\r\n              </div>\r\n              <TheInput type=\"password\" v-model=\"createForm.password\"/>\r\n            </div>\r\n          </div>\r\n\r\n          <UserContentCreateElems>\r\n            <div class=\"w-6/12 flex flex-col max-lg:w-full\">\r\n              <div v-if=\"previewUrl\" class=\"mt-4\">\r\n                <img\r\n                    :src=\"previewUrl\"\r\n                    alt=\"Превью\"\r\n                    class=\"mx-auto w-32 h-32 object-cover rounded-lg shadow-icons\"\r\n                />\r\n              </div>\r\n              <p class=\"text-md font-medium dark:text-white\">{{ $t('Фото') }}</p>\r\n              <label class=\"cursor-pointer bg-whiteSmoke hover:bg-gray-100 rounded-lg border-dashed border p-4 transition-all mt-2\">\r\n                <input type=\"file\" name=\"file\" :label=\"'Фото'\" class=\"dark:text-white cursor-pointer\"\r\n                       @input=\"handleImageUpload\">\r\n              </label>\r\n            </div>\r\n          </UserContentCreateElems>\r\n          <UserContentCreateElems>\r\n            <div class=\"w-6/12 max-lg:w-full relative\">\r\n              <p class=\"text-md dark:text-white font-medium\">{{ $t('Должность') }}</p>\r\n              <input\r\n                  type=\"text\"\r\n                  v-model=\"createForm.position\"\r\n                  class=\"dark:text-white w-full dark:bg-gray-300 bg-whiteSmoke rounded-full p-2 dark:border-none text-black border focus:outline-golden mt-2 outline-1 \"\r\n                  @focus=\"showDropdown = true\"\r\n                  @blur=\"hideDropdown\"\r\n                  @input=\"filterPositions\"\r\n              />\r\n              <ul v-if=\"showDropdown && filteredPositions.length\"\r\n                  class=\"absolute z-10 bg-white dark:bg-gray-800 w-full rounded-lg mt-1 border border-gray-300 dark:border-gray-600 shadow-md max-h-40 overflow-y-auto\">\r\n                <li v-for=\"position in filteredPositions\" :key=\"position.name\"\r\n                    @mousedown=\"selectPosition(position.name)\"\r\n                    class=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer\">\r\n                  {{ position.name }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </UserContentCreateElems>\r\n          <UserContentCreateElems>\r\n            <!--          <div class=\"w-full\">-->\r\n            <!--            <p v-if=\"loadCurrentUser.user.role.name_en === 'admin'\"-->\r\n            <!--               class=\"text-md dark:text-white tracking-widest mb-2\">{{ $t('Компании') }}</p>-->\r\n            <!--            <p v-else class=\"text-md dark:text-white tracking-widest mb-2\">{{ $t('Компания') }}</p>-->\r\n            <!--            <select type=\"text\" v-model=\"createForm.company_id\"-->\r\n            <!--                    class=\"w-full dark:bg-gray-300 rounded-lg p-2.5 border dark:border-none outline-semiCyan outline-1 text-black\"-->\r\n            <!--                    v-if=\"loadCurrentUser?.user.role.name_en === 'admin'\">-->\r\n            <!--              <option class=\"text-black\" v-for=\"companyItem in company?.get_all_company?.results\"-->\r\n            <!--                      :value=\"companyItem.id\">-->\r\n            <!--                {{ companyItem.name }}-->\r\n            <!--              </option>-->\r\n            <!--            </select>-->\r\n            <!--            <div v-else-if=\"loadCurrentUser.user.role.name_en === 'company_admin'\">-->\r\n            <!--              <p class=\"text-md dark:text-white tracking-widest mb-2\">{{ loadCurrentUser.user.company }}</p>-->\r\n            <!--            </div>-->\r\n            <!--          </div>-->\r\n            <div class=\"w-6/12 max-lg:w-full\" v-if=\"loadCurrentUser.user.role.name_en === 'company_admin'\">\r\n              <p class=\"text-md dark:text-white font-medium\">{{ $t('Отдел') }}</p>\r\n              <select type=\"text\" v-model=\"createForm.department\"\r\n                      class=\"dark:text-white w-full dark:bg-gray-300 bg-whiteSmoke rounded-full p-2 dark:border-none text-black border focus:outline-golden mt-2 outline-1\">\r\n                <option v-for=\"department in company?.get_all_department.results\" :value=\"department\">\r\n                  {{ department.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </UserContentCreateElems>\r\n          <UserContentCreateElems v-if=\"createForm.department?.participants?.length\">\r\n            <div class=\"w-6/12 max-lg:w-full\">\r\n              <p class=\"text-md dark:text-white font-medium\">{{ $t('Руководитель') }}</p>\r\n              <TheInput v-if=\"!userList?.get_position_list\" type=\"text\" name=\"text\" :label=\"'Руководитель'\" class=\"dark:text-white cursor-pointer\" v-model=\"createForm.head_user_id\"/>\r\n              <select v-model=\"createForm.head_user_id\"\r\n                      class=\"dark:text-white w-full dark:bg-gray-300 bg-whiteSmoke rounded-full p-2 dark:border-none text-black border focus:outline-golden mt-2 outline-1 \">\r\n                <option v-for=\"participant in createForm.department.participants\" :key=\"participant.id\" :value=\"participant.id\">\r\n                  {{ participant.first_name }} {{ participant.last_name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </UserContentCreateElems>\r\n          <UserContentCreateElems>\r\n            <TheButton\r\n                class=\"w-4/12 rounded-full flex items-center justify-center !text-black hover:!bg-gray-200 gap-3 py-2 !bg-porcelain !border transition-all ease-in-out duration-300\"\r\n                t=\"button\"\r\n                @click=\"showCreateUser = false\"\r\n            >\r\n              {{ $t('Отменить') }}\r\n            </TheButton>\r\n            <TheButton\r\n                class=\"w-4/12 rounded-full flex items-center justify-center !text-black hover:!shadow-golden gap-3 py-2 !bg-golden !border transition-all ease-in-out duration-300\"\r\n                t=\"submit\"\r\n                type=\"success\"\r\n            >\r\n              {{ $t('Создать') }}\r\n            </TheButton>\r\n          </UserContentCreateElems>\r\n        </form>\r\n      </div>\r\n    </TheModal>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nconst loadCurrentUser = useAuthStore()\r\ndefineProps({\r\n  userItem: {\r\n    type: Object,\r\n    required: true,\r\n  },\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n    <NuxtLink\r\n        :to=\"`/base/users/${userItem.id}`\"\r\n        class=\"transition-all bg-white shadow-cards hover:shadow-hoverCards border border-white hover:border-golden dark:border-none dark:shadow-none dark:bg-gray-700  dark:hover:bg-gray-800 py-6 px-5 rounded-3xl items-center\"\r\n    >\r\n      <div class=\"flex items-center gap-x-2 pb-4 border-b\">\r\n        <div class=\"flex items-center justify-center rounded-md px-1 w-[33px] h-[33px] shadow-md\">\r\n          <img class=\"w-[22px] h-[22px] rounded-full\" :src=\"userItem.photo\" alt=\"logo\">\r\n        </div>\r\n        <h2 class=\"font-bold text-sm break-words\">{{ userItem.first_name + ' ' + userItem.last_name }}</h2>\r\n      </div>\r\n      <div class=\"mt-4 flex flex-col gap-2\">\r\n        <div\r\n            v-if=\"loadCurrentUser.user.role_en === 'admin'\"\r\n            class=\"flex items-start justify-between gap-10 min-h-10\"\r\n        >\r\n          <p class=\"font-bold\">\r\n            {{$t('Роль | Должность')}}:\r\n          </p>\r\n          <p class=\"text-mediumGray text-right\">\r\n            ({{ userItem.role }})\r\n          </p>\r\n        </div>\r\n        <div v-else class=\"flex items-start justify-between gap-10 min-h-10\">\r\n          <p\r\n              class=\"font-bold\"\r\n          >\r\n            {{$t('Должность')}}:\r\n          </p>\r\n          <p\r\n              class=\"text-mediumGray text-right\"\r\n          >\r\n            {{ userItem.position }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex items-center justify-between gap-10 mt-2\">\r\n<!--        <h2-->\r\n<!--            class=\"tracking-widest font-bold\"-->\r\n<!--            v-if=\"['company_admin', 'director', 'vice_director'].includes(loadCurrentUser.user.role_en)\"-->\r\n<!--        >-->\r\n<!--          {{$t('Дата регистрации')}}-->\r\n<!--        </h2>-->\r\n        <p\r\n            class=\"font-bold\"\r\n        >\r\n          {{$t('Дата регистрации')}}:\r\n        </p>\r\n        <p class=\"text-mediumGray\">\r\n          {{ new Date(userItem.created_at).toLocaleString().slice(0, 10) }}\r\n        </p>\r\n      </div>\r\n    </NuxtLink>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>","<script setup>\r\nimport TheFilter from \"~/components/UI/TheFilter.vue\"\r\nimport TheUserStats from \"~/components/User/UserUI/TheUserStats.vue\"\r\nimport {useUserStore} from \"~/stores/users\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\nimport TheModal from \"~/components/UI/TheModal.vue\";\r\nimport TheSearch from \"~/components/UI/TheSearch.vue\";\r\n\r\nimport Paginate from 'vuejs-paginate-next';\r\nimport {useRoute, useRouter} from \"vue-router\";\r\n\r\nconst loadCurrentUser = useAuthStore()\r\nconst userList = useUserStore()\r\nconst phone = ref('')\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst page = ref(Number(route.query.page) || 1);\r\nconst limit = ref(Number(route.query.limit) || 10);\r\nconst pageCount = ref(0)\r\nconst limitItems = ref([5, 10, 20, 30, 50])\r\n\r\nconst params = {\r\n  page: 1,\r\n  limit: 10,\r\n  query: ref(''),\r\n  user_type: 'user-list'\r\n}\r\n\r\ndefineProps({\r\n  userChecked: {\r\n    type: String,\r\n    default: 'user-list'\r\n  },\r\n  showUserInfo: {\r\n    type: Boolean,\r\n    default: false,\r\n  }\r\n})\r\n\r\nconst clickCallback = (pageNum) => {\r\n  page.value = pageNum;\r\n  updateQueryParams();\r\n};\r\n\r\nconst changePageLimit = () => {\r\n  updateQueryParams();\r\n};\r\n\r\nconst searchByName = () => {\r\n  page.value = 1;\r\n  updateQueryParams();\r\n};\r\n\r\nconst updateQueryParams = () => {\r\n  router.push({\r\n    query: {\r\n      page: page.value,\r\n      limit: limit.value,\r\n      itemName: params.query.value || undefined,\r\n    }\r\n  });\r\n};\r\n\r\nwatch(() => route.query, (newQuery) => {\r\n  page.value = Number(newQuery.page) || 1;\r\n  limit.value = Number(newQuery.limit) || 10;\r\n  params.query.value = newQuery.itemName || '';\r\n  userList.loadUserList({page: page.value, limit: limit.value, query: params.query.value})\r\n});\r\n\r\nwatch(() => userList.user, (newValue) => {\r\n  pageCount.value = Math.ceil(userList.user.count / limit.value);\r\n})\r\n\r\nfunction loadPage(page) {\r\n  if (page === '<') {\r\n    if (Number(params.page) > 1) {\r\n      params.page -= 1;\r\n    }\r\n  } else if (page === '>') {\r\n    if (Number(params.page) < userList.user.number_of_pages) {\r\n      params.page = Number(params.page) + 1\r\n    }\r\n  } else {\r\n    if (Number(page) <= userList.user.number_of_pages) {\r\n      params.page = Number(page)\r\n    }\r\n  }\r\n  if (window.innerWidth > 1000) {\r\n    window.scrollTo({top: 600})\r\n  } else if (window.innerWidth < 1000) {\r\n    window.scrollTo({top: 895})\r\n  } else {\r\n    window.scrollTo()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  navigateTo({\r\n    params: {\r\n      page: params.page\r\n    }\r\n  })\r\n})\r\nwatchSyncEffect(() => {\r\n  if (loadCurrentUser.user.role?.name_en === 'admin') {\r\n    userList.loadAdminList({page: params.page, limit: params.limit, query: params.query.value})\r\n  } else if(loadCurrentUser.user.role?.name_en === 'company_admin') {\r\n    userList.loadUserList({\r\n      page: params.page,\r\n      limit: params.limit,\r\n      query: params.query.value\r\n    })\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex flex-col gap-4\">\r\n    <div\r\n        class=\"flex items-center justify-between gap-10 max-[768px]:flex-col max-[768px]:items-start\"\r\n        :class=\"{'flex items-center justify-between' :['company_admin', 'admin'].includes( loadCurrentUser.user.role?.name_en )}\"\r\n    >\r\n      <div class=\"text-lg flex gap-x-10\">\r\n        <p\r\n            class=\"dark:text-white text-3xl font-bold\"\r\n            v-if=\"loadCurrentUser.user.role?.name_en === 'admin'\"\r\n        >\r\n          {{ $t('Список администраторов компании') }}\r\n        </p>\r\n        <p\r\n            class=\"dark:text-white text-3xl font-bold\"\r\n            v-else\r\n        >\r\n          {{ $t('Список всех пользователей компании') }}\r\n        </p>\r\n      </div>\r\n      <div\r\n          :class=\"{'flex items-center justify-evenly' : loadCurrentUser.user.role?.name_en === 'admin', 'w-2/12 max-lg:w-4/12 max-sm:w-full max-sm:mb-6 max-sm:mx-auto' : loadCurrentUser.user.role_en !== 'admin'}\"\r\n      >\r\n        <div class=\"flex gap-x-10\" v-if=\"loadCurrentUser?.user.role === 'Администратор сайта'\">\r\n          <button class=\"p-2 rounded-xl dark:text-white tracking-widest font-bold\"\r\n                  :class=\"{'bg-blueDarkSemiLight text-white' : userChecked === 'user-list'}\"\r\n                  @click=\"userChecked = 'user-list'; userList.loadUserList({page: userList.page, limit: params.limit, user_type: userChecked})\">\r\n            {{ $t('Все пользователи') }}\r\n          </button>\r\n          <button class=\"p-2 rounded-xl dark:text-white tracking-widest font-bold\"\r\n                  :class=\"{'bg-blueDarkSemiLight text-white' : userChecked === 'admin-list'}\"\r\n                  @click=\"userChecked = 'admin-list'; userList.loadAdminList({page: userList.page, limit: params.limit})\">\r\n            {{ $t('Администраторы компаний') }}\r\n          </button>\r\n        </div>\r\n        <UserCreate></UserCreate>\r\n      </div>\r\n    </div>\r\n    <div class=\"w-full mt-4 max-[636px]:mt-0\">\r\n      <div class=\"flex items-center justify-between max-[636px]:flex-col gap-x-10 max-lg:flex-wrap max-md:justify-center\">\r\n        <p class=\"text-mediumGray w-5/12 max-[636px]:w-full\">\r\n          {{ $t('Данная страница хранит информацию о пользователях данной платформы') }}\r\n        </p>\r\n        <div class=\"w-5/12 max-[636px]:w-full max-[636px]:mt-5 flex items-center gap-3 h-10\">\r\n          <TheSearch\r\n              class=\"w-full\"\r\n              v-model:model-value=\"params.query\"\r\n              @search=\"searchByName\"\r\n          />\r\n<!--          @search=\"userList.loadUserList(params)\"-->\r\n<!--          <TheFilter></TheFilter>-->\r\n        </div>\r\n      </div>\r\n      <div class=\"mt-8 grid grid-cols-4 max-[1350px]:grid-cols-2 max-[636px]:grid-cols-1 gap-5 max-md:mt-10\">\r\n          <UserContentList\r\n              v-for=\"userItem in userList?.get_user_list.results\"\r\n              v-if=\"userList?.get_user_list.count > 0\"\r\n              :user-item=\"userItem\"\r\n              class=\"max-md:w-full\"/>\r\n      </div>\r\n      <div v-if=\"!userList?.get_user_list?.results?.length\">\r\n        <p class=\"text-center\">\r\n          {{ $t('По вашему запросу никого не найдено.') }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n<!--    <div class=\"flex flex-wrap justify-center gap-x-4 mt-10\">-->\r\n<!--      <div v-if=\"userList.get_user_list.count > 5\" v-for=\"(page, id) in userList?.get_user_list?.links\" :key=\"id\"-->\r\n<!--           class=\"px-4 py-2 rounded-full cursor-pointer\"-->\r\n<!--           :class=\"{'bg-blue-400 text-white' : page.active, 'bg-gray-200 text-black' : !page.active}\"-->\r\n<!--           @click=\"loadPage(page.label); userList?.loadUserList({page: params.page, limit: params.limit, user_type: loadCurrentUser.user.role_en !== 'admin' ? 'user-list/my-company' : userChecked, query: params.query})\">-->\r\n<!--        {{ page.label }}-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n    <div class=\"w-full flex items-center justify-end border-t gap-4 pr-10 pb-5 pt-5 max-md:pr-3 max-md:flex-col max-md:items-end\">\r\n      <paginate\r\n          :page-count=\"pageCount\"\r\n          :page-range=\"3\"\r\n          :margin-pages=\"2\"\r\n          :click-handler=\"clickCallback\"\r\n          :prev-text=\"'<'\"\r\n          :next-text=\"'>'\"\r\n          :container-class=\"'pagination'\"\r\n          :page-class=\"'page-item'\"\r\n          :force-page=\"page\"\r\n      >\r\n      </paginate>\r\n      <div class=\"flex items-center gap-3\">\r\n        <p>Строк на странице:</p>\r\n        <select\r\n            v-model=\"limit\"\r\n            @change=\"changePageLimit\"\r\n            class=\"w-fit p-2.5 rounded-md border bg-white dark:bg-bgWhite text-black\"\r\n        >\r\n          <option\r\n              v-for=\"item in limitItems\"\r\n              :value=\"item\"\r\n          >\r\n            {{item}}\r\n          </option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport TheTextContent from \"~/components/UI/TheTextContent.vue\";\r\nimport {useAuthStore} from \"~/stores/auth\";\r\n\r\n\r\nconst currentUser = useAuthStore()\r\n\r\nuseSeoMeta({\r\n  title: 'Пользователи',\r\n  description: 'Список пользователей данной платформы'\r\n})\r\n\r\nonMounted(()=> {\r\n  currentUser.loadCurrentUserWorker()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n      <UserContent></UserContent>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderSlot"],"mappings":"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"}